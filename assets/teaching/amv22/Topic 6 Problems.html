<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>AMV 2022-23, Michaelmas: Topic 6 Problems</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="https://samfearn.github.io/latex.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/x-mathjax-config">
  	MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "ams"} } });
  	// I need to wait until MathJax has finished before running the numbering script
  	MathJax.Hub.Register.StartupHook("End",function(){doNumbering()});
  </script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">AMV 2022-23, Michaelmas: Topic 6 Problems</h1>
</header>
<p><span> </span></p>
<p>For the function <span class="math inline">\(f(x,y)=\cos (x+y)\,\exp (x-y)\)</span> calculate <span class="math inline">\(\partial f/\partial x\)</span>, <span class="math inline">\(\partial f/\partial y\)</span>, <span class="math inline">\(\partial ^2f/ \partial x^2\)</span>, <span class="math inline">\(\partial ^2f/ \partial y^2\)</span>, <span class="math inline">\(\partial ^2f/ \partial x \partial y\)</span>, <span class="math inline">\(\partial ^2f/ \partial y \partial x\)</span>. Use your results to show that <span class="math inline">\({\partial ^2f/ \partial x^2}=-{\partial ^2f/
\partial y^2}\)</span> and <span class="math inline">\({\partial ^2f/ \partial x \partial y}={\partial ^2f/
\partial y \partial x}\)</span>.</p>
<p><span class="math inline">\(\partial f/\partial x= -\sin (x+y)\,\exp (x-y) +\cos (x+y)\,\exp (x-y)\)</span>, <span class="math inline">\(\partial f/\partial y=-\sin (x+y)\,\exp (x-y) -\cos (x+y)\,\exp (x-y)\)</span>, <span class="math inline">\(\partial ^2f/ \partial x^2=-2\sin (x+y)\,\exp (x-y)\)</span>, <span class="math inline">\(\partial ^2f/ \partial y^2=2\sin (x+y)\,\exp (x-y)\)</span>, <span class="math inline">\(\partial ^2f/ \partial x \partial y=-2\cos (x+y)\,\exp (x-y)\)</span>, <span class="math inline">\(\partial ^2f/ \partial y \partial x=-2\cos (x+y)\,\exp (x-y)\)</span>. By inspection <span class="math inline">\({\partial ^2f/ \partial x^2}=-{\partial ^2f/ \partial y^2}\)</span> and <span class="math inline">\({\partial ^2f/ \partial x \partial y}={\partial ^2f/ \partial y \partial x}\)</span>.</p>
<p>Let <span class="math inline">\(F(t)\)</span> be the value of the function <span class="math inline">\(f(x,y,z)=\cos (xy)\,z\)</span> restricted to the helix <span class="math inline">\(x=\cos (t)\)</span>, <span class="math inline">\(y=\sin (t)\)</span> , <span class="math inline">\(z=t\)</span> which is parametrised by <span class="math inline">\(t\)</span> and <span class="math inline">\(-\infty &lt;t&lt;\infty\)</span>. Calculate <span class="math inline">\(dF/ dt\)</span> as a function of <span class="math inline">\(t\)</span> (i) directly by substituting the equations of the helix into <span class="math inline">\(f(x,y,z)\)</span> to calculate <span class="math inline">\(F(t)\)</span> as a function of <span class="math inline">\(t\)</span> and then differentiating, and (ii) using the chain rule. Note how similar these approaches are.</p>
<p>(i) Substitution gives <span class="math inline">\(F=\cos (\cos (t) \sin (t))\,t\)</span>. Differentiating: <span class="math inline">\(dF/dt=\sin (\cos (t) \sin (t))\,\sin^2 (t)\,t-\sin (\cos (t) \sin
(t))\,\cos^2 (t)\,t
+\cos (\cos (t) \sin (t))\)</span>. (ii) Using the chain rule: <span class="math display">\[\begin{aligned}
dF/dt&amp;=(\partial f/\partial x)(dx/dt)+(\partial f/\partial y)(dy/dt)+(\partial
f/\partial z)(dz/dt)\\
&amp;=\sin(xy)\,yz\,\sin(t)
-\sin(xy)\,xz\,\cos(t)+
\cos (xy)\\
&amp;=\sin (\cos (t) \sin (t))\,\sin^2 (t)\,t-
\sin (\cos (t) \sin (t))\,\cos^2 (t)\,t
+\cos (\cos (t) \sin (t)).\end{aligned}\]</span></p>
<p>If <span class="math inline">\({\bf a}= \sin 2t\,{\bf e_1}+ e^t\, {\bf e_2}-(t^3-5t)\, {\bf e_3}\)</span>, find<br />
    (a) <span class="math inline">\(d{\bf a}/dt\)</span>,  (b) <span class="math inline">\(||d{\bf a}/dt||\)</span>,   (c) <span class="math inline">\(d^2 {\bf a}/dt^2\)</span>,  (d) <span class="math inline">\(||d^2 {\bf a}/dt^2||\)</span>, all at <span class="math inline">\(t=0\)</span>.</p>
<p>(a) <span class="math inline">\(d{\bf a}/dt =2\cos (2t)\,{\bf e_1}+e^t\,{\bf e_2}-(3t^2-5)\,{\bf e_3}\)</span>. At <span class="math inline">\(t=0\)</span> this is <span class="math inline">\(2\,{\bf e_1}+\,{\bf e_2}+5\,{\bf e_3}\)</span>.   (b) which has length <span class="math inline">\(||d{\bf a}/ dt||=\sqrt{2^2+1^2+5^2}=\sqrt{30}\)</span>,   (c) <span class="math inline">\(d^2 {\bf a}/dt^2=-4\sin (2t)\,{\bf e_1}+e^t\,{\bf e_2}-6t\,{\bf e_3}\)</span>, at <span class="math inline">\(t=0\)</span> this is <span class="math inline">\({\bf e_2}\)</span>,  (d) so <span class="math inline">\(||d^2 {\bf a}/dt^2||=1\)</span> at <span class="math inline">\(t=0\)</span>.</p>
<p>Find a unit vector tangent to the space curve <span class="math inline">\(x=t^3, y=t, z=t^2\)</span> at <span class="math inline">\(t=2\)</span>.</p>
<p>If <span class="math inline">\({\bf x}(t)=t^3{\bf e_1}+t{\bf e_2}+t^2{\bf e_3}\)</span> then <span class="math inline">\(d{\bf x}(t)/dt=
3t^2{\bf e_1}+{\bf e_2}+2t{\bf e_3}\)</span> is parallel to the tangent. At <span class="math inline">\(t=2\)</span> this is <span class="math inline">\(12{\bf e_1}+{\bf e_2}+4{\bf e_3}\)</span> which has length <span class="math inline">\(\sqrt{161}\)</span> so a unit vector in this direction is <span class="math inline">\((12{\bf e_1}+{\bf e_2}+4{\bf e_3})/\sqrt{161}\)</span>.</p>
<p>Use the chain rule to calculate <span class="math inline">\(df/dt\)</span> when <span class="math inline">\(f({\bf x}\,)=\exp  (-||{\bf x}\,||^2)\)</span> is restricted to the curves:<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad {\bf x}\,={\bf e_1}\log t+{\bf e_2}t \log t +{\bf e_3}t\)</span>,</p></li>
<li><p><span class="math inline">\(\qquad (x,y,z)=( \cosh t , \sinh t, 0)\)</span>.</p></li>
</ul>
<p>The chain rule to use here is <span class="math display">\[{df\over dt}={dx\over dt}{\partial f\over \partial x}+{dy\over dt}{\partial f\over \partial y}+{dz\over dt}{\partial f\over \partial z}\,.\]</span> Since <span class="math inline">\(f({\bf x}\,)=\exp  (-||{\bf x}\,||^2)=\exp  (-(x^2+y^2+z^2))\)</span> we have <span class="math display">\[{\partial f\over \partial x}=-2x\,f\,,\quad{\partial f\over \partial y}=-2y\,f\,,\quad{\partial f\over \partial z}=-2z\,f\,.\]</span></p>
<ul>
<li><p><span class="math inline">\(~~ {\bf x}\,={\bf e_1}\log t+{\bf e_2}t \log t +{\bf e_3}t\)</span>, so <span class="math inline">\(d{\bf x}\,/dt={\bf e_1}/ t+{\bf e_2}( \log t+1) +{\bf e_3}\)</span> and <span class="math display">\[{df\over dt}=(1/ t)(-2x)\,f+( \log t+1)(-2y)\,f+(-2z)\,f\]</span> <span class="math display">\[=-2((\log t)/ t+( \log t+1)t \log t+t)\,\exp-((\log t)^2+(t \log t)^2+t^2)
\,.\]</span></p></li>
<li><p><span class="math inline">\(~~ (x,y,z)=( \cosh t , \sinh t, 0)\)</span>, so <span class="math inline">\((dx/dt,dy/dt,dz/dt)=( \sinh t , \cosh t, 0)\)</span> giving <span class="math display">\[\begin{aligned}
{df\over dt}&amp;=(\sinh t )(-2x)\,f+(\cosh t  )(-2y)\,f+0.(-2z)\,f\\
&amp;=-4\sinh t\cosh t\, \exp(-\cosh^2t-\sinh^2t)
=-4\sinh t\cosh t\, \exp(-\cosh 2t)
\,.\end{aligned}\]</span></p></li>
</ul>
<p>Show that the curve <span class="math inline">\(C\)</span>, given as points <span class="math inline">\(\underline{x}(s) = \left(\sin(s/\sqrt{2}),\cos(s/\sqrt{2}),s/\sqrt{2}\right),\)</span> is the arc-length parameterisation of a helix, that is that <span class="math inline">\(\left|\frac{d\underline{x}}{ds}\right|=1 \quad \forall s\)</span>.</p>
<p>To show that the curve is parameterised by arc-length, we need to show that <span class="math inline">\(|\frac{d\underline{x}}{ds}|=1 \quad \forall s\)</span>. We have <span class="math display">\[\frac{d\underline{x}}{ds} = \left(\frac{1}{\sqrt{2}}\cos(s/\sqrt{2}),-\frac{1}{\sqrt{2}}\sin(s/\sqrt{2}),1/\sqrt{2}\right),\]</span> and therefore <span class="math display">\[\begin{aligned}
			\left|\frac{d\underline{x}}{ds}\right| &amp;= \frac{1}{2}\cos^2(s/\sqrt{2}) + \frac{1}{2}\sin^2(s/\sqrt{2}) + \sqrt{\frac{1}{2}} \\
			&amp;= \sqrt{\frac{1}{2} + \frac{1}{2}} \\
			&amp;= 1.
		\end{aligned}\]</span></p>
<p>Describe the curve <span class="math inline">\(\gamma: \underline{x}(t) = (2t+1, t-3, 6 -2t)\)</span>. Find the arc-length parameterisation of <span class="math inline">\(\gamma\)</span>, that is, re-parameterise the curve in terms of a parameter <span class="math inline">\(s\)</span>, such that <span class="math inline">\(\left|\frac{d\underline{x}(s)}{ds}\right| = 1 \ \forall s\)</span>.</p>
<p>We can write <span class="math inline">\(\underline{x}(t) = (1,-3,6) + t(2,1,-2)\)</span>, which we recognise as a parameterisation of a straight line through <span class="math inline">\(\underline{a}=(1,-3,6)\)</span> parallel to <span class="math inline">\(\underline{b}=(2,1,-2)\)</span>.</p>
<p>Before trying to re-parameterise <span class="math inline">\(\gamma\)</span>, we should check whether the curve is <em>already</em> parameterised in terms of arc-length. We have <span class="math display">\[\frac{d\underline{x}}{dt} = (2,1,-2),\]</span> and so <span class="math display">\[\left|\frac{d\underline{x}}{dt}\right| = \sqrt{4+1+4}=3.\]</span> Since this is not equal to 1 <span class="math inline">\(\forall t\)</span>, <span class="math inline">\(t\)</span> does not give the arc length parameterisation of <span class="math inline">\(\gamma\)</span>.</p>
<p>Note that we cannot just multiply <span class="math inline">\(\underline{x}(t)\)</span> by <span class="math inline">\(1/3\)</span>, as although the resulting curve would have tangent vectors of unit length, this would be a straight line through <span class="math inline">\(\underline{a}/3\)</span> rather than through <span class="math inline">\(\underline{a}\)</span>, and so this is a parameterisation of a different curve. However, we can see that if we let <span class="math inline">\(t=s/3\)</span>, then we will find that the resulting tangent vector <span class="math inline">\(\frac{d\underline{x}}{ds}\)</span> is unit length: <span class="math display">\[\begin{aligned}
			\underline{x}(s)&amp;=\left(2\frac{s}{3}+1, \frac{s}{3}-3, 6 -2\frac{s}{3}\right),\\
			\frac{d\underline{x}}{ds}&amp;= \left( \frac{2}{3}, \frac{1}{3}, \frac{-2}{3} \right),\\
			\left|\frac{d\underline{x}}{ds}\right| &amp;= \sqrt{\frac{4}{9} + \frac{1}{9} + \frac{4}{9}} = 1.
		\end{aligned}\]</span></p>
<p>We can see that since the only changes we have made are to the parameter in the curve, this is still a parameterisation of a curve through <span class="math inline">\(\underline{a}\)</span> parallel to <span class="math inline">\(\underline{b}\)</span>. This is therefore the arc-length parameterisation of <span class="math inline">\(\gamma\)</span> that was required. If you choose to study Differential Geometry III, you will learn the general method for parameterising a curve in terms of its arc-length.</p>
<p><strong>Harder:</strong> Let <span><strong>t</strong></span> denote the unit tangent vector to a space curve <span class="math inline">\({\bf a}={\bf a}(s)\)</span> in <span class="math inline">\(\mathbb{R}^3\)</span>, where <span class="math inline">\({\bf a}(s)\)</span> is assumed differentiable, and where <span class="math inline">\(s\)</span> measures the arclength from some fixed point on the curve. Define the unit vector <span class="math inline">\({\bf n}= \frac{1}{\kappa} \frac{d {\bf t}}{ds}\)</span>, where <span class="math inline">\(\kappa\)</span> is a scalar. Also define <span class="math inline">\({\bf b}= {\bf t} \times {\bf n}\)</span> as the <em>unit binormal vector</em> to the space curve.</p>
<p>By considering the derivative of the product <span class="math inline">\({\bf t}.{\bf t}\)</span>, show that the the 3 vectors <span class="math inline">\({\bf t},{\bf n},{\bf b}\)</span> form an orthonormal basis of <span class="math inline">\(\mathbb{R}^3\)</span>.</p>
<p>Hence, prove that <span class="math display">\[\frac{d {\bf b}}{ds}=-\tau {\bf n},~~~{\rm and}~~~
\frac{d {\bf n}}{ds}=\tau {\bf b}- \kappa {\bf t},\]</span> where <span class="math inline">\(\tau\)</span> is some real constant.</p>
<p>These formulae are of fundamental importance in differential geometry. They involve the curvature <span class="math inline">\(\kappa\)</span> and the torsion <span class="math inline">\(\tau\)</span>. The reciprocals of these are the radius of curvature (<span class="math inline">\(\rho=\frac{1}{\kappa}\)</span>) and the radius of torsion (<span class="math inline">\(\sigma =\frac{1}{\tau}\)</span>).</p>
<p><span class="math inline">\({\bf t}\)</span> is a unit tangent, and hence we have <span class="math inline">\({\bf t}.{\bf t} = 1\)</span>. Differentiating this expression with respect to <span class="math inline">\(s\)</span> using the product rule gives <span class="math inline">\(2{\bf t}.\frac{d{\bf t}}{ds} = 0\)</span>, and hence <span class="math inline">\(\frac{d{\bf t}}{ds}\)</span> is orthogonal to <span class="math inline">\({\bf t}\)</span>. Since <span class="math inline">\({\bf n} = \frac{1}{\kappa}\frac{d{\bf t}}{ds}\)</span>, we have <span class="math inline">\({\bf t}\)</span> and <span class="math inline">\({\bf n}\)</span> orthogonal, and since we define <span class="math inline">\({\bf b} = {\bf t} \times {\bf n}\)</span>, <span class="math inline">\({\bf b}\)</span> is orthogonal to the plane containing <span class="math inline">\({\bf t}\)</span> and <span class="math inline">\({\bf n }\)</span>. We have therefore shown that these three vectors form an orthogonal basis of <span class="math inline">\(\mathbb{R}^3\)</span>, and since both <span class="math inline">\({\bf t}\)</span> and <span class="math inline">\({\bf n }\)</span> are orthogonal vectors, then so is their vector product, and hence these vectors form an orthonormal basis of <span class="math inline">\(\mathbb{R}^3\)</span>.</p>
<p>Since these vectors are all mutually orthogonal, alongside the relation <span class="math inline">\({\bf b} = {\bf t} \times {\bf n}\)</span>, we also have <span class="math inline">\({\bf t} = {\bf n} \times {\bf b}\)</span> and <span class="math inline">\({\bf n} = {\bf b} \times {\bf t}\)</span>, as can easily be seen using the right-hand rule.</p>
<p>Now the derivative <span class="math inline">\(\frac{d {\bf b}}{ds}\)</span> is given by <span class="math display">\[\begin{aligned}
		\frac{d {\bf b}}{ds}=
		\frac{d}{ds}\left({\bf t} \times {\bf n}\right)
		&amp;=
		\left(\frac{d {\bf t}}{ds}\right) \times {\bf n} +
		{\bf t} \times \left(\frac{d {\bf n}}{ds}\right) \\
		&amp;= (\kappa {\bf n}) \times {\bf n} + {\bf t} \times \left(\frac{d {\bf n}}{ds}\right) \\
		&amp;= {\bf t} \times \left(\frac{d {\bf n}}{ds}\right),
	\end{aligned}\]</span> since the cross product of <span class="math inline">\({\bf n}\)</span> with itself is 0.</p>
<p>Since <span class="math inline">\({\bf n}\)</span> is also a unit vector, we have <span class="math inline">\({\bf n}.{\bf n} = 1\)</span>, and as before differentiating this with respect to <span class="math inline">\(s\)</span> gives <span class="math inline">\(2{\bf n}.\frac{d{\bf n}}{ds} = 0\)</span>. <span class="math inline">\(\frac{d{\bf n}}{ds}\)</span> is therefore orthogonal to <span class="math inline">\({\bf n}\)</span>, and since <span class="math inline">\({\bf t}\)</span>, <span class="math inline">\({\bf n }\)</span> and <span class="math inline">\({\bf b}\)</span> form a basis of <span class="math inline">\(\mathbb{R}^3\)</span>, we therefore have that <span class="math display">\[\frac{d{\bf n}}{ds} = \sigma {\bf t} + \tau {\bf b}.\]</span></p>
<p>Substituting this into our equation for the derivative of <span class="math inline">\({\bf b}\)</span> gives <span class="math display">\[\begin{aligned}
		\frac{d {\bf b}}{ds} &amp;= {\bf t} \times \left(\sigma {\bf t} + \tau {\bf b}\right) \\
		 &amp;= \tau {\bf t} \times {\bf b} \\
		 &amp;= - \tau {\bf n},
	\end{aligned}\]</span> which is the first of the equations we were asked to show.</p>
<p>Finally, since <span class="math inline">\({\bf n} = {\bf b} \times {\bf t}\)</span>, we have <span class="math display">\[\begin{aligned}
		\frac{d {\bf n}}{ds} &amp;= \frac{d{\bf b}}{ds} \times {\bf t} + {\bf b} \times \frac{d{\bf t}}{ds}, \\
		&amp;= (- \tau {\bf n}) \times {\bf t} + {\bf b} \times (\kappa {\bf n})
		&amp;= \tau {\bf b} - \kappa {\bf t}, 
	\end{aligned}\]</span> which is the second equation we were asked to show.</p>
<p>These are the Serret-Frenet formulas; see e.g. G.E.Hay, Vector and Tensor Analysis.</p>
<p>If <span class="math inline">\(f(x,y)=F(r,\theta)\)</span> with <span class="math inline">\(x=r\cos\theta\)</span> and <span class="math inline">\(y=r\sin\theta\)</span>, use the chain rule to compute <span class="math inline">\({\partial ^2f/ \partial x^2}+{\partial ^2f/ \partial y^2}\)</span> in terms of partial <span class="math inline">\(r\)</span>- and <span class="math inline">\(\theta\)</span>- derivatives of <span class="math inline">\(F\)</span>, and hence find the general rotationally-symmetric solution to <span class="math inline">\({\partial ^2f/ \partial
x^2}+{\partial ^2f/ \partial y^2}=0\)</span> in two dimensions which is non-singular away from the origin.<br />
Suggestion: Begin by writing <span class="math inline">\(\partial r/\partial x\)</span>, <span class="math inline">\(\partial
r/\partial y\)</span>, <span class="math inline">\(\partial \theta/\partial x\)</span> and <span class="math inline">\(\partial
\theta/\partial y\)</span> as functions of <span class="math inline">\(r\)</span> and <span class="math inline">\(\theta\)</span>.</p>
<p>Following the suggestion, and borrowing some of the calculations from section 0.2 of lectures, we have <span class="math display">\[\begin{aligned}
\frac{\partial r}{\partial x} &amp;=\frac{x}{\sqrt{x^2+y^2}}=\cos\theta~;
&amp;\frac{\partial r}{\partial y}
&amp;=\frac{y}{\sqrt{x^2+y^2}}=\sin\theta~,\\[3pt]
%
\frac{\partial \theta}{\partial x}
&amp;=\frac{-y}{x^2+y^2}=-\frac{\sin\theta}{r}~;
&amp;\frac{\partial \theta}{\partial y}
&amp;=\frac{x}{x^2+y^2}=\frac{\cos\theta}{r}~,\end{aligned}\]</span> and so by the chain rule <span class="math display">\[\begin{aligned}
\frac{\partial}{\partial x}
&amp;\,=\,\frac{\partial r}{\partial x}\,\frac{\partial}{\partial r}
+\frac{\partial \theta}{\partial x}\,\frac{\partial}{\partial \theta}
\,=\,\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}~,\\[5pt]
\frac{\partial}{\partial y}
&amp;\,=\,\frac{\partial r}{\partial y}\,\frac{\partial}{\partial r}
+\frac{\partial \theta}{\partial y}\,\frac{\partial}{\partial \theta}
\,=\,\sin\theta\,\frac{\partial}{\partial r}
 +\frac{\cos\theta}{r}\,\frac{\partial}{\partial \theta}~.\end{aligned}\]</span> Hence <span class="math display">\[\frac{\partial^2}{\partial x^2} \,=\,
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)\,,\]</span> or, a little more explicitly <span class="math display">\[\frac{\partial^2f}{\partial x^2} \,=\,
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)F\,.\]</span> Now for a key point – each derivative in this formula acts on <em>everything</em> to its right. So when expanding the brackets on the RHS you’ll get terms like <span class="math display">\[-\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}
\cos\theta\,\frac{\partial}{\partial r} F=
-\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\left(
\cos\theta\,\frac{\partial F}{\partial r} \right) =
-\frac{\sin\theta}{r}\,\left(
-\sin\theta\,\frac{\partial F}{\partial r} 
+\cos\theta\,\frac{\partial^2F}{\partial\theta\partial r} 
\right)\]</span> where the first equality simply emphasises the fact that the <span class="math inline">\(\partial/\partial\theta\)</span> acts on everything to its right, while the second comes from using the product rule for derivatives. With practice you should be able to do these calculations in ‘operator’ notation, not bothering to write <span class="math inline">\(f\)</span> and <span class="math inline">\(F\)</span> explicitly but remembering that they are there implicitly, so the full calculation of <span class="math inline">\(\partial^2/\partial x^2\)</span> would look like <span class="math display">\[\begin{aligned}
\frac{\partial^2}{\partial x^2} 
&amp;\,=\,
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)
\left(\cos\theta\,\frac{\partial}{\partial r}
 -\frac{\sin\theta}{r}\,\frac{\partial}{\partial \theta}\right)\\[4pt]
&amp;\,=\, \cos^2\theta\frac{\partial^2}{\partial r^2}
+\frac{\cos\theta\sin\theta}{r^2}\frac{\partial}{\partial\theta}
-\frac{\cos\theta\sin\theta}{r}\frac{\partial^2}{\partial
r\partial\theta}\\[4pt]
&amp;\qquad
+\frac{\sin^2\theta}{r}\frac{\partial}{\partial r}
-\frac{\cos\theta\sin\theta}{r}\frac{\partial^2}{\partial
r\partial\theta}
+\frac{\sin\theta\cos\theta}{r^2}\frac{\partial}{\partial\theta}
+\frac{\sin^2\theta}{r^2}\frac{\partial^2}{\partial\theta^2}\\[4pt]
&amp;\,=\, \cos^2\theta\frac{\partial^2}{\partial r^2}
+\frac{2\cos\theta\sin\theta}{r^2}\frac{\partial}{\partial\theta}
-\frac{2\cos\theta\sin\theta}{r}\frac{\partial^2}{\partial
r\partial\theta}
+\frac{\sin^2\theta}{r}\frac{\partial}{\partial r}
+\frac{\sin^2\theta}{r^2}\frac{\partial^2}{\partial\theta^2}\end{aligned}\]</span> (Using the equality of the mixed second partial derivatives to gather the terms together.) A similar calculation (exercise!) gives <span class="math display">\[\frac{\partial^2}{\partial y^2} 
\,=\,
\sin^2\theta\frac{\partial^2}{\partial r^2}
-\frac{2\sin\theta\cos\theta}{r^2}\frac{\partial}{\partial\theta}
+\frac{2\sin\theta\cos\theta}{r}\frac{\partial^2}{\partial
r\partial\theta}
+\frac{\cos^2\theta}{r}\frac{\partial}{\partial r}
+\frac{\cos^2\theta}{r^2}\frac{\partial^2}{\partial\theta^2}\]</span> Adding the two, many terms cancel and/or simplify to leave the final result <span class="math display">\[\frac{\partial^2}{\partial x^2} +
\frac{\partial^2}{\partial y^2} 
\,=\,
\frac{\partial^2}{\partial r^2}
+\frac{1}{r}\frac{\partial}{\partial r}
+\frac{1}{r^2}\frac{\partial^2}{\partial\theta^2}\,.\]</span> For the final part: for a rotationally-symmetric solution, <span class="math inline">\(F\)</span> will be independent of <span class="math inline">\(\theta\)</span> and so the equation (which is called Laplace’s equation) simplifies to <span class="math display">\[0=\frac{d^2F}{dr^2}+\frac{1}{r}\frac{dF}{dr}=
\frac{1}{r}\frac{d}{dr}\left(r\frac{dF}{dr}\right)\]</span> (Since <span class="math inline">\(F\)</span> only depends on one variable, there’s no need to use the partial derivative symbol.) This equation is easily solved: <span class="math inline">\(F(r)=C\log r + D\)</span> with <span class="math inline">\(C\)</span> and <span class="math inline">\(D\)</span> two constants, and this is the general rotationally-symmetric solution to Laplace’s equation in two dimensions.</p>
<p>Compute the gradient, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f\)</span>, for the following functions:<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad f(x,y,z)\,=\,\sqrt{x^2+y^2+z^2}\)</span>,</p>
<p><span class="math inline">\(\partial f/\partial x=x/\sqrt{x^2+y^2+z^2}\)</span>, <span class="math inline">\(\partial f/\partial y=y/\sqrt{x^2+y^2+z^2}\)</span>, and <span class="math inline">\(\partial f/\partial z=z/\sqrt{x^2+y^2+z^2}\)</span>, so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=(x{\bf e_1}+y{\bf e_2}+z{\bf e_3})/\sqrt{x^2+y^2+z^2}={\bf x}\,/|{\bf x}\,|\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad f(x,y,z)\,=\,xy + yz + xz\)</span>,</p>
<p><span class="math inline">\(\partial f/\partial x=y+z\)</span>, <span class="math inline">\(\partial f/\partial y=x+z\)</span>, <span class="math inline">\(\partial f/\partial z=y+x\)</span>, so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=(y+z){\bf e_1}+(x+z){\bf e_2}+(x+y){\bf e_3}\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad f(x,y,z)\,=\,1/(x^2+y^2+z^2)\)</span>.</p>
<p><span class="math inline">\(\partial f/\partial x=-2x/(x^2+y^2+z^2)^2\)</span>, <span class="math inline">\(\partial f/\partial y=-2y/(x^2+y^2+z^2)^2\)</span>, and <span class="math inline">\(\partial f/\partial z=-2z/(x^2+y^2+z^2)^2\)</span> so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=-2(x{\bf e_1}+y{\bf e_2}+z{\bf e_3})/(x^2+y^2+z^2)^2=-2{\bf x}\,/|{\bf x}\,|^4\)</span>.</p></li>
</ul>
<p>Show that <span class="math inline">\(\underline{h}(s) = \left(s/\sqrt{2},\cos(s/\sqrt{2}),\sin(s/\sqrt{2})\right)\)</span> is the arc-length parameterisation of a helix, then calculate the directional derivative of the scalar field <span class="math inline">\(f(\underline{x}) = (\log(x^2+y^2+z^2))\)</span> along <span class="math inline">\(\underline{h}(s)\)</span> at <span class="math inline">\(s=\sqrt{2}\pi\)</span>.</p>
<p>To show that the curve is parameterised by arc-length, we need to show that <span class="math inline">\(|\frac{d\underline{h}}{ds}|=1 \quad \forall s\)</span>. We have <span class="math display">\[\frac{d\underline{h}}{ds} = \left(1/\sqrt{2},-\frac{1}{\sqrt{2}}\sin(s/\sqrt{2}),\frac{1}{\sqrt{2}}\cos(s/\sqrt{2})\right),\]</span> and therefore <span class="math display">\[\begin{aligned}
			\left|\frac{d\underline{h}}{ds}\right| &amp;= \sqrt{\frac{1}{2} + \frac{1}{2}\sin^2(s/\sqrt{2}) + \frac{1}{2}\cos^2(s/\sqrt{2})} \\
			&amp;= \sqrt{\frac{1}{2} + \frac{1}{2}} \\
			&amp;= 1
		\end{aligned}\]</span></p>
<p>The directional derivative of <span class="math inline">\(f(\underline{x})\)</span> along <span class="math inline">\(\underline{h}(s)\)</span> at <span class="math inline">\(s=\sqrt{2}\pi\)</span> is then given by <span class="math display">\[\frac{df(\underline{h})}{ds}(\sqrt{2}\pi) = \frac{d\underline{h}}{ds}(\sqrt{2}\pi).\underline{\nabla\mkern-2mu}\mkern 3mu f(\underline{h}(\sqrt{2}\pi)),\]</span> and so we need to calculate the gradient of <span class="math inline">\(f\)</span> and evaluate this at <span class="math inline">\(\underline{h}(\sqrt{2}\pi)\)</span>. We have <span class="math display">\[\begin{aligned}
			\underline{\nabla\mkern-2mu}\mkern 3mu f &amp;= \left( \frac{2x}{x^2 + y^2 + z^2}, \frac{2y}{x^2 + y^2 + z^2}, \frac{2z}{x^2 + y^2 + z^2}\right) \\
			&amp;= \frac{2\underline{x}}{x^2 + y^2 + z^2} \\
			\underline{h}(\sqrt{2}\pi) &amp;= \left( \pi, \cos(\pi), \sin(\pi) \right) \\
			&amp;= \left( \pi, -1, 0 \right),
		\end{aligned}\]</span> and so <span class="math display">\[\begin{aligned}
			\frac{df(\underline{h})}{ds}(\sqrt{2}\pi) &amp;= \frac{d\underline{h}}{ds}(\sqrt{2}\pi).\underline{\nabla\mkern-2mu}\mkern 3mu f(\underline{h}(\sqrt{2}\pi)) \\
			&amp;= \left(\frac{1}{\sqrt{2}},-\frac{1}{\sqrt{2}}\sin(\pi),\frac{1}{\sqrt{2}}\cos(\pi)\right).\underline{\nabla\mkern-2mu}\mkern 3mu f( \pi, -1, 0) \\
			&amp;= \frac{2}{\pi^2 + 1}\left(\frac{1}{\sqrt{2}},0,-\frac{1}{\sqrt{2}}\right) . \left(\pi,-1,0\right) \\
			&amp;= \frac{\pi\sqrt{2}}{(\pi^2+1)}.
		\end{aligned}\]</span></p>
<p>Draw a sketch of the contour plot of the scalar field on <span class="math inline">\(\mathbb{R}^2\)</span> <span class="math inline">\(f(\underline{x}) = xy\)</span>, as well as the gradient of <span class="math inline">\(f\)</span>. What do you notice?</p>
<p>The level sets of <span class="math inline">\(f\)</span> are of the form <span class="math inline">\(xy=c\)</span> for a constant <span class="math inline">\(c\in \mathbb{R}\)</span>. Rearranging this as <span class="math inline">\(y = c/x\)</span>, we can then plot a few of these level sets. This looks as follows:</p>
<p><img src="Contourplot.png" style="width:60.0%" alt="image" /></p>
<p>The gradient of <span class="math inline">\(f\)</span> is given as <span class="math display">\[\begin{aligned}
			\text{grad} f = \underline{\nabla\mkern-2mu}\mkern 3mu f &amp;= \left( \underline{e}_1 \frac{\partial}{\partial x}, \underline{e}_2 \frac{\partial}{\partial y} \right) f \\
			&amp;= \left( y, x \right).
		\end{aligned}\]</span> A plot of this overlaid on to top of the contour plot of <span class="math inline">\(f\)</span> is as follows:</p>
<p><img src="contourgradient.png" style="width:60.0%" alt="image" /></p>
<p>We see that the vectors of the vector field <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f\)</span> are normal to the level sets of <span class="math inline">\(f\)</span>, as we expect.</p>
<p>Let <span class="math inline">\(f,g:\mathbb{R}^3 \to \mathbb{R}\)</span> be scalar fields on <span class="math inline">\(\mathbb{R}^3\)</span>, <span class="math inline">\(h:\mathbb{R}\to \mathbb{R}\)</span> be a function on <span class="math inline">\(\mathbb{R}\)</span> and <span class="math inline">\(a\)</span> be a constant in <span class="math inline">\(\mathbb{R}\)</span>. Show (using the definition of <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu\)</span>) that <span class="math display">\[\underline{\nabla\mkern-2mu}\mkern 3mu (a f(\underline{x})g(\underline{x}) + h(f(\underline{x}))) = a(\underline{\nabla\mkern-2mu}\mkern 3mu f)g + af\underline{\nabla\mkern-2mu}\mkern 3mu g + \underline{\nabla\mkern-2mu}\mkern 3mu f \frac{dh}{df}.\]</span></p>
<p>For this question, we are supposed to use only the definition of the gradient in <span class="math inline">\(\mathbb{R}^3\)</span>, not the properties of the gradient. This is just a slog in keeping track of all the terms. We have <span class="math display">\[\begin{aligned}
			\underline{\nabla\mkern-2mu}\mkern 3mu (a f(\underline{x})g(\underline{x}) + h(f(\underline{x}))) =&amp;\; \underline{e}_1 \frac{\partial}{\partial x}\left( a f(\underline{x})g(\underline{x}) + h(f(\underline{x})) \right) +  \underline{e}_2 \frac{\partial}{\partial y} \left( a f(\underline{x})g(\underline{x}) + h(f(\underline{x})) \right) \\
			&amp;+ \underline{e}_3 \frac{\partial}{\partial z} \left( a f(\underline{x})g(\underline{x}) + h(f(\underline{x}))\right) \\
			=&amp;\; \underline{e}_1 \left( a\frac{\partial}{\partial x} f(\underline{x})g(\underline{x}) + \frac{\partial}{\partial x}h(f(\underline{x})) ) \right)  \qquad \text{by linearity} \\
			&amp;+ \underline{e}_2 \left( a\frac{\partial}{\partial y} f(\underline{x})g(\underline{x}) + \frac{\partial}{\partial y}h(f(\underline{x})) ) \right)  \qquad \text{of partial } \\
			&amp;+ \underline{e}_3 \left( a\frac{\partial}{\partial z} f(\underline{x})g(\underline{x}) + \frac{\partial}{\partial z}h(f(\underline{x})) ) \right) \qquad \text{derivatives} \\
			=&amp;\; \underline{e}_1 \left( a\frac{\partial f(\underline{x})}{\partial x}g(\underline{x}) + af(\underline{x})\frac{\partial g(\underline{x})}{\partial x} + \frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial x} \right) \\
			&amp;+ \underline{e}_2 \left( a\frac{\partial f(\underline{x})}{\partial y}g(\underline{x}) + af(\underline{x})\frac{\partial g(\underline{x})}{\partial y} + \frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial y} \right) \\
			&amp;+ \underline{e}_3 \left( a\frac{\partial f(\underline{x})}{\partial z}g(\underline{x}) + af(\underline{x})\frac{\partial g(\underline{x})}{\partial z} + \frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial z} \right),
		\end{aligned}\]</span> where we used the product rule and chain rule for the partial derivative in each component. We can now recollect the terms to give <span class="math display">\[\begin{aligned}
			\underline{\nabla\mkern-2mu}\mkern 3mu (a f(\underline{x})g(\underline{x}) + h(f(\underline{x}))) =&amp;\; a \left( \underline{e}_1 \frac{\partial f(\underline{x})}{\partial x}g(\underline{x}) + \underline{e}_2 \frac{\partial f(\underline{x})}{\partial y}g(\underline{x}) + \underline{e}_3 \frac{\partial f(\underline{x})}{\partial z}g(\underline{x}) \right) \\
			&amp;+ a\left( \underline{e}_1 f(\underline{x})\frac{\partial g(\underline{x})}{\partial x} + \underline{e}_2 f(\underline{x})\frac{\partial g(\underline{x})}{\partial y} + \underline{e}_3 f(\underline{x})\frac{\partial g(\underline{x})}{\partial z} \right)\\
			&amp;+ \left( \underline{e}_1\frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial x} + \underline{e}_2\frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial y} + \underline{e}_3\frac{\partial h(f)}{\partial f}\frac{\partial f(\underline{x})}{\partial z} \right) \\
			=&amp;\; a(\underline{\nabla\mkern-2mu}\mkern 3mu f)g + af\underline{\nabla\mkern-2mu}\mkern 3mu g + \underline{\nabla\mkern-2mu}\mkern 3mu f \frac{dh}{df}.
		\end{aligned}\]</span></p>
<p>Exam question June 2001 (Section B): You are given the following family of scalar functions labelled by a real parameter <span class="math inline">\(\lambda\)</span> : <span class="math inline">\(\Phi_{\lambda}(x,y,z)=(y-\lambda) {\rm{cos}}x +zxy\)</span>.<br />
</p>
<ul>
<li><p>What are their derivatives in the direction <span class="math inline">\({\bf V}= {{\bf e_1}} + 2( {{\bf e_2}} +{{\bf e_3}})\)</span>?</p>
<p><span class="math inline">\(\nabla\Phi_{\lambda}={\bf e_1}((\lambda-y)\sin x +zy)+{\bf e_2}(\cos x +zx)+{\bf e_3}xy\)</span> and the directional derivative of <span class="math inline">\(\Phi_{\lambda}\)</span> in the direction of <span class="math inline">\({\bf V}\)</span> is <span class="math display">\[{{\bf V}\over |{\bf V}|}\cdot \nabla\Phi_{\lambda}=
{{{\bf e_1}} + 2( {{\bf e_2}} +{{\bf e_3}})\over \sqrt{1+4+4}}\cdot \nabla\Phi_{\lambda}\]</span> <span class="math display">\[={1\over 3}\left((\lambda-y)\sin x +zy+2\cos x +2zx+2xy\right)\]</span></p></li>
<li><p>Which member of the family has its gradient at the point <span class="math inline">\((\frac{\pi}{2},1,1)\)</span> equal to <span class="math inline">\(\frac{\pi}{2}({{\bf e_1}}+{{\bf e_2}}+{{\bf e_3}})\)</span>?</p>
<p><span class="math inline">\(\nabla\Phi_{\lambda}(\frac{\pi}{2},1,1)={\bf e_1}\lambda+{\bf e_2}\pi/2+ {\bf e_3}\pi/2\)</span> so take <span class="math inline">\(\lambda=\pi/2\)</span>.</p></li>
<li><p>Calling this particular member of the family <span class="math inline">\(\Phi_{\lambda_0}\)</span>, in which direction is <span class="math inline">\(\Phi_{\lambda_0}\)</span> decreasing most rapidly when starting at the point <span class="math inline">\((\frac{\pi}{2},1,1)\)</span>?</p>
<p>At this point <span class="math inline">\(\Phi_{\lambda_0}\)</span> <span><em>decreases</em></span> most rapidly in the direction of <span class="math inline">\(-\nabla \Phi_{\lambda_0}=-\frac{\pi}{2}({{\bf e_1}}+{{\bf e_2}}+{{\bf e_3}})\)</span>.</p></li>
</ul>
<p>Exam question June 2002 (Section A): Give the unit vector normal to the surface of equation <span class="math inline">\({x^2}/{a^2}+{y^2}/{b^2}+{z^2}/{c^2}=4\)</span> where <span class="math inline">\(a,b,c\)</span> are three real constants.<br />
What is the unit vector normal to a sphere of radius 2 at the point <span class="math inline">\((x,y,z)=(\sqrt{2},0,\sqrt{2})\)</span>?</p>
<p><span class="math inline">\(\nabla f({\bf x}\,)\)</span> is orthogonal to the level surface <span class="math inline">\(f=const.\)</span> at the point <span class="math inline">\({\bf x}\,\)</span>, so take <span class="math inline">\(f={x^2}/{a^2}+{y^2}/{b^2}+{z^2}/{c^2}\)</span>, then <span class="math inline">\(\nabla f({\bf x}\,)= {\bf e_1}2 x/{a^2}+{\bf e_2}2y/{b^2}+{\bf e_3}2z/{c^2}\)</span> is normal to the surface at <span class="math inline">\({\bf x}\,\)</span>. A unit vector normal to the surface is therefore <span class="math inline">\({\bf n}\equiv\nabla f({\bf x}\,)/|\nabla f({\bf x}\,)|=
({\bf e_1}x/{a^2}+{\bf e_2}y/{b^2}+{\bf e_3}z/{c^2})/\sqrt{x^2/{a^4}+y^2/{b^4}+ z^2/{c^4}
}\)</span><br />
When <span class="math inline">\(a=b=c=1\)</span> the ellipsoid in the first part of the question becomes a sphere of radius <span class="math inline">\(2\)</span>, so substituting this and <span class="math inline">\((x,y,z)=(\sqrt{2},0,\sqrt{2})\)</span> into <span class="math inline">\({\bf n}\)</span> gives <span class="math inline">\(({\bf e_1}\sqrt{2}+{\bf e_3}\sqrt{2})/2\)</span>, which is a unit vector along the radial direction at <span class="math inline">\((x,y,z)=(\sqrt{2},0,\sqrt{2})\)</span>, as it should be.</p>
<p>Find the vector equations of tangent and normal lines in <span class="math inline">\(\mathbb{R}^2\)</span> to the following curves at the given points<br />
</p>
<ul>
<li><p><span class="math inline">\(\quad x^2+2y^2=3\)</span>  at  <span class="math inline">\((1,1)\)</span>,</p>
<p>Set <span class="math inline">\(f(x,y)=x^2+2y^2\)</span> so the curve is the level set <span class="math inline">\(f=3\)</span>. <span class="math inline">\(\nabla f=2x{\bf e_1}+4y{\bf e_2}\)</span> is orthogonal to this. At <span class="math inline">\((1,1)\)</span> <span class="math inline">\(\nabla f=2{\bf e_1}+4{\bf e_2}\)</span>. The line through <span class="math inline">\((1,1)\)</span> parallel to <span class="math inline">\({\bf e_1}+2{\bf e_2}\)</span> has vector parametric equation <span class="math inline">\({\bf x}\,={\bf e_1}+{\bf e_2}+t({\bf e_1}+2{\bf e_2})\)</span>, this is the normal. The line through <span class="math inline">\((1,1)\)</span> orthogonal to <span class="math inline">\({\bf e_1}+2{\bf e_2}\)</span>, i.e. parallel to <span class="math inline">\(2{\bf e_1}-{\bf e_2}\)</span>, has vector parametric equation <span class="math inline">\({\bf x}\,={\bf e_1}+{\bf e_2}+t(2{\bf e_1}-{\bf e_2})\)</span>, this is the tangent.</p></li>
<li><p><span class="math inline">\(\quad xy=1\)</span>  at  <span class="math inline">\((2,1/2)\)</span>,</p>
<p>This time, set <span class="math inline">\(f(x,y)=xy\)</span> so the curve is the level set <span class="math inline">\(f=1\)</span>. <span class="math inline">\(\nabla
f=y{\underline{e}}_1+x{\underline{e}}_2\)</span>, which is equal to <span class="math inline">\(1/2\,{\underline{e}}_1+2\,{\underline{e}}_2\)</span> at <span class="math inline">\((2,1/2)\)</span>. The normal line can therefore be written in vector form as <span class="math inline">\({\underline{x}}=2\,{\underline{e}}_1+1/2\,{\underline{e}}_2+t (1/2\,{\underline{e}}_1+2\,{\underline{e}}_2)\)</span>. Picking a vector orthogonal to <span class="math inline">\(\nabla f\)</span>, say <span class="math inline">\(2\,{\underline{e}}_1-1/2\,{\underline{e}}_2\)</span>, the tangent line can be written as <span class="math inline">\({\underline{x}}=2\,{\underline{e}}_1+1/2\,{\underline{e}}_2+t (2\,{\underline{e}}_1-1/2\,{\underline{e}}_2)\)</span>.</p></li>
<li><p><span class="math inline">\(\quad x^2-y^3=3\)</span>  at  <span class="math inline">\((2,1)\)</span>.</p>
<p>Now <span class="math inline">\(f(x,y)=x^2-y^3\)</span>, the relevant level set is <span class="math inline">\(f=3\)</span>, and <span class="math inline">\(\nabla f=2x{\underline{e}}_1-3y^2{\underline{e}}_2\)</span>. At <span class="math inline">\((2,1)\)</span> this is <span class="math inline">\(4\,{\underline{e}}_1-3\,{\underline{e}}_2\)</span> and so an equation for the normal is <span class="math inline">\({\underline{x}}=2\,{\underline{e}}_1+{\underline{e}}_2+t (4\,{\underline{e}}_1-3\,{\underline{e}}_2)\)</span>, and for the tangent, <span class="math inline">\({\underline{x}}=2\,{\underline{e}}_1+{\underline{e}}_2+t (3\,{\underline{e}}_1+4\,{\underline{e}}_2)\)</span>.</p></li>
</ul>
<p>Exam question June 2003 (Section A): Find the directional derivative of the function <span class="math inline">\(\phi(x,y,z)=xy^2z^3\)</span> at the point <span class="math inline">\(P=(1,1,1)\)</span> in the direction from P towards <span class="math inline">\(Q=(3,1,-1)\)</span>. Starting from P, in which direction is the directional derivative maximum and what is the value of this maximum?</p>
<p>The directional derivative of <span class="math inline">\(\phi\)</span> at P in the direction from P towards <span class="math inline">\({\bf Q}=(3,1,-1)\)</span> is <span class="math inline">\({\bf n}\cdot \nabla \phi ({\bf P})\)</span> where <span class="math inline">\({\bf n}\)</span> is a unit vector in this direction, i.e. <span class="math inline">\({\bf n}=({\bf Q}-{\bf P})/|{\bf Q}-{\bf P}|\)</span>. Now <span class="math inline">\(\nabla \phi={\bf e_1}y^2z^3+{\bf e_2}2xyz^3+{\bf e_3}3xy^2z^2\)</span>, so <span class="math inline">\(\nabla \phi ({\bf
P})
={\bf e_1}+{\bf e_2}2+{\bf e_3}3\)</span>, and <span class="math inline">\({\bf n}=({\bf e_1}2-{\bf e_3}2)/\sqrt 8=({\bf e_1}-{\bf e_3})/\sqrt 2\)</span> so the required directional derivative is <span class="math inline">\(({\bf e_1}+{\bf e_2}2+{\bf e_3}3)\cdot ({\bf e_1}-{\bf e_3}
)/\sqrt 2\)</span> which equals <span class="math inline">\(-\sqrt 2\)</span>. The directional derivative is a maximum in the direction of <span class="math inline">\({\bf e_1}+{\bf e_2}2+{\bf e_3}3\)</span>, i.e. parallel to <span class="math inline">\({\bf e_1}+{\bf e_2}2+{\bf e_3}3\)</span>, and its value then is <span class="math inline">\(|\nabla \phi|=\sqrt{1+4+9}=\sqrt{14}\)</span>.</p>
<p>Exam question June 2002 (Section A): What is the derivative of the scalar function <span class="math inline">\(\phi(x,y,z)=x {\rm cos}z - y\)</span> in the direction <span class="math inline">\(\bf{V}={\bf e_1}+{\bf e_2}+{\bf e_3}\)</span>? What is the gradient at the point <span class="math inline">\((x,y,z)=(0,1,\pi/2)\)</span>? In which direction is <span class="math inline">\(\phi\)</span> increasing the most when moving away from this point?</p>
<p><span class="math inline">\(\nabla\phi(x,y,z)= {\bf e_1}{\rm cos}z-{\bf e_2}-{\bf e_3}x {\rm sin}z\)</span>, so the derivative in the direction of <span class="math inline">\(\bf{V}\)</span> is <span class="math inline">\(|{\bf V}|^{-1}{\bf V}\cdot \nabla\phi(x,y,z)=\sqrt 3^{-1}({\rm cos}z-1 - 
   x {\rm sin}z)\)</span>. At <span class="math inline">\((x,y,z)=(0,1,\pi/2)\)</span> the gradient is <span class="math inline">\(\nabla\phi(x,y,z)=-{\bf e_2}\)</span>. <span class="math inline">\(\phi\)</span> increases the most when moving in the direction of <span class="math inline">\(\nabla\phi(x,y,z)=-{\bf e_2}\)</span> away from this point.</p>
<p>A marble is released from the point <span class="math inline">\((1,1,c-a-b)\)</span> on the elliptic paraboloid defined by <span class="math inline">\(z = c -ax^2 - by^2\)</span>, where <span class="math inline">\(a,b,c\)</span> are positive real numbers and the <span class="math inline">\(z\)</span>-coordinate is vertical. In which direction in the <span class="math inline">\((x,y)\)</span> plane does the marble begin to roll?</p>
<p>Here <span class="math inline">\(z=f(x,y)\)</span> is the height of the marble, and this decreases the fastest in the direction of <span class="math inline">\(-\nabla f=2ax{\bf e_1}+2by{\bf e_2}=2a{\bf e_1}+2b{\bf e_2}\)</span> at <span class="math inline">\((1,1,c-a-b)\)</span>.</p>
<p>In which direction does the function <span class="math inline">\(f(x,y)= x^2 -y^2\)</span> increase fastest at the points<br />
(a)  <span class="math inline">\((1,0)\)</span> ,  (b)  <span class="math inline">\((-1,0)\)</span> ,  (c)  <span class="math inline">\((2,1)\)</span> ? Illustrate with a sketch.</p>
<p><span class="math inline">\(f\)</span> increases the fastest in the direction of its gradient <span class="math inline">\(\nabla f={\bf e_1}
2x-{\bf e_2}2y\)</span>. At (a) <span class="math inline">\((1,0)\)</span>, <span class="math inline">\(\nabla f=2{\bf e_1}\)</span>, a unit vector in this direction is <span class="math inline">\({\bf e_1}\)</span>, (b) <span class="math inline">\((-1,0)\)</span>, <span class="math inline">\(\nabla f=-2{\bf e_1}\)</span>, a unit vector in this direction is <span class="math inline">\(-{\bf e_1}\)</span>, (c) <span class="math inline">\((2,1)\)</span>, <span class="math inline">\(\nabla f=4{\bf e_1}-2{\bf e_2}\)</span> a unit vector in this direction is <span class="math inline">\((2{\bf e_1}-{\bf e_2})/\sqrt{5}\)</span>.</p>
<p>Let <span class="math inline">\(f(x,y) = {({x^2 - y^2})/ ({x^2 + y^2})}\)</span>.<br />
</p>
<ul>
<li><p>In which direction is the directional derivative of <span class="math inline">\(f\)</span> at <span class="math inline">\((1,1)\)</span> equal to zero?</p>
<p>We have <span class="math inline">\(f(x,y) =1-2y^2/ ({x^2 + y^2}) =
 2x^2/ ({x^2 + y^2})-1\)</span> so <span class="math display">\[{\partial f\over\partial x}={\partial \over\partial x}(1-2y^2/ ({x^2 +
y^2}))= 4xy^2/ ({x^2 + y^2})^2\]</span> and <span class="math display">\[{\partial f\over\partial y}={\partial \over\partial y}(2x^2/ ({x^2 +
y^2})-1)
=-4x^2y/ ({x^2 + y^2})^2\]</span> So at <span class="math inline">\((1,1)\)</span> <span class="math inline">\(\nabla f={\bf e_1}-{\bf e_2}\)</span>. The directional derivative in the direction of the unit vector <span class="math inline">\(\bf n\)</span> is <span class="math inline">\({\bf n}\cdot \nabla f\)</span>, which vanishes when <span class="math inline">\(\bf n\)</span> and <span class="math inline">\(\nabla f\)</span> are perpendicular, i.e. when <span class="math inline">\({\bf
n}=\pm({\bf e_1}+{\bf e_2})/\sqrt{2}\)</span>.</p></li>
<li><p>What about at an arbitrary point <span class="math inline">\((x_0, y_0)\)</span> in the first quadrant?</p>
<p>At <span class="math inline">\((x_0, y_0)\)</span> <span class="math inline">\(\nabla f=4x_0y_0(y_0{\bf e_1}-x_0{\bf e_2})/({x_0^2 + y_0^2})^2\)</span> which is perpendicular to <span class="math inline">\({\bf n}=\pm(x_0{\bf e_1}+y_0{\bf e_2})/\sqrt{x_0^2 + y_0^2}\)</span></p></li>
<li><p>Describe the level curves of <span class="math inline">\(f\)</span> and discuss them in the light of the result in (b).</p>
<p>The level curves are orthogonal to <span class="math inline">\(\nabla f\)</span>, and so tangent to <span class="math inline">\(\bf n\)</span>. They are thus straight lines through the origin.</p></li>
</ul>
<p>Compute the divergence, <span class="math inline">\(\nabla \cdot {\bf A}\)</span>, of the following vector fields:<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, yz{\bf e_1}+ xz {\bf e_2}+ xy {\bf e_3}\)</span>,</p>
<p><span class="math display">\[\nabla \cdot {\bf A}=
{\partial (yz )\over \partial  x}+{\partial (xz )\over \partial  y}+{\partial (xy )\over \partial  z}=
0+0+0=0\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, (x^2 + y^2 + z^2)\,  ( 3{\bf e_1}+ 4 {\bf e_2}+ 5{\bf e_3})\)</span>,</p>
<p><span class="math display">\[\nabla \cdot {\bf A}=
{\partial (3(x^2 + y^2 + z^2) )\over \partial  x}+{\partial (4(x^2 + y^2 + z^2) )\over \partial  y}+{\partial (5(x^2 + y^2 + z^2) )\over \partial  z}=
6x+8y+10z\,.\]</span> Alternatively write <span class="math inline">\({\bf A}=| {\bf x}\,|^2 {\bf B}\)</span> with <span class="math inline">\({\bf B}=3{\bf e_1}+ 4 {\bf e_2}+ 5{\bf e_3}\)</span> a constant vector and use <span class="math inline">\(\nabla \cdot (| {\bf x}\,|^2 {\bf B})=(\nabla (| {\bf x}\,
|^2))\cdot{\bf B}+| {\bf x}\,|^2\nabla \cdot {\bf B}\)</span> with <span class="math display">\[\nabla (| {\bf x}\,|^2))=
{\bf e_1}{\partial (x^2+y^2+z^2)\over \partial  x}+{\bf e_2}{\partial (x^2+y^2+z^2)\over
\partial  y}
+{\bf e_3}{\partial (x^2+y^2+z^2)\over \partial  z}\]</span> <span class="math display">\[={\bf e_1}2x+{\bf e_2}2y +{\bf e_3}2z=2{\bf x}\,\]</span> and <span class="math inline">\(\nabla \cdot {\bf B}=0\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, (x+y){\bf e_1}+ (y+z) {\bf e_2}+ (z+x) {\bf e_3}\)</span>.</p>
<p><span class="math display">\[\nabla \cdot {\bf A}=
{\partial (x+y )\over \partial  x}+{\partial (y+z )\over \partial  y}+{\partial (z+x )\over \partial  z}=
1+1+1=3\,.\]</span></p></li>
</ul>
<p>Compute the curl, <span class="math inline">\(\nabla \times{\bf A}\)</span>, of each of the vector fields, <span class="math inline">\({\bf A}\)</span>, in the previous question.</p>
<ul>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, yz{\bf e_1}+ xz {\bf e_2}+ xy {\bf e_3}\)</span>,</p>
<p><span class="math display">\[\nabla \times{\bf A}=
{\bf e_1}\left({\partial (xy )\over \partial  y}-{\partial (xz )\over \partial  z}\right)
+{\bf e_2}\left({\partial (yz )\over \partial  z}-{\partial (xy )\over \partial  x}\right)
+{\bf e_3}\left({\partial (xz )\over \partial  x}-{\partial (yz )\over \partial  y}\right)\]</span> <span class="math display">\[={\bf e_1}(x-x)+{\bf e_2}(y-y)+{\bf e_3}(z-z)={\bf 0}\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, (x^2 + y^2 + z^2)\,  ( 3{\bf e_1}+ 4 {\bf e_2}+ 5{\bf e_3})\)</span>,</p>
<p><span class="math display">\[\nabla \times{\bf A}=
{\bf e_1}\left({\partial (5(x^2 + y^2 + z^2) )\over \partial  y}-{\partial (4(x^2 + y^2 + z^2) )\over \partial  z}\right)\]</span> <span class="math display">\[+{\bf e_2}\left({\partial (3(x^2 + y^2 + z^2) )\over \partial  z}-{\partial (5(x^2 + y^2 + z^2) )\over \partial  x}\right)\]</span> <span class="math display">\[+{\bf e_3}\left({\partial (4(x^2 + y^2 + z^2) )\over \partial  x}-{\partial (3(x^2 + y^2 + z^2) )\over \partial  y}\right)\]</span> <span class="math display">\[={\bf e_1}(10y-8z)+{\bf e_2}(6z-10x)+{\bf e_3}(8x-6y)
\,.\]</span> Alternatively write <span class="math inline">\({\bf A}=| {\bf x}\,|^2 {\bf B}\)</span> with <span class="math inline">\({\bf B}=3{\bf e_1}+ 4 {\bf e_2}+ 5{\bf e_3}\)</span> a constant vector and use <span class="math inline">\(\nabla \times(| {\bf x}\,|^2 {\bf B})=(\nabla (| {\bf x}\,|^2))\times{\bf B}+| {\bf x}\,|^2\nabla \times{\bf B}\)</span> with <span class="math inline">\(\nabla (| {\bf x}\,|^2))=2{\bf x}\,\)</span> and <span class="math inline">\(\nabla \times{\bf B}=0\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad {\bf A}(x,y,z)\,=\, (x+y){\bf e_1}+ (y+z) {\bf e_2}+ (z+x) {\bf e_3}\)</span>.</p>
<p><span class="math display">\[\nabla \times{\bf A}=\]</span> <span class="math display">\[{\bf e_1}\left({\partial (z+x )\over \partial  y}-{\partial (y+z )\over \partial  z}\right)
+{\bf e_2}\left({\partial (x+y )\over \partial  z}-{\partial (z+x )\over \partial  x}\right)
+{\bf e_3}\left({\partial (y+z )\over \partial  x}-{\partial (x+y )\over \partial  y}\right)\]</span> <span class="math display">\[={\bf e_1}(0-1)+{\bf e_2}(0-1)+{\bf e_3}(0-1)=-({\bf e_1}+{\bf e_2}+{\bf e_3})\,.\]</span></p></li>
</ul>
<p>If <span class="math inline">\(f(r)\)</span> is a differentiable function of <span class="math inline">\(r=|{\bf x}\,|\)</span>, for <span class="math inline">\({\bf x}\,\in\mathbb{R}^n,\ r\ne0,\)</span> show that<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad {\rm grad}\,f(r)\,=\,f&#39;(r)\, {\bf x}\,/r\)</span>,</p>
<p><span class="math display">\[{\rm grad}\,f(r)={\bf e_1}{\partial f(r)\over \partial  x}+{\bf e_2}{\partial f(r)\over \partial  y}
+{\bf e_3}{\partial f(r)\over \partial  z}\]</span> <span class="math display">\[={\bf e_1}{df\over dr}{\partial r\over \partial  x}+{\bf e_2}{df\over dr}{\partial r\over \partial  y}
+{\bf e_3}{df\over dr}{\partial r\over \partial  z}\,.\]</span> Now <span class="math inline">\(r=\sqrt{x^2+y^2+z^2}\)</span> so <span class="math display">\[{\partial r\over \partial  x}={1\over 2} {2x\over r}={x\over r}\]</span> and similarly <span class="math display">\[{\partial r\over \partial  y}={y\over r}\,,\quad {\partial r\over \partial  z}={z\over r}\]</span> so <span class="math display">\[{\rm grad}\,f(r)={df\over dr}\left({\bf e_1}{x\over r}+{\bf e_2}{y\over r}+{\bf e_3}{z\over
r}\right)={f&#39;(r)}{\bf x}\,/r\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\,[ f(r) {\bf x}\,]\,=\,0\)</span> , where now we let <span class="math inline">\(n=3\)</span>.</p>
<p>Using <span class="math inline">\({\rm curl}\,(f {\bf V})=(\nabla f)\times{\bf V}+f{\rm curl}\,{\bf V}\)</span>, the result to part (a) and <span class="math display">\[{\rm curl}\,{\bf x}\,={\bf e_1}\left({\partial z \over \partial  y}-{\partial y \over \partial  z}\right)
+{\bf e_2}\left({\partial x \over \partial  z}-{\partial z \over \partial  x}\right)
+{\bf e_3}\left({\partial y \over \partial  x}-{\partial x \over \partial  y}\right)={\bf 0}\,,\]</span> gives <span class="math inline">\({\rm curl}\,(f {{\bf x}\,})=(\nabla f)\times{{\bf x}\,}+f{\rm curl}\,{{\bf x}\,}=f&#39;(r){{\bf x}\,\over r}\times{{\bf x}\,}+{\bf 0}={\bf 0}\)</span> since <span class="math inline">\({\bf x}\,\times{\bf x}\,={\bf 0}\)</span>.</p></li>
</ul>
<p><span id="vecresults" label="vecresults">[vecresults]</span> Let <span class="math inline">\({\bf x}\,\)</span> be the position vector in three dimensions, with <span class="math inline">\(r=|{\bf x}\,|\)</span>, and let <span class="math inline">\(\bf a\)</span> be a constant vector. Show that</p>
<ul>
<li><p><span class="math inline">\(\qquad  {\rm div}\,{\bf x}\,\,=\,3\)</span>,</p>
<p><span class="math display">\[\nabla \cdot {\bf x}\,=
{\partial x \over \partial  x}+{\partial y \over \partial  y}+{\partial z \over \partial  z}=
1+1+1=3\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\,{\bf x}\,\,=0\)</span>,</p>
<p><br />
<span class="math display">\[{\rm curl}\,{\bf x}\,=
{\bf e_1}\left({\partial z \over \partial  y}-{\partial y \over \partial  z}\right)
+{\bf e_2}\left({\partial x \over \partial  z}-{\partial z \over \partial  x}\right)
+{\bf e_3}\left({\partial y \over \partial  x}-{\partial x \over \partial  y}\right)
={\bf 0}\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm grad}\,r\,=\,{\bf x}\,/r\)</span>,</p>
<p><br />
<span class="math display">\[{\partial r\over \partial  x}={1\over 2} {2x\over r}={x\over r}
\,,\quad {\partial r\over \partial  y}={y\over r}\,,\quad {\partial r\over \partial  z}={z\over r}\]</span> so <span class="math display">\[\qquad {\rm grad}\,r\,=\,{\bf e_1}x/r+{\bf e_2}y/r +{\bf e_3}z/r=\,{\bf x}\,/r\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm div}\,(r^n {\bf x}\,)\,=\,(n+3)\, r^n\)</span>,</p>
<p>Use <span class="math inline">\({\rm div}\,(f{\bf V})=(\nabla f)\cdot {\bf V}+f{\rm div}\,{\bf V}\)</span> with <span class="math inline">\(f({\bf x}\,)=r^n\)</span> so that using 21 (a) <span class="math inline">\(\nabla f=nr^{n-1}{\bf x}\,/r=nr^{n-2}{\bf x}\,\)</span> and <span class="math inline">\({\bf V}={\bf x}\,\)</span> so <span class="math display">\[{\rm div}\,(r^n {\bf x}\,)\,=nr^{n-2}{\bf x}\,\cdot{\bf x}\,
+r^n{\rm div}\,{\bf x}\,=nr^n+3r^n=(n+3)r^n\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm grad}\,({\bf a}\cdot {\bf x}\,)\,=\,{\bf a}\)</span>,</p>
<p><span class="math inline">\({\bf a}\cdot {\bf x}\,=a_1x+a_2y+a_3z\)</span> so <span class="math display">\[{\partial ({\bf a}\cdot {\bf x}\,)\over \partial  x}=a_1,\quad{\partial ({\bf a}\cdot {\bf x}\,)\over \partial  y}=a_2,\quad{\partial ({\bf a}\cdot {\bf x}\,)\over \partial  z}=a_3\]</span> hence <span class="math inline">\({\rm grad}\,({\bf a}\cdot {\bf x}\,)\,=\, a_1{\bf e_1}+a_2{\bf e_2}+a_3{\bf e_3}\,= \,{\bf a}\,.\)</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm div}\,( {\bf a}\times{\bf x}\,)\,=0\)</span>,</p>
<p><span class="math inline">\({\bf a}\times{\bf x}\,={\bf e_1}(a_2z-a_3y)+{\bf e_2}(a_3 x-a_1z)+{\bf e_3}(a_1y-a_2x)\)</span> so <span class="math display">\[{\rm div}\,( {\bf a}\times{\bf x}\,)\,={\partial (a_2z-a_3y)\over \partial x }+{\partial
(a_3 x-a_1z)\over \partial  y}+{\partial (a_1y-a_2x)\over \partial  z}=0\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\,({\bf a}\times{\bf x}\,)\,=\,2\,{\bf a}\)</span>,</p>
<p><span class="math display">\[{\rm curl}\,({\bf a}\times{\bf x}\,)={\bf e_1}\left({\partial (a_1y-a_2x )\over \partial
y}-{\partial (a_3 x-a_1z )\over \partial  z}\right)\]</span> <span class="math display">\[+{\bf e_2}\left({\partial (a_2z-a_3y )\over \partial  z}-{\partial (a_1y-a_2x
)\over \partial  x}\right)
+{\bf e_3}\left({\partial (a_3 x-a_1z )\over \partial  x}-{\partial (a_2z-a_3y
)\over \partial  y}\right)\]</span> <span class="math display">\[={\bf e_1}(a_1+a_1)+{\bf e_2}(a_2+a_2)+{\bf e_3}(a_3+a_3)=2{\bf a}\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\,( r^2 {\bf a})\,=\,2\, ({\bf x}\,\times{\bf a})\)</span>,</p>
<p>Use <span class="math inline">\({\rm curl}\,(f{\bf V})=({\rm grad}\,f)\times{\bf V}+f{\rm curl}\,{\bf V}\)</span> with <span class="math inline">\(f=r^2=|{\bf x}\,|^2\)</span> and <span class="math inline">\(\nabla (| {\bf x}\,|^2)=2{\bf x}\,\)</span> so that <span class="math inline">\({\rm curl}\,( r^2 {\bf a})\,=2{\bf x}\,\times{\bf a}+r^2{\rm curl}\,
{\bf a}=2{\bf x}\,\times{\bf a}\)</span> .</p></li>
<li><p><span class="math inline">\(\qquad\nabla^2 (1/r)\,=\,0\;\; ,\quad {\rm if}\; r\ne 0\)</span>,</p>
<p><span class="math inline">\(\nabla^2 (1/r)\,\equiv\nabla\cdot\nabla (1/r)\)</span>. From 21 (a) with <span class="math inline">\(f=1/r\)</span> we have <span class="math inline">\(\nabla (1/r)=-{\bf x}\,/r^3\)</span>. Then from 22 (d) <span class="math inline">\(\nabla\cdot ({\bf x}\,/r^3)=(-3+3)/r^3=0\)</span> so <span class="math inline">\(\nabla^2 (1/r)\,=\,0\)</span>, but this is only valid for <span class="math inline">\(r\neq 0\)</span> since the calculation involves division by <span class="math inline">\(r\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad \nabla^2 (\log r)\,=\,1/r^2\, ,\quad {\rm if}\; r\ne 0\)</span>,</p>
<p><span class="math inline">\(\nabla^2 (\log r )\,\equiv\nabla\cdot\nabla (\log r)\)</span>. From 21 (a) with <span class="math inline">\(f=\log r\)</span>, <span class="math inline">\(\nabla (\log r)={\bf x}\,/r^2\)</span>. From 22 (d) <span class="math inline">\(\nabla\cdot ({\bf x}\,
/r^2)=(-2+3)/r^3=1/r^2\)</span> so <span class="math inline">\(\nabla^2 (\log r)\,=\,1/r^2\)</span>, but as in part (i) this is only valid for <span class="math inline">\(r\neq 0\)</span> since the calculation involves division by <span class="math inline">\(r\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad {\rm div}\,[ ({\bf a}\cdot {\bf x}\,) {\bf x}\,]\,=\,4\, {\bf a}\cdot {\bf x}\,\)</span>,</p>
<p>Using <span class="math inline">\({\rm div}\,f {\bf V}=(\nabla f)\cdot {\bf V}+f{\rm div}\,{\bf V}\)</span>, with <span class="math inline">\(f={\bf a}
\cdot {\bf x}\,\)</span> so <span class="math inline">\(\nabla f={\bf a}\)</span> from part (e) and <span class="math inline">\({\bf V}={\bf x}\,\)</span> so <span class="math inline">\({\rm div}\,{\bf x}\,=3\)</span> from part (a) hence <span class="math inline">\({\rm div}\,[ ({\bf a}\cdot {\bf x}\,) {\bf x}\,]\,={\bf a}\cdot{\bf x}\,+{\bf a}\cdot{\bf x}\,3=4{\bf a}\cdot{\bf x}\,\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad {\rm div}\,[ {\bf x}\,\times( {\bf x}\,\times{\bf a})]\,=\,2\, {\bf a}\cdot {\bf x}\,\)</span>,</p>
<p>Use <span class="math inline">\({\bf x}\,\times( {\bf x}\,\times{\bf a})={\bf x}\,({\bf x}\,\cdot{\bf a})-{\bf a}({\bf x}\,\cdot{\bf x}\,)\)</span> and then from part (k) use <span class="math inline">\({\rm div}\,({\bf x}\,({\bf x}\,\cdot{\bf a}))=4{\bf x}\,\cdot{\bf a}\)</span> and <span class="math display">\[\nabla \cdot (| {\bf x}\,|^2 {\bf a})=(\nabla (| {\bf x}\,|^2))\cdot{\bf a}+
| {\bf x}\,|^2\nabla \cdot {\bf a}=2{\bf x}\,\cdot{\bf a}\]</span> so <span class="math display">\[{\rm div}\,[ {\bf x}\,\times( {\bf x}\,\times{\bf a})]\,={\rm div}\,({\bf x}\,({\bf x}\,\cdot{\bf a}))-\nabla \cdot (| {\bf x}\,|^2 {\bf a})=
4{\bf x}\,\cdot{\bf a}-2{\bf x}\,\cdot{\bf a}\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}/ {r^3}} \right)\,=
\, 3\, {{({\bf a}\cdot {\bf x}\,) {\bf x}\,}/{r^5}}\,-\,{{{\bf a}}/{r^3}}\)</span>,</p>
<p><span class="math display">\[{\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}/ {r^3}} \right)\,=\left({\rm curl}\,\left( {{{\bf a}
\times{\bf x}\,}} \right)\right)/ {r^3}+
(\nabla {r^{-3}})\times({\bf a}\times{\bf x}\,)\]</span> Using part (g) <span class="math inline">\({\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}} \right)=2{\bf a}\)</span> together with <span class="math inline">\({\bf x}\,\times({\bf a}\times{\bf x}\,)={\bf a}({\bf x}\,\cdot{\bf x}\,)-{\bf x}\,({\bf a}\cdot{\bf x}\,)\)</span> and <span class="math inline">\(\nabla {r^{-3}}=-3{\bf x}\,/r^5\)</span> (from 21 (a)) gives <span class="math display">\[{\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}/ {r^3}} \right)\,=
{2{\bf a}\over r^3}-{3\over r^5}({\bf a}r^2-{\bf x}\,({\bf a}\cdot{\bf x}\,))=
\, 3\, {{({\bf a}\cdot {\bf x}\,) {\bf x}\,}/{r^5}}\,-\,{{{\bf a}}/{r^3}}\,.\]</span></p></li>
<li><p>Exam question June 2002 (Section A): calculate the curl of <span class="math inline">\(({\bf a}\cdot {\bf x}\,)~ {\bf x}\,\)</span>.</p>
<p><br />
<span class="math display">\[{\rm curl}\,(({\bf a}\cdot {\bf x}\,)~ {\bf x}\,)=(\nabla ({\bf a}\cdot {\bf x}\,))\times{\bf x}\,+{\bf a}\cdot {\bf x}\,{\rm curl}\,{\bf x}\,={\bf a}\times{\bf x}\,\]</span> using part parts (e) and (b).</p></li>
</ul>
<p>If <span class="math inline">\({\bf x}\,\)</span> is the position vector, <span class="math inline">\({\bf x}\,= x {\bf e_1}+ y {\bf e_2}+ z {\bf e_3}\)</span>, <span class="math inline">\({\bf a}\)</span> is a constant vector, <span class="math inline">\({\bf F}=({\bf a}\cdot {\bf x}\,)\, {\bf x}\,\)</span> and <span class="math inline">\({\bf G}= r^2  {\bf a}\)</span>, (with <span class="math inline">\(r=|{\bf x}\,|\)</span>), show that<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad {\rm div}\, {\bf F}= 2\;  {\rm div}\, {\bf G}= 4\,
{\bf a}\cdot{\bf x}\,\)</span>,</p>
<p>Using the product rule <span class="math display">\[{\rm div}\, {\bf F}=\nabla\cdot (({\bf a}\cdot {\bf x}\,)\, {\bf x}\,)
=(\nabla ({\bf a}\cdot {\bf x}\,))\cdot {\bf x}\,+({\bf a}\cdot {\bf x}\,)\,\nabla\cdot {\bf x}\,\]</span> As in 24 (e), <span class="math inline">\({\bf a}\cdot {\bf x}\,=a_1x+a_2y+a_3z\)</span> so <span class="math display">\[{\partial ({\bf a}\cdot {\bf x}\,)\over \partial  x}=a_1,\quad{\partial ({\bf a}\cdot {\bf x}\,
)\over \partial  y}=a_2,\quad{\partial ({\bf a}\cdot {\bf x}\,)\over \partial
z}=a_3\]</span> hence <span class="math inline">\({\rm grad}\,({\bf a}\cdot {\bf x}\,)\,=\, a_1{\bf e_1}+a_2{\bf e_2}+a_3{\bf e_3}\,= \,{\bf a}\)</span> and as in 24 (a) <span class="math display">\[\nabla \cdot {\bf x}\,=
{\partial x \over \partial  x}+{\partial y \over \partial  y}+{\partial z
\over \partial  z}= 1+1+1=3\,,\]</span> so <span class="math display">\[{\rm div}\, {\bf F}=\nabla\cdot (({\bf a}\cdot {\bf x}\,)\, {\bf x}\,)
={\bf a}\cdot {\bf x}\,+3{\bf a}\cdot {\bf x}\,=4{\bf a}\cdot {\bf x}\,\,.\]</span> Using the product rule <span class="math display">\[{\rm div}\, {\bf G}=(\nabla (r^2))\cdot{\bf a}+r^2\nabla\cdot{\bf a}\]</span> and <span class="math inline">\(\nabla (| {\bf x}\,|^2)=2{\bf x}\,\)</span>, <span class="math inline">\(\nabla\cdot{\bf a}=0\)</span> so that <span class="math inline">\({\rm div}\, {\bf G}= 2\,
{\bf a}\cdot{\bf x}\,\)</span>.</p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\, {\bf G}= - 2\;  {\rm curl}\, {\bf F}= 2
\, {\bf x}\,\times{\bf a}\)</span>,</p>
<p>Use <span class="math inline">\({\rm curl}\,(f{\bf V})=({\rm grad}\,f)\times{\bf V}+f{\rm curl}\,{\bf V}\)</span> with <span class="math inline">\(f=r^2=|{\bf x}\,|^2\)</span> and <span class="math inline">\(\nabla (| {\bf x}\,|^2)=2{\bf x}\,\)</span> so that <span class="math display">\[{\rm curl}\, {\bf G}={\rm curl}\,( r^2 {\bf a})\,=2{\bf x}\,\times{\bf a}+r^2{\rm curl}\,{\bf a}=2{\bf x}\,\times
{\bf a}\,.\]</span> Now use this product rule with <span class="math inline">\(f={\bf a}\cdot{\bf x}\,\)</span> and <span class="math inline">\({\bf V}={\bf x}\,\)</span> so that <span class="math display">\[\nabla\times(({\bf a}\cdot{\bf x}\,)\,{\bf x}\,)=
(\nabla({\bf a}\cdot{\bf x}\,))\times{\bf x}\,+({\bf a}\cdot{\bf x}\,)\nabla\times{\bf x}\,\]</span> As in 24 (b) <span class="math display">\[{\rm curl}\,{\bf x}\,={\bf e_1}\left({\partial z \over \partial  y}-
{\partial y \over \partial  z}\right)
+{\bf e_2}\left({\partial x \over \partial  z}-{\partial z \over \partial  x}\right)
+{\bf e_3}\left({\partial y \over \partial  x}-{\partial x \over \partial
y}\right)={\bf 0}\,,\]</span> so <span class="math display">\[\nabla\times(({\bf a}\cdot{\bf x}\,)\,{\bf x}\,)={\bf a}\times{\bf x}\,=-{\bf x}\,\times{\bf a}\,.\]</span></p></li>
<li><p><span class="math inline">\(\qquad {\rm div}\,{\rm curl}\, {\bf F}=
{\rm div}\,{\rm curl}\, {\bf G}= 0\)</span>,</p>
<p><span class="math inline">\({\rm div}\,{\rm curl}\, {\bf F}={\rm div}\,({\bf a}\times{\bf x}\,)=0\)</span> as in 24 (f):<br />
<span class="math inline">\({\bf a}\times{\bf x}\,={\bf e_1}(a_2z-a_3y)+{\bf e_2}(a_3 x-a_1z)+{\bf e_3}(a_1y-a_2x)\)</span> so <span class="math display">\[{\rm div}\,( {\bf a}\times{\bf x}\,)\,={\partial (a_2z-a_3y)\over \partial x }+
{\partial (a_3 x-a_1z)\over \partial  y}+
{\partial (a_1y-a_2x)\over \partial  z}=0\,.\]</span> Since <span class="math inline">\({\rm curl}\, {\bf G}= - 2\;  {\rm curl}\, {\bf F}\)</span> this implies that <span class="math inline">\({\rm
div}\,{\rm curl}\, {\bf G}= 0\)</span> .</p></li>
<li><p><span class="math inline">\(\qquad {\rm curl}\, {\rm curl}\, {\bf G}=
-2 \; {\rm curl}\, {\rm curl}\, {\bf F}= -4 \, {\bf a}\)</span>.</p>
<p><span class="math display">\[{\rm curl}\, {\rm curl}\, {\bf G}=
=2{\rm curl}\,({\bf x}\,\times{\bf a})=-4{\bf a}\]</span> using <span class="math inline">\({\bf a}\times{\bf x}\,=-{\bf x}\,\times{\bf a}\)</span> and 22 (g) <span class="math display">\[{\rm curl}\,({\bf a}\times{\bf x}\,)={\bf e_1}\left({\partial (a_1y-a_2x )\over \partial  y}-
{\partial (a_3 x-a_1z )\over \partial  z}\right)\]</span> <span class="math display">\[+{\bf e_2}\left({\partial (a_2z-a_3y )\over \partial  z}-{\partial (a_1y-a_2x )\over \partial  x}\right)
+{\bf e_3}\left({\partial (a_3 x-a_1z )\over \partial  x}-{\partial (a_2z-a_3y )\over \partial  y}\right)\]</span> <span class="math display">\[={\bf e_1}(a_1+a_1)+{\bf e_2}(a_2+a_2)+{\bf e_3}(a_3+a_3)=2{\bf a}\,.\]</span> Since <span class="math inline">\({\rm curl}\, {\bf G}= - 2\;  {\rm curl}\, {\bf F}\)</span> this implies that <span class="math display">\[\qquad {\rm curl}\, {\rm curl}\, {\bf G}=
-2 \; {\rm curl}\, {\rm curl}\, {\bf F}= -4 \, {\bf a}\,.\]</span></p></li>
</ul>
<p>Exam question June 2001 (Section A):<br />
</p>
<ul>
<li><p>Give a representation of the vector function <span class="math inline">\({\bf{A}}(x,y)=y {{\bf e_1}}\)</span> as a collection of arrows in the region of the <span class="math inline">\((x,y)\)</span>-plane bounded by <span class="math inline">\((x_1,y_1)=(-2,2),(x_2,y_2)=(2,2),(x_3,y_3)=(2,-2),(x_4,y_4)=(-2,-2)\)</span>.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="vectorplot1.png" style="width:2in" alt="image" /></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span>The vector field <span class="math inline">\({\bf A}(x,y)\)</span></span></td>
</tr>
</tbody>
</table></li>
<li><p>Calculate the curl of the vector field <span class="math inline">\({\bf{A}}(x,y)=(-y{{\bf e_1}}+x{{\bf e_2}})/(x^2+y^2)\)</span> defined everywhere in the <span class="math inline">\((x,y)\)</span>-plane except at the origin. (You can consider <span class="math inline">\({\bf A}\)</span> to be embedded in three dimensions, independent of <span class="math inline">\(z\)</span> and with zero <span class="math inline">\(z\)</span> component.)</p>
<p><span class="math display">\[\nabla\times{\bf{A}}={\bf e_1}\left({\partial 0\over\partial y}-
{\partial \over\partial z}{x\over
x^2+y^2}\right)+{\bf e_2}\left({\partial \over\partial z}{-y\over x^2+y^2}-
{\partial 0\over\partial x}\right)+
{\bf e_3}\left({\partial \over\partial x}{x\over
x^2+y^2}+{\partial \over\partial y}{y\over
x^2+y^2}\right)\]</span> <span class="math display">\[= {\bf e_3}\left({1\over x^2+y^2}-{2x^2\over (x^2+y^2)^2}  
      +{1\over x^2+y^2}-{2y^2\over (x^2+y^2)^2}
\right)={\underline{0}}\,,\]</span></p></li>
<li><p>Give the unit vector normal to the surface of equation <span class="math inline">\(ax+by=cz\)</span>, where <span class="math inline">\(a,b,c\)</span>, are three real constants.</p>
<p><span class="math inline">\(ax+by=cz\)</span> is the equation of a plane, the general form of which would be <span class="math inline">\({\bf x}\,\cdot{\bf V}=k\)</span> where <span class="math inline">\({\bf V}\)</span> is orthogonal to the plane. Here <span class="math inline">\({\bf
V}=(a,b,-c)\)</span>, so a unit vector normal to the surface is <span class="math inline">\((a/\sqrt{a^2+b^2+c^2},b/\sqrt{a^2+b^2+c^2},-c/\sqrt{a^2+b^2+c^2})\)</span>. Alternatively: in general <span class="math inline">\(\nabla f\)</span> is normal to the level-surface <span class="math inline">\(f=k\)</span>, here <span class="math inline">\(f=ax+by-cz\)</span> so <span class="math inline">\(\nabla f=(a,b,-c)\)</span> and again a unit vector normal to the surface is <span class="math inline">\(\nabla f/|\nabla f|
=(a/\sqrt{a^2+b^2+c^2},b/\sqrt{a^2+b^2+c^2},-c/\sqrt{a^2+b^2+c^2})\)</span>.</p></li>
<li><p>(Slightly modified from exam) Let <span class="math inline">\({{\bf x}\,}\)</span> be the position vector in 3-dimensions and <span class="math inline">\({\bf a}\)</span> be a constant vector. Use the result <span class="math inline">\({{\bf x}\,} \times ({{\bf x}\,} \times {\bf a})={\bf x}\,({\bf x}\,\cdot {\bf a})-{\bf
a}({\bf x}\,\cdot{\bf x}\,)\)</span> to show that <span class="math inline">\({\rm div}~ [~{{\bf x}\,} \times ({{\bf x}\,} \times {\bf a})]=2 {\bf
a}\cdot {{\bf x}\,}\)</span>.</p>
<p>Using <span class="math inline">\({{\bf x}\,} \times ({{\bf x}\,} \times {\bf a})={\bf x}\,({\bf x}\,\cdot {\bf a})-{\bf
a}({\bf x}\,\cdot{\bf x}\,)\)</span>, then <span class="math inline">\({\rm div}~ [~{{\bf x}\,} \times ({{\bf x}\,} \times {\bf a})]={\rm div}~({\bf x}\,({\bf x}\,\cdot {\bf
a})-{\bf a}({\bf x}\,\cdot{\bf x}\,))=(\nabla\cdot{\bf x}\,)({\bf x}\,\cdot {\bf a})+{\bf x}\,\cdot\nabla({\bf x}\,\cdot
{\bf a})
-{\bf a}\cdot\nabla({\bf x}\,\cdot{\bf x}\,)\)</span>. This is <span class="math inline">\(3({\bf x}\,\cdot {\bf a})+({\bf x}\,\cdot {\bf
a})-2({\bf x}\,\cdot {\bf a})=2({\bf x}\,\cdot {\bf a})\)</span></p></li>
</ul>
<p>Let <span class="math inline">\(\underline{v}:\mathbb{R}^3\to\mathbb{R}^3\)</span> be a vector field. Prove the vector identity <span class="math display">\[\underline{v}\times(\underline{\nabla}\times\underline{v}) = \underline{\nabla}(|\underline{v}|^2/2) - (\underline{v}\cdot\underline{\nabla})\underline{v}.\]</span></p>
<p>We compute the curl of <span class="math inline">\(\underline{v}\)</span> as <span class="math display">\[\underline{\nabla}\times\underline{v} = \underline{e}_1(\partial_2 v_3 - \partial_3 v_2) +\underline{e}_2(\partial_3 v_1 - \partial_1 v_3) + \underline{e}_3(\partial_1 v_2 - \partial_2 v_1),\]</span> where we have used the shorthand <span class="math inline">\(\partial_i \equiv \frac{\partial}{\partial x_i}\)</span>. The left hand side of the identity can therefore be written as <span class="math display">\[\begin{aligned}
		\underline{v}\times(\underline{\nabla}\times\underline{v}) =&amp; \quad \underline{e}_1( v_2\left[ \partial_1 v_2 - \partial_2 v_1 \right] - v_3 \left[ \partial_3 v_1 - \partial_1 v_3 \right]) \\
		 &amp; + \underline{e}_2 (v_3 \left[ \partial_2 v_3 - \partial_3 v_2 \right] - v_1 \left[ \partial_1 v_2 - \partial_2 v_1 \right]) \\
		 &amp; + \underline{e}_3 (v_1 \left[ \partial_3 v_1 - \partial_1 v_3 \right] - v_2 \left[ \partial_2 v_3 - \partial_3 v_2 \right]) \\
		 =&amp; \quad \underline{e}_1 ( v_2 \partial_1 v_2 + v_3 \partial_1 v_3 +  v_1 \partial_1 v_1 - v_1 \partial_1 v_1 - v_2 \partial_2 v_1 - v_3 \partial_3 v_1) \\
		 &amp; + \underline{e}_2 ( v_1 \partial_2 v_1 + v_3 \partial_2 v_3 +  v_2 \partial_2 v_2 -  v_2 \partial_2 v_2 - v_1 \partial_1 v_2 - v_3 \partial_3 v_2 ) \\
		 &amp; + \underline{e}_3 ( v_1 \partial_3 v_1 + v_2 \partial_3 v_2 + v_3 \partial_3 v_3 - v_3 \partial_3 v_3 - v_1 \partial_1 v_3 - v_2 \partial_2 v_3) \\
		 =&amp; \quad \underline{e}_1 (\partial_1 |\underline{v}|^2/2 - (\underline{v}\cdot\underline{\nabla})v_1) + \underline{e}_2 (\partial_2 |\underline{v}|^2/2 - (\underline{v}\cdot\underline{\nabla})v_2) \\
		 &amp; + \underline{e}_3 (\partial_3 |\underline{v}|^2/2 - (\underline{v}\cdot\underline{\nabla})v_3) \\
		 =&amp; \quad \underline{\nabla}(|\underline{v}|^2/2) - (\underline{v}\cdot\underline{\nabla}) \underline{v},
	\end{aligned}\]</span> proving the given identity.</p>
<p><span id="vecresultsindex" label="vecresultsindex">[vecresultsindex]</span> Let <span class="math inline">\({\bf x}\,\)</span> be the position vector in three dimensions, with <span class="math inline">\(r=|{\bf x}\,|\)</span>, and let <span class="math inline">\(\bf a\)</span> be a constant vector. Using index notation, show that</p>
<ul>
<li><p><span class="math inline">\(\quad  {\rm div}\,{\bf x}\,\,=\,3\)</span>,</p>
<p><span class="math display">\[{\rm div}\,{\bf x}\,=\frac{\partial x_i}{\partial x_i}=\delta_{ii}=3\,.\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,{\bf x}\,\,=0\)</span>,</p>
<p><span class="math display">\[({\rm curl}\,{\bf x}\,)_i
		=\varepsilon_{ijk}\frac{\partial x_k}{\partial x_j}
		=\varepsilon_{ijk}\delta_{jk}=0\,,\]</span> using the fact that <span class="math inline">\(\varepsilon_{ijk}\)</span> is antisymmetric under swaps of <span class="math inline">\(j\)</span> and <span class="math inline">\(k\)</span> while <span class="math inline">\(\delta_{jk}\)</span> is symmetric.</p></li>
<li><p><span class="math inline">\(\quad {\rm grad}\,r\,=\,{\bf x}\,/r\)</span>,<br />
</p>
<p><span class="math display">\[\begin{aligned}
				({\rm grad}\,r)_i= \frac{\partial}{\partial x_i}r &amp;=	\frac{\partial}{\partial x_i}(x_jx_j)^{1/2} \\
				&amp;= \frac{1}{2}(x_jx_j)^{-1/2}\,\frac{\partial}{\partial x_i} x_k x_k \\
				&amp;= \frac{1}{2}(x_jx_j)^{-1/2}\,(2\delta_{ik}x_k) \\
				&amp;= (x_jx_j)^{-1/2}\,x_i \\
				&amp;= x_i/r\,.
			\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,(r^n {\bf x}\,)\,=\,(n+3)\, r^n\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		{\rm div}\,(r^n{\underline{x}})
		&amp;=\frac{\partial}{\partial x_i}(r^nx_i)
		=(\frac{\partial}{\partial x_i}r^n)x_i
		+r^n(\frac{\partial}{\partial x_i}x_i)
		=nr^{n-1} (\frac{\partial}{\partial x_i}r)x_i
		+r^n\delta_{ii}\\
		&amp;=nr^{n-1}(x_i/r)\,x_i+3r^n
		=nr^n+3r^n=(n+3)r^n.
		\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm grad}\,({\bf a}\cdot {\bf x}\,)\,=\,{\bf a}\)</span>,</p>
<p><span class="math display">\[({\rm grad}\,({\underline{a}}\cdot{\underline{x}}))_i=
		\frac{\partial}{\partial x_i}(a_jx_j)=a_j
		\frac{\partial}{\partial x_i}x_j
		=a_j\delta_{ij}=a_i\,.\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,( {\bf a}\times{\bf x}\,)\,=0\)</span>,</p>
<p><span class="math display">\[{\rm div}\,({\underline{a}}\times{\underline{x}})
		=\frac{\partial}{\partial x_i}(\varepsilon_{ijk}a_jx_k)
		=\varepsilon_{ijk}a_j\delta_{ik}=0\,,\]</span> using the fact that <span class="math inline">\(\varepsilon_{ijk}\)</span> is antisymmetric under swaps of <span class="math inline">\(i\)</span> and <span class="math inline">\(k\)</span> while <span class="math inline">\(\delta_{ik}\)</span> is symmetric.</p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,({\bf a}\times{\bf x}\,)\,=\,2\,{\bf a}\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		({\rm curl}\,({\underline{a}}\times{\underline{x}}))_i
		&amp;
		= \varepsilon_{ijk}\frac{\partial}{\partial x_j}(\varepsilon_{klm}a_lx_m)
		= \varepsilon_{ijk} \varepsilon_{klm}
		a_l \frac{\partial}{\partial x_j} x_m \\
		&amp;
		=
		(\delta_{il}\delta_{jm}- \delta_{im}\delta_{jl})
		a_l \frac{\partial}{\partial x_j} x_m 
		=
		(\delta_{il}\delta_{jm}- \delta_{im}\delta_{jl})
		a_l \delta_{jm}\\
		&amp;=a_i\delta_{jj}-\delta_{ij}a_j=3a_i-a_i=2a_i\,.
		\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,( r^2 {\bf a})\,=\,2\, ({\bf x}\,\times{\bf a})\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		({\rm curl}\,( r^2 {\bf a}))_i
		&amp;=\varepsilon_{ijk}\frac{\partial}{\partial x_j}(r^2{\bf a}_k)
		=\varepsilon_{ijk}\Bigl(\frac{\partial}{\partial x_j}r^2\Bigr){\bf a}_k\\[2pt]
		&amp;=\varepsilon_{ijk}2r\frac{\partial r}{\partial x_j}\,{\bf a}_k
		=\varepsilon_{ijk}2r\frac{x_j}{r}\,{\bf a}_k
		=(2\, ({\bf x}\,\times{\bf a}))_i\,.
		\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad \nabla^2 (1/r)\,=\,0\)</span>  if <span class="math inline">\(r\ne 0\)</span> :  using <span class="math inline">\(\frac{\partial}{\partial x_i}r=x_i/r\)</span> from part (c),</p>
<p><span class="math display">\[\begin{aligned}
		\nabla^2 (1/r)&amp;=
		\frac{\partial}{\partial x_i}
		\frac{\partial}{\partial x_i}(r^{-1})
		=
		\frac{\partial}{\partial x_i}
		\bigl(-r^{-2}\frac{\partial}{\partial x_i}r
		\bigr)
		=
		\frac{\partial}{\partial x_i}
		\bigl(-r^{-3}x_i
		\bigr) 
		\\[2pt]
		&amp;=
		-\bigl(\frac{\partial}{\partial x_i}
		r^{-3} \bigr) x_i
		-r^{-3}
		\bigl(\frac{\partial}{\partial x_i}x_i\bigr)
		=
		3r^{-4}\bigl(\frac{\partial}{\partial x_i}r\bigr)x_i
		-r^{-3} \delta_{ii}
		\\[3pt]
		&amp;=
		3r^{-5} x_ix_i
		-3r^{-3} 
		=(3-3)r^{-3}=0\,.
		\end{aligned}\]</span> Notice that this is only valid for <span class="math inline">\(r\neq 0\)</span> since the calculation involves division by <span class="math inline">\(r\)</span>.</p></li>
<li><p><span class="math inline">\(\quad \nabla^2 (\log r)\,=\,1/r^2\)</span>  if  <span class="math inline">\(r\ne 0\)</span> :</p>
<p>as in part (i), and using <span class="math inline">\(\frac{\partial}{\partial x_i}r=x_i/r\)</span> again, <span class="math display">\[\begin{aligned}
		\nabla^2 (\log r)&amp;=
		\frac{\partial}{\partial x_i}
		\frac{\partial}{\partial x_i}(\log r)
		=
		\frac{\partial}{\partial x_i}
		\bigl(r^{-1}\frac{\partial}{\partial x_i}r
		\bigr)
		=
		\frac{\partial}{\partial x_i}
		\bigl(r^{-2}x_i
		\bigr) 
		\\[2pt]
		&amp;=
		\bigl(\frac{\partial}{\partial x_i}
		r^{-2} \bigr) x_i
		+r^{-2}
		\bigl(\frac{\partial}{\partial x_i}x_i\bigr)
		=
		-2r^{-3}\bigl(\frac{\partial}{\partial x_i}r\bigr)x_i
		+r^{-2} \delta_{ii}
		\\[3pt]
		&amp;=
		-2r^{-4} x_ix_i
		+3r^{-2} 
		=(-2+3)r^{-2}=1/r^2.
		\end{aligned}\]</span> Again, this is only valid for <span class="math inline">\(r\neq 0\)</span> since the calculation involves division by <span class="math inline">\(r\)</span>.</p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,[ ({\bf a}\cdot {\bf x}\,) {\bf x}\,]\,=\,4\, {\bf a}\cdot {\bf x}\,\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		{\rm div}\,[ ({\bf a}\cdot {\bf x}\,) {\bf x}\,] &amp;= 
		\frac{\partial}{\partial x_i} \bigl( a_jx_jx_i\bigr)=
		a_j\frac{\partial}{\partial x_i} \bigl( x_jx_i\bigr)=
		a_j\Bigl(
		\bigl(\frac{\partial}{\partial x_i}x_j\bigr)x_i
		+x_j\bigl(\frac{\partial}{\partial x_i}x_i\bigr)\Bigr)\\[4pt]
		&amp;= a_j\bigl(\delta_{ij}x_i+x_j\delta_{ii}\bigr)
		= a_j\bigl(x_j+3x_j\bigr) =4a_jx_j=4{\underline{a}}\cdot{\underline{x}}\,.
		\end{aligned}\]</span> Using <span class="math inline">\({\rm div}\,f {\bf V}=(\nabla f)\cdot {\bf V}+f{\rm div}\,{\bf V}\)</span>, with <span class="math inline">\(f={\bf a}
		\cdot {\bf x}\,\)</span> so <span class="math inline">\(\nabla f={\bf a}\)</span> from part (e) and <span class="math inline">\({\bf V}={\bf x}\,\)</span> so <span class="math inline">\({\rm div}\,{\bf x}\,=3\)</span> from part (a) hence <span class="math inline">\({\rm div}\,[ ({\bf a}\cdot {\bf x}\,) {\bf x}\,]\,={\bf a}\cdot{\bf x}\,+{\bf a}\cdot{\bf x}\,3=4{\bf a}\cdot{\bf x}\,\)</span>.</p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,[ {\bf x}\,\times( {\bf x}\,\times{\bf a})]\,=\,2\, {\bf a}\cdot
	{\bf x}\,\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		{\rm div}\,[ {\bf x}\,\times( {\bf x}\,\times{\bf a})]
		&amp;=
		\frac{\partial}{\partial x_i}\left(
		\varepsilon_{ijk}x_j\varepsilon_{klm}x_la_m\right)
		=
		\varepsilon_{ijk}
		\varepsilon_{klm}
		\frac{\partial}{\partial x_i}\left(
		x_jx_l\right)a_m\\[3pt]
		&amp;=
		\left(\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl}\right)
		\frac{\partial}{\partial x_i}\left(
		x_jx_l\right)a_m\\[3pt]
		&amp;=
		\frac{\partial}{\partial x_i}\left(
		x_jx_i\right)a_j
		-
		\frac{\partial}{\partial x_i}\left(
		x_jx_j\right)a_i \\[3pt]
		&amp;=
		\delta_{ij}x_ia_j+x_j\delta_{ii}a_j-
		\delta_{ij}x_ja_i-x_j\delta_{ij}a_i\\[3pt]
		&amp;=x_ja_j+3x_ja_j-x_ja_j-x_ja_j=2x_ja_j=2{\underline{a}}\cdot{\underline{x}}\,.
		\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}/ {r^3}} \right)\,=
	\, 3\, {{({\bf a}\cdot {\bf x}\,) {\bf x}\,}/{r^5}}\,-\,{{{\bf a}}/{r^3}}\)</span>,</p>
<p><span class="math display">\[\begin{aligned}
		\left({\rm curl}\,\left( {{{\bf a}\times{\bf x}\,}/ {r^3}} \right)\right)_i
		&amp;=
		\varepsilon_{ijk}\frac{\partial}{\partial x_j}\left(
		\varepsilon_{klm}a_lx_m/r^3 \right)
		=
		\varepsilon_{ijk} \varepsilon_{klm}a_l
		\frac{\partial}{\partial x_j}\left(
		x_m/r^3 \right)
		\\[3pt]
		&amp;=
		\varepsilon_{ijk} \varepsilon_{klm}a_l
		\Bigl( \delta_{jm}r^{-3} 
		+x_m\frac{\partial}{\partial x_j}r^{-3} 
		\Bigr)
		\\[3pt]
		&amp;=
		\varepsilon_{ijk} \varepsilon_{klm}a_l
		\Bigl( \delta_{jm}r^{-3} 
		-3x_mr^{-4}\frac{\partial}{\partial x_j}r 
		\Bigr)
		\\[3pt]
		&amp;=
		\varepsilon_{ijk} \varepsilon_{klm}a_l
		\Bigl( \delta_{jm}r^{-3} 
		-3x_mr^{-5}x_j 
		\Bigr)
		\\[3pt]
		&amp;=
		\left(\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl}
		\right)a_l
		\Bigl( \delta_{jm}r^{-3} 
		-3x_mr^{-5}x_j 
		\Bigr)
		\\[3pt]
		&amp;=
		a_i\delta_{jj}r^{-3}-a_j\delta_{ij}r^{-3}
		-3a_ix_jr^{-5}x_j+3a_jx_ir^{-5}x_j
		\\[3pt]
		&amp;=
		3a_ir^{-3}-a_ir^{-3}-3a_ir^{-3}+3x_ia_jx_jr^{-5}
		\\[3pt]
		&amp;=-a_ir^{-3}+3x_ia_jx_jr^{-5}
		=\left(-{\underline{a}}/r^3+3{\underline{x}}({\underline{a}}\cdot{\underline{x}})/r^5\right)_i\,.
		\end{aligned}\]</span> <em>Remark</em>: in this question, and also in some of the earlier ones, there is some freedom in the order in which you, for example, use the product rule on derivatives, use the very useful formula, and simplify <span class="math inline">\(\delta\)</span>s involving summed indices. In such cases any order is fine – the final answer will be the same.</p></li>
<li><p>Exam question June 2002 (Section A): calculate the curl of <span class="math inline">\(({\bf a}\cdot {\bf x}\,)~ {\bf x}\,\)</span>.</p>
<p><span class="math display">\[\begin{aligned}
		\bigl({\rm curl}\,(({\bf a}\cdot {\bf x}\,)\, {\bf x}\,)\bigr)_i
		&amp;=
		\varepsilon_{ijk}\frac{\partial}{\partial x_j}\bigl( a_lx_lx_k\bigr) \\[3pt]
		&amp;=
		\varepsilon_{ijk}a_l\bigl(\delta_{jl}x_k+x_l\delta_{jk}\bigr) \\[3pt]
		&amp;=
		\varepsilon_{ijk}a_jx_k+\varepsilon_{ijj}a_lx_l
		=\varepsilon_{ijk}a_jx_k=\bigl({\underline{a}}\times{\underline{x}}\bigr)_i\,,
		\end{aligned}\]</span> using the fact that <span class="math inline">\(\varepsilon_{ijj}=0\)</span>, by the antisymmetry of the Levi-Civita symbol. Note: in the first line <span class="math inline">\({\underline{a}}\cdot{\underline{x}}\)</span> was written using <span class="math inline">\(l\)</span> as the repeated index rather than <span class="math inline">\(j\)</span> or <span class="math inline">\(k\)</span>, since <span class="math inline">\(j\)</span> and <span class="math inline">\(k\)</span> were already being used to write the curl.</p>
<p><em>General remark</em>: Even though some of these index notation calculations look a little long, they are (almost) all self-contained, while in the version of this question on the Topic 3 sheet, there was much more quoting of results from other parts.</p></li>
</ul>
<p>The vector <span class="math inline">\({\underline{a}}\)</span> has components <span class="math inline">\((a_r)=(1,1,1)\)</span> and the vector <span class="math inline">\({\underline{b}}\)</span> has components <span class="math inline">\((b_r)=(2,3,4)\)</span>. In the following expressions state which indices are free and which are dummy, and give the numerical values of the expressions for each value that the free variable takes (e.g. for <span class="math inline">\(a_r-b_r\)</span> the free variable is <span class="math inline">\(r\)</span> and it takes the values <span class="math inline">\(1,\, 2,\, 3\)</span> so <span class="math inline">\(a_1-b_1=-1\)</span>, <span class="math inline">\(a_2-b_2=-2\)</span>, <span class="math inline">\(a_3-b_3=-3\)</span> )<br />
</p>
<ul>
<li><p><span class="math inline">\(a_r+b_r\)</span>,</p>
<p><span class="math inline">\(r\)</span> is a free index so we need to specify 3 pieces of information. <span class="math inline">\(a_r+b_r\)</span> is the r-th component of the vector <span class="math inline">\({\underline{a}}+{\underline{b}}\)</span> so we can give the information in the form <span class="math inline">\((a_r+b_r)=(3,4,5)\)</span> or as <span class="math inline">\(a_1+b_1=3\)</span>, <span class="math inline">\(a_2+b_2=4\)</span>, <span class="math inline">\(a_3+b_3=5\)</span>.</p></li>
<li><p><span class="math inline">\(a_r\, b_r\)</span>,</p>
<p><span class="math inline">\(r\)</span> is a dummy index and <span class="math inline">\(a_r\,b_r=a_1\,b_1+a_2\,b_2+a_3\,b_3=9\)</span>, which is the scalar product of <span class="math inline">\({\underline{a}}\)</span> and <span class="math inline">\({\underline{b}}\)</span>.</p></li>
<li><p><span class="math inline">\(a_r\,b_s\,a_r\)</span>,</p>
<p><span class="math inline">\(r\)</span> is a dummy index, and <span class="math inline">\(s\)</span> is free so to specify <span class="math inline">\(a_r\,b_s\,a_r\)</span> we need to specify 3 pieces of information, these are the components of the vector <span class="math inline">\({\underline{b}} \,{\underline{a}}\cdot{\underline{a}}\)</span>. Now <span class="math inline">\(a_r\,a_r=a_1^2+a_2^2+a_3^2=3\)</span> so <span class="math inline">\((a_r\,b_s\,a_r)=(3b_s)=(6,9,12)\)</span></p></li>
<li><p><span class="math inline">\(a_r\,b_s\,a_r\,b_s-a_r\,b_r\,a_s\,b_s\)</span>.</p>
<p><span class="math inline">\(r\)</span> and <span class="math inline">\(s\)</span> are both dummy indices. <span class="math inline">\(a_r\,b_s\,a_r\,b_s-a_r\,b_r\,a_s\,b_s= (a_r\,a_r)(b_s\,b_s)-(a_r\,b_r)
		(a_s\,b_s)\)</span> now <span class="math inline">\(a_r\,a_r=3\)</span> and <span class="math inline">\(b_s\,b_s=4+9+16=29\)</span> so <span class="math inline">\(a_r\,b_s\,a_r\,b_s-a_r\,b_r\,a_s\,b_s=3\times 29-9^2=6\)</span>.</p></li>
</ul>
<p>If <span class="math inline">\(\delta_{rs}\)</span> is the three-dimensional Kronecker delta, evaluate<br />
</p>
<ul>
<li><p><span class="math inline">\(\delta_{rs}\,\delta_{sr}\,\delta_{pq}\,\delta_{pq}\)</span>,</p>
<p><span class="math inline">\(\delta_{rs}\,\delta_{sr}\,\delta_{pq}\,\delta_{pq}=
	\delta_{rr}\,\delta_{pq}\,\delta_{pq}=3\,\delta_{pp}=3\times 3=9\)</span>.</p></li>
<li><p><span class="math inline">\(\delta_{rs}\,\delta_{sk}\,\delta_{kl}\,\delta_{lr}\)</span>,</p>
<p><span class="math inline">\(\delta_{rs}\,\delta_{sk}\,\delta_{kl}\,\delta_{lr}=
	\delta_{rk}\,\delta_{kl}\,\delta_{lr}=\delta_{rl}\,\delta_{lr}=
	\delta_{rr}=3\)</span>.</p></li>
<li><p><span class="math inline">\(\delta_{rs}\,\delta_{qr}\,\delta_{pq}\,\delta_{sp}\)</span>.</p>
<p><span class="math inline">\(\delta_{rs}\,\delta_{qr}\,\delta_{pq}\,\delta_{sp}=
	\delta_{qs}\,\delta_{pq}\,\delta_{sp}=\delta_{ps}\,\delta_{sp}=
	\delta_{ss}=3\)</span>.</p></li>
</ul>
<p>If <span class="math inline">\(\delta_{rs}\)</span> is the three-dimensional Kronecker delta, simplify<br />
</p>
<ul>
<li><p><span class="math inline">\((\delta_{rp}\,\delta_{sq}-\delta_{rq}\,
\delta_{sp})\,a_p\,b_q\)</span>,</p>
<p><span class="math inline">\((\delta_{rp}\,\delta_{sq}-\delta_{rq}\,
	\delta_{sp})\,a_p\,b_q=\delta_{rp}\,\delta_{sq}\,a_p\,b_q
	-\delta_{rq}\,\delta_{sp}\,a_p\,b_q=\,a_r\,b_s-\,a_s\,b_r\,,\)</span></p></li>
<li><p><span class="math inline">\((\delta_{rp}\,\delta_{sq}-\delta_{rq}\,
\delta_{sp})\,\delta_{pq}\)</span>.</p>
<p><span class="math inline">\((\delta_{rp}\,\delta_{sq}-\delta_{rq}\,
	\delta_{sp})\,\delta_{pq}=\delta_{rp}\,\delta_{sq}\,\delta_{pq}-
	\delta_{rq}\,\delta_{sp}\,\delta_{pq}=\delta_{rs}-\delta_{rs}=0\)</span> .</p></li>
</ul>
<p>If <span class="math inline">\(\delta_{rs}\)</span> is the Kronecker delta in <span class="math inline">\(n\)</span> dimensions, calculate<br />
</p>
<ul>
<li><p><span class="math inline">\(\delta_{rr}\)</span>,</p>
<p><span class="math inline">\(\delta_{rr}=1+1+..+1\)</span> (n terms), so <span class="math inline">\(\delta_{rr}=n\)</span>,</p></li>
<li><p><span class="math inline">\(\delta_{rs}\,\delta_{rs}\)</span>,</p>
<p><span class="math inline">\(\delta_{rs}\,\delta_{rs}=\delta_{rr}=n\)</span>,</p></li>
<li><p><span class="math inline">\(\delta_{rs}\,\delta_{st}\,\delta_{tr}\)</span>.</p>
<p><span class="math inline">\(\delta_{rs}\,\delta_{st}\,\delta_{tr}=
	\delta_{rs}\,\delta_{sr}=\delta_{rr}=n\)</span>.</p></li>
</ul>
<p>Starting from <span class="math inline">\(\varepsilon_{ijk}\,\varepsilon_{klm}
=\delta_{il}\,\delta_{jm}-\delta_{im}\,\delta_{jl}\)</span> simplify as much as possible:<br />
</p>
<ul>
<li><p><span class="math inline">\(\varepsilon_{ijk}\varepsilon_{ijp}\)</span> ,</p>
<p>First use the cyclic symmetry of <span class="math inline">\(\varepsilon_{ijk}\)</span> to rewrite the expression with the repeated indices next to each other: <span class="math inline">\(\varepsilon_{ijk}\varepsilon_{ijp}=
	\varepsilon_{jki}\varepsilon_{ijp}\)</span> . Then, relabelling in the starting formula, <span class="math display">\[\varepsilon_{jki}\varepsilon_{ijp}
	=\delta_{jj}\,\delta_{kp}-\delta_{jp}\,\delta_{kj}
	=3\,\delta_{kp}-\delta_{kp}=2\,\delta_{kp}\]</span></p></li>
<li><p><span class="math inline">\(\varepsilon_{ijk}\varepsilon_{ijk}\)</span>.</p>
<p>Substituting <span class="math inline">\(p=k\)</span> into part (a), <span class="math display">\[\varepsilon_{ijk}\varepsilon_{ijk}=2\,\delta_{kk}=6\]</span></p></li>
</ul>
<p><span id="epijj" label="epijj">[epijj]</span> Calculate <span class="math inline">\(\varepsilon_{ijj}\)</span> .</p>
<p><span class="math inline">\(\varepsilon_{ijk}\)</span> vanishes whenever two indices take the same value, so <span class="math inline">\(\varepsilon_{ijj}\)</span> also vanishes, being a sum of terms in each of which the last two indices take the same value.</p>
<p>Show, using index notation, that<br />
</p>
<ul>
<li><p><span class="math inline">\(~ {\bf a}\times({\bf b}\times{\bf c})\,+\,
{\bf b}\times({\bf c}\times{\bf a})\,+\,{\bf c}\times
({\bf a}\times{\bf b})\,
=\,0\)</span> ,</p>
<p>The <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(\quad {\bf a}\times({\bf b}\times{\bf c})\)</span> is <span class="math display">\[\begin{aligned}
	\varepsilon_{ijk}\,a_j\,(\varepsilon_{krs}\,b_r\,c_s)&amp;=
	(\varepsilon_{ijk}\,\varepsilon_{rsk})\,a_j\,b_r\,c_s=
	(\delta_{ir}\,\delta_{js}-\delta_{is}\,\delta_{jr})\,a_j\,b_r\,c_s\\
	&amp;=
	\delta_{ir}\,\delta_{js}\,a_j\,b_r\,c_s-\delta_{is}\,\delta_{jr}\,a_j\,b_r\,c_s
	=\,a_s\,b_i\,c_s-\,a_r\,b_r\,c_i
	\end{aligned}\]</span> so the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\({\bf a}\times({\bf b}\times{\bf c})\,+\,
	{\bf b}\times({\bf c}\times{\bf a})\,+\,{\bf c}\times
	({\bf a}\times{\bf b})\)</span> is <span class="math display">\[\begin{aligned}
	&amp;\hspace{-30pt}
	(a_s\,b_i\,c_s-\,a_r\,b_r\,c_i)+(b_s\,c_i\,a_s-\,b_r\,c_r\,a_i)+(c_s\,a_i\,b_s-\,c_r\,a_r\,b_i)\\
	&amp;=
	a_i\, (c_s\,\,b_s-\,b_r\,c_r)+b_i\,(a_s\,c_s-\,c_r\,a_r)+c_i\,(b_s\,a_s
	-\,a_r\,b_r)=0
	\end{aligned}\]</span> since the names of dummy indices can be changed.</p></li>
<li><p><span class="math inline">\(~ ({\bf a}\times{\bf b}) \times({\bf c}\times{\bf d})\,=\,
\left[{\bf d}\cdot ({\bf a}\times{\bf b})\right] {\bf c}\,-\,
\left[{\bf c}\cdot ({\bf a}\times{\bf b})\right] {\bf d}\\[2pt]
~~\quad\qquad\qquad\qquad
\ \ \  =\,\left[{\bf a}\cdot ({\bf c}\times{\bf d})\right] {\bf b}\,-\,
\left[ {\bf b}\cdot ({\bf c}\times{\bf d})\right] {\bf a},\)</span></p>
<p>The <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(({\bf a}\times{\bf b}) \times({\bf c}\times{\bf d})\)</span> is<br />
<span class="math display">\[\begin{aligned}
	\varepsilon_{ijk}\,\left(\varepsilon_{jrs}\,a_r\,b_s\right)\,\left(\varepsilon_{kpq}\,c_p\,d_q\right)&amp;=
	\varepsilon_{ijk}\,\varepsilon_{jrs}\,\varepsilon_{kpq}\,a_r\,b_s\,c_p\,d_q\\
	&amp;=(\varepsilon_{jki}\,\varepsilon_{jrs})\,\varepsilon_{kpq}\,a_r\,b_s\,c_p\,d_q \\
	&amp;=\delta_{kr}\,\delta_{is}\,\varepsilon_{kpq}\,a_r\,b_s\,c_p\,d_q-\delta_{ks}\,\delta_{ir}\,\varepsilon_{kpq}\,a_r\,b_s\,c_p\,d_q\\
	&amp;=\varepsilon_{rpq}\,a_r\,b_i\,c_p\,d_q-
	\varepsilon_{spq}\,a_i\,b_s\,c_p\,d_q
	\end{aligned}\]</span> which is the same as the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(\left[{\bf a}\cdot ({\bf c}\times{\bf d})\right] {\bf b}\,-\,
	\left[ {\bf b}\cdot ({\bf c}\times{\bf d})\right] {\bf a}\)</span> , because this is <span class="math display">\[\left[ \, a_r\,(  \varepsilon_{rpq} \,c_p\,d_q)       \right]\,b_i\,
	\,-\,
	\left[ \,b_s\, (\varepsilon_{spq}\,c_p\,d_q  )      \right]\,a_i\]</span> We can also expand the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(({\bf a}\times{\bf b}) \times
	({\bf c}\times{\bf d})\)</span> as <span class="math display">\[\varepsilon_{ijk}\,\left(\varepsilon_{jrs}\,a_r\,b_s\right)\,\left(\varepsilon_{kpq}\,c_p\,d_q\right)=
	\varepsilon_{ijk}\,\varepsilon_{jrs}\,\varepsilon_{kpq}\,a_r\,b_s\,c_p\,d_q\]</span> <span class="math display">\[(\varepsilon_{ijk}\,\varepsilon_{pqk})\,\varepsilon_{jrs}\,a_r\,b_s\,c_p\,d_q
	=
	\delta_{ip}\,\delta_{jq}\,\varepsilon_{jrs}\,a_r\,b_s\,c_p\,d_q-\delta_{iq}\,\delta_{jp}\,\varepsilon_{jrs}\,a_r\,b_s\,c_p\,d_q\]</span> <span class="math display">\[=
	\varepsilon_{qrs}\,a_r\,b_s\,c_i\,d_q  \varepsilon_{prs}\,a_r\,b_s\,c_p\,d_i\]</span> which is the same as the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(\left[{\bf d}\cdot ({\bf a}\times{\bf b})\right] {\bf c}\,-\,
	\left[{\bf c}\cdot ({\bf a}\times{\bf b})\right] {\bf d}\)</span> , because this is <span class="math display">\[\left[  \,d_q\,( \varepsilon_{qrs}\,a_r\,b_s       )\right]\,c_i\,
	-\,
	\left[  \,c_p \,(   \varepsilon_{prs}\,a_r\,b_s\,     )\right]\, d_i \,.\]</span></p></li>
<li><p><span class="math inline">\(~ ({\bf a}\times{\bf b}) \cdot ({\bf c}\times{\bf d})\,=\,
({\bf a}\cdot {\bf c}) ({\bf b}\cdot {\bf d})\,-\,
({\bf a}\cdot {\bf d}) ({\bf b}\cdot {\bf c})\)</span> ,</p>
<p><span class="math display">\[\begin{aligned}
			({\bf a}\times{\bf b}) \cdot ({\bf c}\times{\bf d}) &amp;= ({\bf a}\times{\bf b})_i({\bf c}\times{\bf d})_i \\
			&amp;= \epsilon_{ijk}a_jb_k \epsilon_{ilm}c_l d_m \\
			&amp;= \epsilon_{ijk}\epsilon_{ilm} a_jb_k c_l d_m \\
			&amp;= (\delta_{jl}\delta_{km} - \delta_{jm}\delta_{kl}) a_jb_k c_l d_m \\
			&amp;= a_j c_j b_k d_k - a_j d_j b_k c_k \\
			&amp;= ({\bf a}\cdot {\bf c})({\bf d}\cdot {\bf b}) - ({\bf a}\cdot {\bf d})({\bf b}\cdot {\bf c}).
		\end{aligned}\]</span></p></li>
<li><p><span class="math inline">\(\quad {\bf a}\times[ {\bf a}\times( {\bf a}
 \times{\bf b})]\,=\, a^2\, ( {\bf b}\times{\bf a})\)</span> ,</p>
<p>Note that the left-hand side of this expression is a vector, so we will write down the <span class="math inline">\(i\)</span>th component of this vector, and check that this gives the <span class="math inline">\(i\)</span>th component of the right-hand side of the expression. If this holds for all <span class="math inline">\(i\)</span>, the expression is then true as a statement about vectors. <span class="math display">\[\begin{aligned}
			\left( {\bf a}\times [{\bf a}\times ({\bf a}\times {\bf b})] \right)_i &amp;= \epsilon_{ijk}a_j\epsilon_{klm}a_l\epsilon_{mno}a_nm_o \\
			&amp;= \epsilon_{ijk}(\delta_{kn}\delta_{lo} - \delta_{ko}\delta_{ln})a_j a_l a_n b_o \\
			&amp;= \epsilon_{ijk}a_ja_k a_l b_l - \epsilon_{ijk}a_jb_ka_la_l \\
			&amp;= ({\bf a}\cdot {\bf b})({\bf a}\times {\bf a})_i - ({\bf a}\cdot {\bf a})({\bf a}\times {\bf b})_i.
		\end{aligned}\]</span> Now note that <span class="math inline">\({\bf a}\times {\bf a}= 0\)</span> for all vectors <span class="math inline">\({\bf a}\)</span>, and recall that <span class="math inline">\({\bf a}\times {\bf b}= - {\bf b}\times {\bf a}\)</span>, so we have <span class="math display">\[\left( {\bf a}\times [{\bf a}\times ({\bf a}\times {\bf b})] \right) = ({\bf a}\cdot {\bf a})({\bf b}\times {\bf a}),\]</span> and letting <span class="math inline">\(a = |{\bf a}|\)</span>, we have the required result.</p></li>
<li><p><span class="math inline">\(~ ({\bf a}\times{\bf b}) \cdot ({\bf c}\times{\bf d})+
({\bf b}\times{\bf c}) \cdot ({\bf a}\times{\bf d})+ 
({\bf c}\times{\bf a}) \cdot ({\bf b}\times{\bf d}) =0\)</span> .</p>
<p>Using part (a), we have <span class="math display">\[\begin{aligned}
			({\bf a}\times{\bf b}) &amp;\cdot ({\bf c}\times{\bf d})+
			({\bf b}\times{\bf c}) \cdot ({\bf a}\times{\bf d})+ 
			({\bf c}\times{\bf a}) \cdot ({\bf b}\times{\bf d}) \\
			=&amp;\ ({\bf a}\cdot {\bf c})({\bf d}\cdot {\bf b}) - ({\bf a}\cdot {\bf d})({\bf b}\cdot {\bf c}) + ({\bf b}\cdot {\bf a})({\bf c}\cdot {\bf d}) \\
			&amp;- ({\bf b}\cdot {\bf d})({\bf c}\cdot {\bf a}) + ({\bf c}\cdot {\bf b})({\bf a}\cdot {\bf d}) - ({\bf c}\cdot {\bf d})({\bf a}\cdot {\bf b}) \\
			=&amp;\ 0.
		\end{aligned}\]</span></p></li>
</ul>
<p>Exam question June 2002 (Section A): Evaluate <span class="math inline">\(\varepsilon_{ijk}
\varepsilon_{ijl}x_k x_l\)</span>.</p>
<p><span class="math display">\[\begin{aligned}
\varepsilon_{ijk} \varepsilon_{ijl}x_k
x_l&amp; =(\delta_{jj}\delta_{kl}-\delta_{jl}\delta_{kj})x_k x_l\\[2pt]
&amp;=(3\delta_{kl}-\delta_{kl})x_k x_l=2\delta_{kl}x_k x_l=2x_lx_l
=2|{\bf x}|^2.\end{aligned}\]</span></p>
<p>Exam question June 2001 (Section A): Evaluate <span class="math inline">\(\varepsilon_{ijk} \partial_i \partial_j (x_l x_l)^{1/2}\)</span> away from the origin.</p>
<p>The answer is zero, because the mixed second partial derivatives are symmetric in <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> while the <span class="math inline">\(\varepsilon_{ijk}\)</span> is antisymmetic. For full marks you should say that the mixed partial derivatives are symmetric in <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> because they are continuous functions at all points away from the origin (which are the only points which need to be considered).</p>
<p>Exam question June 2003 (Section A): Calculate <span class="math inline">\(\partial_i\,(\varepsilon_{ijk}~ \varepsilon_{jkl}~x_l\,)\)</span>. (Hint: use the connection between <span class="math inline">\(\partial_ix_j=\frac{\partial x_j}{\partial
x_i}\)</span> and the Kronecker delta.)</p>
<p>Use <span class="math inline">\(\partial_i x_j=\delta_{ij}\)</span> in <span class="math inline">\(\partial_i\,(\varepsilon_{ijk}~
\varepsilon_{jkl}~x_l\,)\)</span> <span class="math inline">\(=\varepsilon_{ijk}~ \varepsilon_{jkl}~\partial_i\,x_l\)</span> <span class="math inline">\(=\varepsilon_{ijk}~ \varepsilon_{jkl}\,\delta_{il}\)</span><span class="math inline">\(=\varepsilon_{ijk}~ \varepsilon_{jki}\)</span><span class="math inline">\(=\varepsilon_{ijk}~
\varepsilon_{ijk}\)</span><span class="math inline">\(=\delta_{ii}\delta_{jj}-\delta_{ij}\delta_{ji}\)</span><span class="math inline">\(=3\times 3-\delta_{ii}=9-3\)</span><span class="math inline">\(=6\)</span>.</p>
<p>The functions <span class="math inline">\(f\)</span>, <span class="math inline">\(g\)</span> are scalars, while <span class="math inline">\({\bf A}\)</span> and <span class="math inline">\({\bf B}\)</span> are vector functions with components <span class="math inline">\(A_i\)</span> and <span class="math inline">\(B_i\)</span> respectively. Verify the following identities using index notation:</p>
<ul>
<li><p><span class="math inline">\(\quad {\rm grad}\,\, (fg)\,=\, f\, {\rm grad}\,g\,+\,
 g\, {\rm grad}\,f\)</span>,</p>
<p>The <span class="math inline">\(i\)</span>-th component of the LHS is <span class="math inline">\(\partial_i (fg)=f\partial_i g+g\partial_i f\)</span> by the product-rule. This is the <span class="math inline">\(i\)</span>-th component of the RHS, which proves the identity.</p></li>
<li><p><span class="math inline">\(\quad  {\rm grad}\, ({\bf A} \cdot {\bf B})\,=\, 
{\bf A} \times{\rm curl}\, {\bf B} + {\bf B} \times{\rm curl}\, {\bf A}
\,+\,({\bf B}\cdot \nabla) {\bf A} \,+\, ({\bf A}\cdot \nabla) {\bf B}\)</span>,</p>
<p>This time it’s best to start on the RHS (general message: it’s always a good idea to start with the most complicated side and then simplify). We have <span class="math display">\[\begin{aligned}
\left({\bf A} \times{\rm curl}\, {\bf B} + {\bf B} \times{\rm curl}\, {\bf
A}\right)_i &amp;\,=\,
\varepsilon_{ijk}A_j \varepsilon_{klm}\partial_lB_m
+
\varepsilon_{ijk}B_j \varepsilon_{klm}\partial_lA_m\\
&amp;\,=\,
\varepsilon_{ijk}\varepsilon_{klm}
\left(A_j\partial_lB_m+B_j\partial_lA_m\right)\\
&amp;\,=\,
\left(\delta_{il}\delta_{jm}-
\delta_{im}\delta_{jl}\right)
\left(A_j\partial_lB_m+B_j\partial_lA_m\right)\\
&amp;\,=\,
A_j\partial_iB_j
+B_j\partial_iA_j
-A_j\partial_jB_i
-B_j\partial_jA_i\end{aligned}\]</span> The last two terms in the final line are exactly cancelled by the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\(({\bf B}\cdot \nabla) {\bf A} \,+\, ({\bf A}\cdot \nabla) {\bf B}\)</span>, while the first two are reasonably-easily seen to be the <span class="math inline">\(i\)</span>-th component of <span class="math inline">\({\rm grad}\, ({\bf A} \cdot {\bf B})\)</span>, proving the identity.</p></li>
<li><p><span class="math inline">\(\quad  {\rm div}\, (f {\bf A})\,=\,f\,{\rm div}\,{\bf A}\,+\,
({\rm grad} f) \cdot {\bf A}\)</span>,</p>
<p>The LHS is a scalar equal to <span class="math inline">\(\partial_i(fA_i)=f\partial_iA_i+(\partial_if)A_i\)</span> by the product rule for derivatives. This equals the RHS, which proves the identity.</p></li>
<li><p><span class="math inline">\(\quad 
 {\rm curl}\, (f {\bf A})\,=
\, f\, {\rm curl}\,{\bf A}\,+\, ({\rm grad}\,f) \times{\bf A}\)</span>,</p>
<p>The LHS is a vector whose <span class="math inline">\(i\)</span>-th component is <span class="math display">\[\varepsilon_{ijk}\partial_j(fA_k)=\varepsilon_{ijk}\left(f\partial_jA_k
+ (\partial_j f)A_k\right)\]</span> <span class="math display">\[=f\varepsilon_{ijk}\partial_jA_k+\varepsilon_{ijk}(\partial_j f)A_k\]</span> This is the <span class="math inline">\(i\)</span>-th component of the RHS, which proves the identity.</p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,({\bf A}\times{\bf B})\,=\,{\bf B}\cdot {\rm curl}\,{\bf A}\,-\,
 {\bf A}\cdot {\rm curl}\,{\bf B}\)</span>,</p>
<p>The LHS is a scalar equal to <span class="math inline">\(\partial_i(\varepsilon_{ijk}A_jB_k)=\varepsilon_{ijk}\partial_i(A_jB_k)\)</span> since <span class="math inline">\(\varepsilon_{ijk}\)</span> is just a number, independent of <span class="math inline">\({\bf x}\)</span>. Using the product-rule this becomes <span class="math display">\[\varepsilon_{ijk}(\partial_iA_j)B_k+\varepsilon_{ijk}A_j(\partial_iB_k)
=B_k\left(\varepsilon_{kij}(\partial_iA_j)\right)-A_j(\varepsilon_{jik}\partial_iB_k)\]</span> This equals the RHS, which proves the identity.</p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,({\bf A}\times{\bf B})\,=\,({\rm div}\,{\bf B}) {\bf A}\,-\,({\rm div}\,{\bf A}) {\bf B}\,+\,
({\bf B}\cdot \nabla) {\bf A} \,-\, ({\bf A}\cdot \nabla) {\bf B}\)</span>,</p>
<p>The LHS is a vector whose <span class="math inline">\(i\)</span>-th component is <span class="math inline">\(\varepsilon_{ijk}\partial_j(\varepsilon_{krs}A_rB_s)=
\varepsilon_{ijk}\varepsilon_{rsk}\partial_j(A_rB_s)\)</span> since <span class="math inline">\(\varepsilon_{krs}=\varepsilon_{rsk}\)</span> is just a number, independent of <span class="math inline">\({\bf x}\)</span>. Using the product-rule, and the very useful formula, this becomes <span class="math display">\[(\delta_{ir}\delta_{js}-\delta_{is}\delta_{jr})\left((\partial_jA_r)B_s+A_r(\partial_jB_s)\right)\]</span> <span class="math display">\[=\delta_{ir}\delta_{js}(\partial_jA_r)B_s +
\delta_{ir}\delta_{js}A_r(\partial_jB_s) -\delta_{is}\delta_{jr}
(\partial_jA_r)B_s-\delta_{is}\delta_{jr}A_r(\partial_jB_s)\]</span> <span class="math display">\[=(\partial_sA_i)B_s+A_i(\partial_sB_s)
- (\partial_rA_r)B_i-A_r(\partial_rB_i)=A_i(\partial_sB_s)- (\partial_rA_r)B_i
+(B_s\partial_s)A_i-(A_r\partial_r)B_i\]</span> This is the <span class="math inline">\(i\)</span>-th component of the RHS, which proves the identity.</p></li>
<li><p><span class="math inline">\(\quad {\rm div}\,{\rm curl}\,{\bf A}\;=\;0\)</span>,</p>
<p>The LHS is a scalar equal to <span class="math inline">\(\partial_i(\varepsilon_{ijk}\partial_jA_k)=
\varepsilon_{ijk}\partial_i\partial_jA_k\)</span>. On the assumption that <span class="math inline">\(\partial_i\partial_jA_k\)</span> is continuous then <span class="math inline">\(\partial_i\partial_jA_k=\partial_j\partial_iA_k\)</span> so <span class="math inline">\(\varepsilon_{ijk}\partial_i\partial_jA_k=\varepsilon_{ijk}\partial_j\partial_iA_k
=\varepsilon_{jik}\partial_i\partial_jA_k\)</span> by re-naming dummy variables, but this is <span class="math inline">\(-\varepsilon_{ijk}\partial_i\partial_jA_k\)</span> by skew symmetry of <span class="math inline">\(\varepsilon_{ijk}\)</span>, i.e. <span class="math inline">\(\varepsilon_{ijk}\partial_i\partial_jA_k=-\varepsilon_{ijk}\partial_i\partial_jA_k\)</span> which implies <span class="math inline">\(\varepsilon_{ijk}\partial_i\partial_jA_k=0\)</span>.</p></li>
<li><p><span class="math inline">\(\quad {\rm curl}\,\,{\rm curl}\,{\bf A}\,=\, {\rm grad}\,{\rm div}\,{\bf A}- \nabla^2 {\bf A}\)</span>.</p>
<p>The LHS is a vector whose <span class="math inline">\(i\)</span>-th component is <span class="math display">\[\varepsilon_{ijk}\partial_j(\varepsilon_{krs}\partial_rA_s)=
\varepsilon_{ijk}\varepsilon_{rsk}\partial_j(\partial_rA_s )\]</span> since <span class="math inline">\(\varepsilon_{krs}=\varepsilon_{rsk}\)</span> is just a number, independent of <span class="math inline">\({\bf
x}\)</span>. Using the very useful formula, this becomes <span class="math display">\[(\delta_{ir}\delta_{js}-\delta_{is}\delta_{jr})\partial_j\partial_rA_s 
=\delta_{ir}\delta_{js}\partial_j\partial_rA_s-\delta_{is}\delta_{jr}\partial_j\partial_rA_s
=\partial_s\partial_iA_s-\partial_r\partial_rA_i\]</span> On the assumption that <span class="math inline">\(\partial_j\partial_rA_s\)</span> is continuous we can write this as <span class="math inline">\(\partial_i\partial_sA_s-\partial_r\partial_rA_i\)</span>. This is the <span class="math inline">\(i\)</span>-th component of the RHS, which proves the identity.</p></li>
</ul>
<p>What is the divergence of the vector function <span class="math inline">\({\bf{A}}({{\bf x}\,})=
r\,{{\bf x}\,} + {\bf \nabla}\,r\)</span> where <span class="math inline">\({{\bf x}\,}\)</span> is the position vector in 3 dimensions and <span class="math inline">\(r=|{\bf x}\,|\)</span>? What is the corresponding result in <span class="math inline">\(n\)</span> dimensions?</p>
<p>Using components, <span class="math inline">\(\nabla\cdot {\bf{A}}
=
\partial_i\left(rx_i+\partial_i(r)\right)
=
\partial_i(r)x_i+r\partial_ix_i+
\partial_i(\partial_i(r))\)</span> . Using <span class="math inline">\(\partial_i(r)=\partial_i(x_jx_j)^{1/2}={\textstyle\frac{1}{2}}(x_jx_j)^{-1/2}2x_i=x_i/r\)</span> (as in <a href="#vecresultsindex" data-reference-type="ref" data-reference="vecresultsindex">[vecresultsindex]</a>(c)) this is <span class="math display">\[\begin{aligned}
x_ix_i/r+r\delta_{ii}+\partial_i(x_i/r)&amp;=
r+3r+(\partial_ix_i)/r-x_ir^{-2}\partial_i(r) \\
&amp;= 4r+\delta_{ii}/r-x_ir^{-2}x_i/r \\
&amp;= 4r+3/r-1/r=4r+2/r\,.\end{aligned}\]</span> In <span class="math inline">\(n\)</span> dimensions <span class="math inline">\(\delta_{ii}=n\)</span> which changes the result to <span class="math inline">\((n+1)r+(n-1)/r\)</span>.</p>
<p>For which values of <span class="math inline">\((x,y)\)</span> are the following continuous:<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad {x/(x^2+y^2+1)}\)</span>,</p>
<p>Use the theorem that if <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span> are continuous at a point then so are <span class="math inline">\(f+g\)</span>, <span class="math inline">\(fg\)</span> and <span class="math inline">\(f/g\)</span> if <span class="math inline">\(g\)</span> does not vanish there. Taking <span class="math inline">\(f=x\)</span> and <span class="math inline">\(g=y\)</span> all the functions can be built up by repeated applications of this result, so all the functions will be continuous whenever their denominators are non-zero so this function is continuous everywhere since <span class="math inline">\(x^2+y^2+1&gt;0\)</span>,</p></li>
<li><p><span class="math inline">\(\qquad {x/(x^2+y^2)}\)</span>,</p>
<p>everywhere except the origin,</p></li>
<li><p><span class="math inline">\(\qquad {(x+y)/(x-y)}\)</span>,</p>
<p>everywhere except the line <span class="math inline">\(y=x\)</span>,</p></li>
<li><p><span class="math inline">\(\qquad {x^3/( y-x^2)}\)</span>?</p>
<p>everywhere except the parabola <span class="math inline">\(y=x^2\)</span>.</p></li>
</ul>
<p>Let the scalar field <span class="math inline">\(f:\mathbb{R}^2\to\mathbb{R}\)</span> be defined as <span class="math display">\[f({\underline{x}}) = \left\{ \begin{aligned}
		1 + \frac{x^2}{y}\qquad y \ne 0, \\
		1 \qquad  y=0.
	\end{aligned}\right.\]</span></p>
<ol>
<li><p>Show that, along any straight line through the origin, <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{0}}}f({\underline{x}})=f({\underline{0}})\)</span>.</p></li>
<li><p>Is <span class="math inline">\(f({\underline{x}})\)</span> continuous at <span class="math inline">\({\underline{0}}\)</span>? Explain your answer, with reference to the first part of this question.</p></li>
</ol>
<ol>
<li><p>On a straight line through the origin, we have either <span class="math inline">\(y=mx\)</span> for some fixed <span class="math inline">\(m\in\mathbb{R}\)</span>, or <span class="math inline">\(x=0\)</span>.</p>
<p>On the line <span class="math inline">\(x=0\)</span>, the limit as <span class="math inline">\(\underline{x}\to\underline{0}\)</span> becomes the limit <span class="math inline">\(y\to 0\)</span>, and so we have <span class="math display">\[\lim_{\underline{x}\to\underline{0}}f(\underline{x})=\lim_{y\to 0}\left( 1 + \frac{0}{y} \right) = 1.\]</span></p>
<p>On the line <span class="math inline">\(y=mx\)</span>, the limit as <span class="math inline">\(\underline{x}\to\underline{0}\)</span> becomes the limit <span class="math inline">\(x\to 0\)</span>, and so we have <span class="math display">\[\lim_{\underline{x}\to\underline{0}}f(\underline{x})=\lim_{x\to 0}\left( 1 + \frac{x^2}{mx} \right) = \lim_{x\to 0}\left( 1 + \frac{x}{m} \right) = 1.\]</span></p>
<p>Since <span class="math inline">\(f(\underline{0})=1\)</span>, we have shown that <span class="math inline">\(\lim_{\underline{x}\to\underline{0}}f(\underline{x}) = f(\underline{0})\)</span> along any straight line throughout the origin.</p></li>
<li><p>In order for <span class="math inline">\(f\)</span> to be continuous at <span class="math inline">\(\underline{0}\)</span> we must have <span class="math inline">\(\lim_{\underline{x}\to\underline{0}}f(\underline{x}) = f(\underline{0})\)</span> as a limit in <span class="math inline">\(\mathbb{R}^2\)</span>, not just when we restrict to straight lines through the origin. Since we have <span class="math inline">\(f(\underline{0})=1\)</span>, we would require <span class="math inline">\(\lim_{\underline{x}\to\underline{0}}f(\underline{x}) = 1\)</span>, which means that for all <span class="math inline">\(\epsilon&gt;0\)</span>, we could find a <span class="math inline">\(\delta&gt;0\)</span> such that <span class="math display">\[|f(x)-1| = \left|1 + \frac{x^2}{y} - 1 \right| = \left| \frac{x^2}{y} \right| &lt; \epsilon\]</span> for all <span class="math inline">\(\underline{x}\)</span> such that <span class="math inline">\(0&lt; |\underline{x} |&lt; \delta\)</span>. However, for any <span class="math inline">\(\delta\)</span>, the set of points <span class="math inline">\(0&lt; |\underline{x} |&lt; \delta\)</span> will contain points with <span class="math inline">\(y\)</span> much less than <span class="math inline">\(x^2\)</span> (sometimes written <span class="math inline">\(y&lt;&lt;x^2\)</span>), including points where <span class="math inline">\(\left| \frac{x^2}{y} \right| &gt; \epsilon\)</span> for any fixed <span class="math inline">\(\epsilon\)</span>.</p>
<p>An alternative way to think about this is to consider <span class="math inline">\(\lim_{\underline{x}\to\underline{0}}f(\underline{x})\)</span> along the curve <span class="math inline">\(y=x^2\)</span>. On this curve, the limit as <span class="math inline">\(\underline{x}\to\underline{0}\)</span> becomes the limit <span class="math inline">\(x\to 0\)</span>, and so we have <span class="math display">\[\lim_{\underline{x}\to\underline{0}}f(\underline{x})=\lim_{x\to 0}\left( 1 + \frac{x^2}{x^2} \right) = \lim_{x\to 0}\left( 2 \right) = 2.\]</span> Since this limit is not equal to 1, <span class="math inline">\(\epsilon\)</span> we cannot hope to find a <span class="math inline">\(\delta\)</span>, such that <span class="math inline">\(|f(x)-1|&lt;\epsilon\)</span> for all <span class="math inline">\(0&lt; |\underline{x}|&lt;\delta\)</span>, for every <span class="math inline">\(\epsilon&gt;0\)</span>.</p></li>
</ol>
<p>Let the scalar field <span class="math inline">\(f:\mathbb{R}^2\to\mathbb{R}\)</span> be defined as <span class="math display">\[f({\underline{x}}) = \left\{ \begin{aligned}
		\frac{x^2y^2}{x^4 + y^4}\qquad \underline{x} \ne \underline{0}, \\
		0 \qquad  \underline{x}=\underline{0}.
	\end{aligned}\right.\]</span></p>
<ol>
<li><p>Show that <span class="math inline">\(\frac{\partial f}{\partial x}\)</span> and <span class="math inline">\(\frac{\partial f}{\partial y}\)</span> both exist at <span class="math inline">\(\underline{0}\)</span>, and find their values at this point.</p></li>
<li><p>Show that <span class="math inline">\(\lim_{\underline{x}\to\underline{0}}f(\underline{x})\)</span> does not exist, and hence <span class="math inline">\(f(\underline{x})\)</span> is not continuous at the origin. Comment on this in relation to the previous part of this question.</p></li>
</ol>
<ol>
<li><p>Using the definitions of the partial derivatives as limits, at the origin we have <span class="math display">\[\begin{aligned}
			\frac{\partial f}{\partial x} &amp;= \lim_{h\to 0} \frac{f(h,0) - f(0,0)}{h} = \lim_{h\to 0} \frac{0/h^4 - 0}{h} = 0 \\
			\frac{\partial f}{\partial y} &amp;= \lim_{h\to 0} \frac{f(0,h) - f(0,0)}{h} = \lim_{h\to 0} \frac{0 - 0/h^4}{h} = 0,
		\end{aligned}\]</span> and so both partials exist with value 0.</p></li>
<li><p>In order for <span class="math inline">\(f(\underline{x})\)</span> to be continuous at the origin, <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{0}}}f(\underline{x})\)</span> must exist and be equal to <span class="math inline">\(f(\underline{0})=0\)</span>. However, considering <span class="math inline">\(f(\underline{x})\)</span> along the line <span class="math inline">\(y=x\)</span>, the limit <span class="math inline">\(\underline{x}\to\underline{0}\)</span> becomes the limit <span class="math inline">\(x\to 0\)</span>, and we have <span class="math display">\[\lim_{\underline{x}\to\underline{0}}f(\underline{x})=\lim_{x\to 0} \frac{x^4}{x^4 + x^4} = \frac{1}{2} \ne 0.\]</span> Given <span class="math inline">\(\epsilon&gt;0\)</span>, we therefore cannot hope to find a <span class="math inline">\(\delta&gt;0\)</span> such that <span class="math inline">\(|f(\underline{x})-0|&lt;\epsilon\)</span> for all <span class="math inline">\(0&lt; |\underline{x}|&lt;\delta\)</span>. Therefore <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{0}}}f({\underline{x}})\)</span> is not equal to 0, and <span class="math inline">\(f(\underline{x})\)</span> is not continuous at <span class="math inline">\(\underline{0}\)</span>.</p>
<p>By considering the limit along the line <span class="math inline">\(y=0\)</span> (or similarly along <span class="math inline">\(x=0\)</span>) we can see that the limit as <span class="math inline">\(\underline{x}\to\underline{0}\)</span> becomes the limit <span class="math inline">\(x\to 0\)</span> (or <span class="math inline">\(y\to 0\)</span>), and so we have <span class="math display">\[\lim_{\underline{x}\to\underline{0}}f(\underline{x})=\lim_{x\to 0}\frac{0}{x^4} = 0,\]</span> and since the limit along this line is not equal to the limit along the line <span class="math inline">\(y=x\)</span>, the limit <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{0}}}f(\underline{x})\)</span> cannot exist.</p>
<p>The partial derivatives exist at the origin even though the function <span class="math inline">\(f\)</span> is not continuous at the origin. This is because the partial derivatives depend on the behaviour of the function as we move parallel to one of the coordinate axes, whereas continuity depends on the behaviour of the function in all directions.</p></li>
</ol>
<p>Which of the following sets are open?.<br />
</p>
<ul>
<li><p><span class="math inline">\(\qquad \{(x,y,z):x&gt;0\}\)</span>,</p>
<p>An open set has to contain an open ball centred on each of its points, so this is open because for any point we can construct a sphere centred on that point and lying entirely within the set, even points arbitrarily close to the plane <span class="math inline">\(x=0\)</span>. To make this really precise, suppose <span class="math inline">\({\underline{a}}=(a_1,a_2,a_3)\)</span> is in the set. Then <span class="math inline">\(a_1&gt;0\)</span> and if we take <span class="math inline">\(\delta=a_1/2 &gt;0\)</span>, then <span class="math inline">\(B_{\delta}({\underline{a}})\)</span> is entirely in the set.</p>
<p>To see this, consider <span class="math inline">\((x,y,z) = \underline{x} \in B_{\delta}({\underline{a}})\)</span>. Since <span class="math inline">\(\underline{x}\in B_{\delta}({\underline{a}})\)</span>, <span class="math inline">\(a_1 - \delta &lt; x &lt; a_1 + \delta\)</span>, so <span class="math inline">\(\frac{a_1}{2}&lt;x\)</span>. But then <span class="math inline">\(x = x- \frac{a_1}{2} +\frac{a_1}{2} = x - \frac{a_1}{2} + \delta &gt; 0\)</span>. So <span class="math inline">\(\underline{x}\)</span> is in the set.</p>
<p>Since this works for all points <span class="math inline">\({\underline{a}}\)</span> in the set, the set is open.</p></li>
<li><p><span class="math inline">\(\qquad \{(x,y,z):y\ge 0\}\)</span>,</p>
<p>this is not open because it contains points for which <span class="math inline">\(y=0\)</span>. Let <span class="math inline">\(\underline{x}\)</span> be such a point, and consider a sphere of radius <span class="math inline">\(\delta&gt;0\)</span> around <span class="math inline">\(\underline{x}\)</span>. Then <span class="math inline">\(\underline{x}- \delta \underline{e}_2 = (x,-\delta,z) \in B_{\delta}({\underline{x}})\)</span>, and this point does not lie in the original set.</p></li>
<li><p><span class="math inline">\(\qquad \{(x,y,z):1&gt;{(x^2+y^2)/ z}\}\)</span>,</p>
<p><span class="math inline">\(1&gt;(x^2+y^2)/ z\)</span> implies <span class="math inline">\(z&gt;x^2+y^2\)</span> or <span class="math inline">\(z&lt;0\)</span>, and this is open because for any point we can construct a sphere centred on that point and lying entirely within the set, even points arbitrarily close to the paraboloid <span class="math inline">\(z=x^2+y^2\)</span> or to <span class="math inline">\(z=0\)</span>. (Beware: you might forget that points with <span class="math inline">\(z&lt;0\)</span> are also in the set!)</p></li>
<li><p><span class="math inline">\(\qquad \{(x,y,z):1\ge {(x^2+y^2)/ z}\}\)</span>?</p>
<p>this is not open because it contains points for which <span class="math inline">\(z=x^2+y^2\)</span>, and any sphere with such a point as its centre contains points outside the set.</p></li>
</ul>
<p>Prove that an open ball, as defined in lectures, is an open set.</p>
<p>Let <span class="math inline">\(B_{\delta}({\underline{a}})\)</span> be the open ball centred at <span class="math inline">\({\underline{a}}\)</span> with radius <span class="math inline">\(\delta\)</span>, and let <span class="math inline">\({\underline{x}}\)</span> be any point in <span class="math inline">\(B_{\delta}({\underline{a}})\)</span>. We need to show that there’s a <span class="math inline">\(\delta&#39;\)</span> such that <span class="math inline">\(B_{\delta&#39;}({\underline{x}})\subset B_{\delta}({\underline{a}})\)</span>. Since <span class="math inline">\({\underline{x}}\in B_{\delta}({\underline{a}})\)</span>, <span class="math inline">\(|{\underline{x}}-{\underline{a}}|&lt;\delta\)</span>. Let <span class="math inline">\(\delta&#39;=\delta-|{\underline{x}}-{\underline{a}}|\)</span>. By the remark just made, <span class="math inline">\(\delta&#39;&gt;0\)</span>, and if <span class="math inline">\({\underline{x}}&#39;\)</span> is any point in <span class="math inline">\(B_{\delta&#39;}({\underline{x}})\)</span> then <span class="math inline">\(|{\underline{x}}&#39;-{\underline{x}}|&lt;\delta&#39;\)</span> which implies <span class="math inline">\(|{\underline{x}}&#39;-{\underline{a}}|=|{\underline{x}}&#39;-{\underline{x}}+{\underline{x}}-{\underline{a}}|\le
|{\underline{x}}&#39;-{\underline{x}}|+|{\underline{x}}-{\underline{a}}|\)</span> (by the triangle inequality). Hence <span class="math inline">\(|{\underline{x}}&#39;-{\underline{a}}|
&lt; \delta&#39;+|{\underline{x}}-{\underline{a}}|=\delta\)</span>, and so <span class="math inline">\({\underline{x}}&#39;\in B_{\delta}({\underline{a}})\)</span>, which is what we needed to prove. (This all becomes much clearer if you draw a picture – basically we are just setting <span class="math inline">\(\delta&#39;\)</span> equal to the distance from <span class="math inline">\({\underline{x}}\)</span> to the edge of <span class="math inline">\(B_{\delta}({\underline{a}})\)</span>.)</p>
<p>Prove that the intersection of two open sets, as defined in lectures, is another open set. (Note that the empty set is an open set: since it contains no points, the statement that every point in it sits inside an open ball which is also in the set is <em>vacuously</em> true.) What about the intersection of a finite number of open sets? And what about the intersection of an <em>infinite</em> number of open sets?</p>
<p>Let the two open sets be <span class="math inline">\(S_1\)</span> and <span class="math inline">\(S_2\)</span>, and put <span class="math inline">\(S=S_1\cap S_2\)</span>. If <span class="math inline">\(S=\emptyset\)</span> then there’s nothing more to be done since <span class="math inline">\(\emptyset\)</span> is open. If <span class="math inline">\(S\neq \emptyset\)</span> then let <span class="math inline">\({\underline{a}}\)</span> be any point in <span class="math inline">\(S\)</span>. Then <span class="math inline">\({\underline{a}}\in
S_1\)</span>, and since <span class="math inline">\(S_1\)</span> is open we can find a value of <span class="math inline">\(\delta_1&gt;0\)</span> such that <span class="math inline">\(B_{\delta_1}({\underline{a}})\subset S_1\)</span>; and similarly <span class="math inline">\({\underline{a}}\in
S_2\)</span>, and we can find a value of <span class="math inline">\(\delta_2&gt;0\)</span> such that <span class="math inline">\(B_{\delta_2}({\underline{a}})\subset S_2\)</span>. Now set <span class="math inline">\(\delta=\min(\delta_1,\delta_2)\)</span>; then <span class="math inline">\(B_\delta({\underline{a}})\)</span> is a subset of both <span class="math inline">\(S_1\)</span> and <span class="math inline">\(S_2\)</span>, which means that it is a subset of <span class="math inline">\(S\)</span>. Since this works for <em>any</em> point <span class="math inline">\({\underline{a}}\in S\)</span>, this proves that <span class="math inline">\(S\)</span> is open.<br />
For the intersection <span class="math inline">\(S\)</span> of a finite number of open sets <span class="math inline">\(S_1\)</span>, <span class="math inline">\(S_2\)</span>, … <span class="math inline">\(S_n\)</span>, the argument is much the same: either <span class="math inline">\(S\)</span> is the empty set, or else for any point <span class="math inline">\({\underline{a}}\)</span> in <span class="math inline">\(S\)</span> we can take <span class="math inline">\(\delta=\min(\delta_1,\delta_2, \dots \delta_n)\)</span> and show that <span class="math inline">\(B_{\delta}({\underline{a}})\)</span> is in <span class="math inline">\(S\)</span>.<br />
However this doesn’t necessarily work for an infinite intersection, as <span class="math inline">\(\min(\delta_1,\delta_2,\dots)\)</span> might be zero if there are infinitely many <span class="math inline">\(\delta_i\)</span>s. For example, if for <span class="math inline">\(n=1,2,\dots\)</span> <span class="math inline">\(S_n\)</span> is the open ball centred on the origin with radius <span class="math inline">\(1/n\)</span>, then the interection of all the <span class="math inline">\(S_n\)</span>s is the set containing the single point <span class="math inline">\({\underline{0}}\)</span>, which is <em>not</em> an open set.</p>
<p>Exam question June 2014 (Section A):</p>
<ul>
<li><p>Give the definition of the open ball <span class="math inline">\(B_{\delta}(\mathbf{a})\)</span> with centre <span class="math inline">\(\mathbf{a}\in\mathbb{R}^n\)</span> and radius <span class="math inline">\(\delta&gt;0\)</span>, and define what it means for a subset <span class="math inline">\(S\)</span> of <span class="math inline">\(\mathbb{R}^n\)</span> to be open.</p></li>
<li><p>Which of the following subsets of <span class="math inline">\(\mathbb{R}^2\)</span> are open? In each case, justify your answer in terms of the definition you gave in part (a).</p>
<ul>
<li><p><span class="math inline">\(S_1=\{(x,y): x&gt;2\}\)</span> ,</p></li>
<li><p><span class="math inline">\(S_2=\{(x,y): x&gt;2,y=2\}\)</span> ,</p></li>
<li><p><span class="math inline">\(S_3=\{(x,y): x&gt;2,y&gt;2\}\)</span> .</p></li>
</ul></li>
</ul>
<ul>
<li><p><span class="math inline">\(B_{\delta}(\mathbf{a})=\{{\underline{x}}\in\mathbb{R}^n:|{\underline{x}}-{\underline{a}}|&lt;\delta\}\)</span>; a subset <span class="math inline">\(S\)</span> of <span class="math inline">\(\mathbb{R}^n\)</span> is <em>open</em> if for each point <span class="math inline">\({\underline{a}}\in S\)</span> there is an open ball <span class="math inline">\(B_{\delta}({\underline{a}})\)</span> which is also in <span class="math inline">\(S\)</span> (where <span class="math inline">\(\delta\)</span> might depend on <span class="math inline">\({\underline{a}}\)</span>).</p></li>
<li><p>open, not open, open. (NB: ‘not open’ is not the same as ‘closed’!) In each case some justification should be given. (Sketch for part (i): if <span class="math inline">\(\underline{a}=(a_1,a_2)\in S_1\)</span> then <span class="math inline">\(a_1-2&gt;0\)</span>. Let <span class="math inline">\(\delta=a_1-2&gt;0\)</span>, and consider <span class="math inline">\(\underline{x}=(x,y) \in B_{\delta}(\underline{a})\)</span>. We want to show <span class="math inline">\(\underline{x}\in S_1\)</span>, which means we need to show <span class="math inline">\(x&gt; 2\)</span>. We have <span class="math inline">\(x - 2 = x - a_1 + a_1 -2 = x - a_1 + \delta\)</span>. But <span class="math inline">\(|x - a_1| &lt; \delta \implies -\delta &lt; x-a_1 &lt; \delta\)</span>, so <span class="math inline">\(x - 2 = x-a_1 + \delta &gt; 0\)</span>, and hence <span class="math inline">\(B_{\delta}(\underline{a}) \subset S_1\)</span>.)</p></li>
</ul>
<p>Exam question (last part) June 2014 (Section B): Determine the points of <span class="math inline">\(\mathbb{R}^2\)</span> at which the function <span class="math inline">\(f(x,y) = 
|xy+x+y+1|\)</span> is<br />
(a) continuously differentiable; (b) differentiable.</p>
<p><strong>Hint:</strong> first factorise <span class="math inline">\(f\)</span>.</p>
<p><span class="math inline">\(f(x,y)=|xy+x+y+1|=|(x+1)(y+1)|\)</span> so <span class="math inline">\(f(x,y)=(x+1)(y+1)\)</span> for <span class="math inline">\((x+1)(y+1)&gt;0\)</span> and <span class="math inline">\(f(x,y)=-(x+1)(y+1)\)</span> for <span class="math inline">\((x+1)(y+1)&lt;0\)</span>. Hence away from the lines <span class="math inline">\(x=-1\)</span> or <span class="math inline">\(y=-1\)</span>, <span class="math inline">\(f\)</span> is a polynomial in <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and therefore has continuous partial derivatives, and hence is both continuously differentiable, and, by the theorem from lectures, differentiable in this region. It remains to consider the two lines <span class="math inline">\(x=-1\)</span> and <span class="math inline">\(y=-1\)</span>.<br />
On the line <span class="math inline">\(x=-1\)</span>, we have <span class="math display">\[\frac{\partial f}{\partial x}=
\lim_{h\rightarrow 0} \frac{f(-1+h,y)-f(-1,y)}{h}
=
\lim_{h\rightarrow 0} \frac{|h(y+1)|}{h}
=
\lim_{h\rightarrow 0} \frac{|h|}{h}\,|y+1|\,.\]</span> Hence for <span class="math inline">\(y\neq -1\)</span> the limit doesn’t exist as <span class="math inline">\(|h|/h=\pm 1\)</span>; while for <span class="math inline">\(y=-1\)</span> the limit exists and is zero. Also on the line <span class="math inline">\(x=-1\)</span> we have <span class="math display">\[\frac{\partial f}{\partial y}=
\lim_{h\rightarrow 0} \frac{f(-1,y+h)-f(-1,y)}{h} =0\,.\]</span> Similarly on the line <span class="math inline">\(y=-1\)</span>, <span class="math inline">\(\frac{\partial f}{\partial x}=0\)</span> while <span class="math inline">\(\frac{\partial f}{\partial y}\)</span> does not exist except at <span class="math inline">\(x=-1\)</span>.<br />
Since one or other partial derivative does not exist on the lines <span class="math inline">\(x=-1\)</span> and <span class="math inline">\(y=-1\)</span> away from <span class="math inline">\((x,y)=(-1,-1)\)</span>, <span class="math inline">\(f\)</span> is neither continuously differentiable nor differentiable on these lines away from <span class="math inline">\((-1,-1)\)</span>; it is also not continuously differentiable at <span class="math inline">\((-1,-1)\)</span> since the partial derivatives do not exist on these lines away from that point.<br />
Finally we must ask whether <span class="math inline">\(f\)</span> is differentiable at <span class="math inline">\({\underline{a}}=(-1,-1)\)</span>. Both partials of <span class="math inline">\(f\)</span> are zero at that point, so <em>if</em> <span class="math inline">\(f\)</span> were differentiable there, the remainder term would have to be <span class="math inline">\(R({\underline{h}})=f({\underline{a}}+{\underline{h}})-f({\underline{a}})\)</span>. Consider <span class="math inline">\({\underline{h}}=(h_1,h_2)\)</span>: then <span class="math display">\[\frac{R({\underline{h}})}{|{\underline{h}}|}=
\frac{f(-1+h_1,-1+h_2)-f(-1,-1)}{|{\underline{h}}|}=\frac{|h_1|h_2|}{|{\underline{h}}|}\,.\]</span> Since <span class="math inline">\(|h_1|\le |{\underline{h}}|\)</span> and <span class="math inline">\(|h_2|\le |{\underline{h}}|\)</span>, we have <span class="math inline">\(R({\underline{h}})/|{\underline{h}}|\le |{\underline{h}}|\)</span> and since <span class="math inline">\(|{\underline{h}}|\to 0\)</span> as <span class="math inline">\({\underline{h}}\to 0\)</span>, the same must be true of <span class="math inline">\(R({\underline{h}})/|{\underline{h}}|\)</span>. Hence <span class="math inline">\(f\)</span> <em>is</em> differentiable at <span class="math inline">\((-1,1)\)</span>.<br />
Conclusion: (a) <span class="math inline">\(f\)</span> is continuously differentiable at all points in <span class="math inline">\(\mathbb{R}^2\)</span> away from the lines <span class="math inline">\(x=-1\)</span> or <span class="math inline">\(y=-1\)</span>; (b) <span class="math inline">\(f\)</span> is differentiable at all points in (a) and also at <span class="math inline">\((-1,-1)\)</span>.</p>
<p>Determine the points of <span class="math inline">\(\mathbb{R}^2\)</span> at which the function <span class="math inline">\(f(x,y) = |x^2 - 
y^2|\)</span> is<br />
(a) continuously differentiable; (b) differentiable.</p>
<p><span class="math inline">\(f(x,y) = |x^2 - y^2|\)</span> is <span class="math inline">\(x^2 - y^2\)</span> for <span class="math inline">\(x^2 - y^2=(x-y)(x+y)&gt;0\)</span> and <span class="math inline">\(y^2-x^2\)</span> for <span class="math inline">\(x^2 - y^2=(x-y)(x+y)&lt;0\)</span>. For the first case <span class="math inline">\((x-y)(x+y)&gt;0\)</span> for <span class="math inline">\(x-y&gt;0\)</span> and <span class="math inline">\(x+y&gt;0\)</span> or <span class="math inline">\(x-y&lt;0\)</span> and <span class="math inline">\(x+y&lt;0\)</span>, call this part of <span class="math inline">\(\mathbb{R}^2\)</span> region 1. For the second case <span class="math inline">\((x-y)(x+y)&lt;0\)</span> for <span class="math inline">\(x-y&gt;0\)</span> and <span class="math inline">\(x+y&lt;0\)</span> or <span class="math inline">\(x-y&lt;0\)</span> and <span class="math inline">\(x+y&gt;0\)</span>, call this part of <span class="math inline">\(\mathbb{R}^2\)</span> region 2. Within both regions the function is a polynomial in <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and so has continuous partial derivatives, hence the function is continuously differentiable there. In neighbourhoods of points on the line <span class="math inline">\(y=\pm x\)</span> the function is no longer a polynomial and we have to be more careful so use the definition of the partial derivative: for <span class="math inline">\(y=x=a\)</span> <span class="math display">\[{\partial f\over\partial x}=
\lim_{h\rightarrow 0} {|(a+h)^2-a^2|\over h}=\lim_{h\rightarrow 0} 
{|2ah+h^2|\over h}\]</span> If <span class="math inline">\(a\neq 0\)</span> we can neglect the <span class="math inline">\(h^2\)</span> term in comparison to the <span class="math inline">\(ah\)</span> piece so we get <span class="math display">\[\lim_{h\rightarrow 0} 
{|2ah|\over h}=\lim_{h\rightarrow 0} 
{|2a|\,|h|\over h}\]</span> which does not exist because <span class="math inline">\(|h|\over h\)</span> is <span class="math inline">\(\pm 1\)</span> depending on the sign of <span class="math inline">\(h\)</span>. However if <span class="math inline">\(a=0\)</span> then the limit is <span class="math display">\[\lim_{h\rightarrow 0} 
{|h^2|\over h}=0\,.\]</span> Similar arguments show that <span class="math inline">\({\partial f\over\partial y}\)</span> also does not exist on this line except at the origin, and also that neither partial derivative exists on the line <span class="math inline">\(y=-x\)</span>, except at the origin. Since the p.d.s do not exist on the lines <span class="math inline">\(y=\pm x\)</span> away from <span class="math inline">\({\bf 0}\)</span> the function cannot be differentiable there. It might be differentiable at <span class="math inline">\({\bf 0}\)</span> but cannot be continuously differentiable there, because the p.d.s are not continuous at <span class="math inline">\({\bf 0}\)</span> (since they do not exist on the lines). Now investigate the differentiablity of <span class="math inline">\(f\)</span> at the origin. Consider <span class="math display">\[{R\over |{\bf h}|}={f({\bf h})-f({\bf 0})-{\bf h}\cdot\nabla f\over |{\bf h}|}={|h_1^2-h_2^2|\over |{\bf h}|}\]</span> Now <span class="math display">\[{|h_1^2-h_2^2|\over |{\bf h}|}\leq{h_1^2\over |{\bf h}|}
+{h_2^2\over |{\bf h}|}\leq |{\bf h}|+|{\bf h}|\]</span> we have that <span class="math inline">\(|{R/ |{\bf h}|}|&lt;\epsilon\)</span> whenever <span class="math inline">\(|{\bf h}|&lt;\delta\)</span> by taking <span class="math inline">\(\delta=\epsilon/2\)</span> so <span class="math inline">\(\lim_{{\bf h}\rightarrow 0}
{R/ |{\bf h}|}=0\)</span> and <span class="math inline">\(f\)</span> is differentiable at the origin.</p>
<p>Define <span class="math inline">\(f:\mathbb{R}^2\rightarrow\mathbb{R}\)</span> by <span class="math inline">\(f({\bf 0})=0\)</span> whilst for <span class="math inline">\({\bf x}\,\neq {\bf 0}\)</span>: <span class="math display">\[f({\bf x}\,)={x^3\over x^2+y^2}\,.\]</span> Calculate the partial derivatives of <span class="math inline">\(f\)</span> with respect to <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> at <span class="math inline">\({\bf x}\,={\bf 0}\)</span> <span><em>using their definitions as limits</em></span>. Defining <span class="math inline">\(R({\bf h})\)</span> at the origin by <span class="math inline">\(R({\bf h})=f({\bf h})-f({\bf
0})-{\bf h}\cdot\nabla f\)</span> as usual, show that <span class="math inline">\(R({\bf h})/|{\bf h}|\)</span> does not tend to zero as <span class="math inline">\({\bf h}\)</span> tends to <span class="math inline">\(\bf 0\)</span>, so that <span class="math inline">\(f\)</span> is not differentiable at the origin.<br />
On the line through the origin, <span class="math inline">\({\bf x}\,={\bf b}t\)</span>, (with <span class="math inline">\({\bf b}\)</span> a constant vector), <span class="math inline">\(f\)</span> becomes a function of the single variable <span class="math inline">\(t\)</span>, <span class="math inline">\(f({\bf b}t)\)</span>. Write <span class="math inline">\({\bf b}={\bf e_1}b_1+{\bf e_2}b_2\)</span> and use this to write <span class="math inline">\(f({\bf b}t)\)</span> explicitly as a function of <span class="math inline">\(t\)</span>. Show that this function is differentiable at the origin, i.e. <span class="math inline">\(df/dt\)</span> exists at <span class="math inline">\(t=0\)</span> despite <span class="math inline">\(f({\bf x}\,)\)</span> not being differentiable at <span class="math inline">\(\bf 0\)</span>.</p>
<p><span class="math display">\[{\partial f\over\partial x}=\lim_{h\rightarrow 0}{f(h{\bf e_1})-f({\bf 0})\over h}
=\lim_{h\rightarrow 0}{h-0\over h}=1\]</span> and <span class="math display">\[{\partial f\over\partial y}=\lim_{h\rightarrow 0}{f(h{\bf e_2})-f({\bf 0})\over h}
=\lim_{h\rightarrow 0}{0-0\over h}=0\,.\]</span> With the standard definition of <span class="math inline">\(R\)</span>, <span class="math display">\[{R\over |{\bf h}|}={f({\bf h})-f({\bf 0})-
{\bf h}\cdot\nabla f\over |{\bf h}|}
={h_1^3\over (h_1^2+h_2^2)^{3/2}}-0-
{h_1\over (h_1^2+h_2^2)^{1/2}}={-h_1 h_2^2 \over (h_1^2+h_2^2)^{3/2}}\]</span> now consider how this behaves as the origin is approached along the line <span class="math inline">\(h_2=mh_1\)</span> then <span class="math display">\[{R\over |{\bf h}|}={-m^2h_1^3
\over (1+m^2)^{3/2} h_1^3}={-m^2
\over (1+m^2)^{3/2} }\]</span> which remains constant as the origin is approached. Since this is not zero <span class="math inline">\(f\)</span> cannot be differentiable at the origin. <span class="math display">\[f({\bf b}t)={(b_1t)^3\over (b_1t)^2+(b_2t)^2}=t{b_1^3\over b_1^2+b_2^2}\]</span> which is <span class="math inline">\(t\)</span> multiplied by a constant (this also holds at <span class="math inline">\(\bf 0\)</span> since <span class="math inline">\(f\)</span> is defined to vanish there), and so is differentiable at the origin.</p>
<p>Exam Question June 2022 (Part B)</p>
<ol>
<li><p>Let <span class="math inline">\(f:\mathbb{R}^n\to\mathbb{R}\)</span> be a scalar field on <span class="math inline">\(\mathbb{R}^n\)</span>. Define what it means for the limit of <span class="math inline">\(f({\underline{x}})\)</span> as <span class="math inline">\({\underline{x}}\)</span> tends to <span class="math inline">\({\underline{a}}\)</span> to be <span class="math inline">\(L\)</span>.</p></li>
<li><p>Define what it means for <span class="math inline">\(f\)</span> to be continuous at <span class="math inline">\({\underline{a}}\)</span>.</p></li>
<li><p>Let <span class="math inline">\(f\)</span> be a scalar field on <span class="math inline">\(\mathbb{R}^2\)</span> given by <span class="math display">\[f(x,y) = \left\{\begin{array}{cc}
			xy(x^2-y^2)/(x^2+y^2) \qquad\qquad&amp; (x,y) \ne (0,0),\\
			0 \qquad\qquad&amp; (x,y) = (0,0).
			\end{array}\right.\]</span> Show that <span class="math inline">\(f\)</span> is continuous on <span class="math inline">\(\mathbb{R}^2\)</span>, stating any results that you use.</p></li>
<li><p>Is <span class="math inline">\(f\)</span> differentiable at the origin?</p></li>
<li><p>Show that, at the origin, <span class="math display">\[\frac{\partial^2f}{\partial x \partial y}\ne \frac{\partial^2f}{\partial y \partial x}.\]</span></p></li>
</ol>
<ol>
<li><p>The limit of <span class="math inline">\(f({\underline{x}})\)</span> as <span class="math inline">\({\underline{x}}\)</span> tends to <span class="math inline">\({\underline{a}}\)</span> is <span class="math inline">\(L\)</span>, or <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{a}}}f({\underline{x}})=L\)</span>, if <span class="math inline">\(\forall \epsilon&gt;0\)</span>, <span class="math inline">\(\exists \delta&gt;0\)</span> such that <span class="math inline">\(|f({\underline{x}})-L| &lt; \epsilon \quad \forall x\)</span> such that <span class="math inline">\(0&lt;|{\underline{x}}-{\underline{a}}|&lt;\delta\)</span>.</p></li>
<li><p><span class="math inline">\(f\)</span> is continuous at <span class="math inline">\({\underline{a}}\)</span> if <span class="math inline">\(f({\underline{a}})\)</span> exists and <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{a}}}f({\underline{x}})=f({\underline{a}})\)</span>.</p></li>
<li><p>For any <span class="math inline">\({\underline{a}}\ne{\underline{0}}\)</span>, <span class="math inline">\(f\)</span> is continuous at <span class="math inline">\({\underline{a}}\)</span> by Theorem 5.3. To see that <span class="math inline">\(f\)</span> is continuous at <span class="math inline">\({\underline{0}}\)</span>, we first note that <span class="math inline">\(f({\underline{0}})=0\)</span>, and so we must have <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{a}}}f({\underline{x}})=0\)</span>. Letting <span class="math inline">\(\delta=\sqrt{\epsilon}\)</span>, then if <span class="math inline">\(|{\underline{x}}|&lt;\delta=\sqrt{\epsilon}\)</span> <span class="math display">\[|f({\underline{x}})-0| \le \frac{|{\underline{x}}||{\underline{x}}||x^2-y^2|}{|{\underline{x}}|^2} \le |x^2+y^2| &lt; \delta^2 = \epsilon.\]</span> Therefore <span class="math inline">\(\lim_{{\underline{x}}\to{\underline{a}}}f({\underline{x}})=0=f({\underline{a}})\)</span>, and so <span class="math inline">\(f\)</span> is also continuous at <span class="math inline">\({\underline{0}}\)</span>. We have therefore shown that <span class="math inline">\(f\)</span> is continuous on <span class="math inline">\(\mathbb{R}^2\)</span>.</p></li>
<li><p>We first calculate the partial derivatives at the origin, using their limit definitions. <span class="math display">\[\frac{\partial f}{\partial x}({\underline{0}}) = \lim_{h\to 0}\frac{f(0+h,0)-f(0,0)}{h} = \lim_{h\to 0}\frac{0/h^2-0}{h} = 0,\]</span> and similarly <span class="math display">\[\frac{\partial f}{\partial y}({\underline{0}}) = \lim_{h\to 0}\frac{f(0,0+h)-f(0,0)}{h} = \lim_{h\to 0}\frac{0-0/h^2}{h} = 0,\]</span> and therefore <span class="math inline">\({\underline{\nabla}}f({\underline{0}})={\underline{0}}\)</span>.</p>
<p>By definition, <span class="math inline">\(f\)</span> is differentiable at <span class="math inline">\({\underline{0}}\)</span>, if <span class="math inline">\(f({\underline{x}}+{\underline{h}}) - f({\underline{x}}) = {\underline{h}}\cdot{\underline{\nabla}}f + R({\underline{h}})\)</span>, with <span class="math inline">\(\lim_{{\underline{h}}\to{\underline{0}}}R({\underline{h}})/|{\underline{h}}|=0\)</span>. At <span class="math inline">\({\underline{x}}={\underline{0}}\)</span>, with <span class="math inline">\({\underline{h}}=(h_1,h_2)\)</span> we therefore have <span class="math display">\[R({\underline{h}}) = \frac{h_1 h_2(h_1^2-h_2^2)}{h_1^2+h_2^2} - 0 - 0,\]</span> and so <span class="math display">\[0\le \left|\frac{R({\underline{h}})}{|{\underline{h}}|}\right| = \frac{|h_1||h_2||h_1^2-h_2^2|}{|{\underline{h}}|^3} \le \frac{|{\underline{h}}||{\underline{h}}||h_1^2-h_2^2|}{|{\underline{h}}|^3} \le \frac{|h_1^2+h_2^2|}{|{\underline{h}}|} = \frac{|{\underline{h}}|^2}{|{\underline{h}}|}=|{\underline{h}}|.\]</span></p>
<p>By the squeezing theorem we therefore have that <span class="math inline">\(\lim_{{\underline{h}}\to{\underline{0}}}\left|\frac{R({\underline{h}})}{|{\underline{h}}|}\right| = 0\)</span>. Since <span class="math inline">\(-\left|\frac{R({\underline{h}})}{|{\underline{h}}|}\right| \le \frac{R({\underline{h}})}{|{\underline{h}}|} \le \left|\frac{R({\underline{h}})}{|{\underline{h}}|}\right|\)</span>, we therefore also have <span class="math inline">\(\lim_{{\underline{h}}\to{\underline{0}}}\frac{R({\underline{h}})}{|{\underline{h}}|} = 0\)</span> by another application of the squeezing theorem, and hence <span class="math inline">\(f\)</span> is differentiable at <span class="math inline">\({\underline{0}}\)</span>.</p></li>
<li><p>We will first need to calculate <span class="math inline">\(f_x(0,y)\)</span> for <span class="math inline">\(x\ne 0\)</span>, and <span class="math inline">\(f_y(x,0)\)</span> for <span class="math inline">\(y\ne 0\)</span>.</p>
<p>For <span class="math inline">\(y\ne 0\)</span>, we have <span class="math display">\[f_x(0,y) = \lim_{h\to 0}\frac{f(0+h,y)-f(0,y)}{h} = \lim_{h\to 0}\frac{hy(h^2-y^2)}{h(h^2+y^2)} = \lim_{h\to 0}\frac{y(h^2-y^2)}{(h^2+y^2)} = -y,\]</span> and similarly for <span class="math inline">\(x\ne 0\)</span> we have <span class="math display">\[f_y(x,0) = \lim_{h\to 0}\frac{f(x,0+h)-f(x,0)}{h} = \lim_{h\to 0}\frac{xh(x^2-h^2)}{h(x^2+h^2)} = \lim_{h\to 0}\frac{x(x^2-h^2)}{(x^2+h^2)} = x.\]</span></p>
<p>Therefore <span class="math display">\[\frac{\partial^2 f}{\partial x \partial y}({\underline{0}}) = \lim_{h\to 0}\frac{f_y(0+h,0) - f_y(0,0)}{h} = \lim_{h\to 0}\frac{h-0}{h} = 1,\]</span> and similarly <span class="math display">\[\frac{\partial^2 f}{\partial y \partial x}({\underline{0}}) = \lim_{h\to 0}\frac{f_x(0,0+h) - f_x(0,0)}{h} = \lim_{h\to 0}\frac{-h-0}{h} = -1,\]</span> and so <span class="math inline">\(\frac{\partial^2f}{\partial x \partial y}\ne \frac{\partial^2f}{\partial y \partial x}\)</span> at the origin as required.</p></li>
</ol>
<p>If <span class="math inline">\(y = 1 + xy^5\)</span> show that <span class="math inline">\(y\)</span> may be written in the form <span class="math inline">\(y = f(x)\)</span> in a neighbourhood of <span class="math inline">\((0,1)\)</span> and find the gradient of the graph of <span class="math inline">\(f\)</span> at the point <span class="math inline">\((0,1)\)</span>.</p>
<p><span class="math inline">\(y = 1 + xy^5\)</span> is a level curve of <span class="math inline">\(H=y-1 -xy^5\)</span> with <span class="math inline">\(H=0\)</span> and passes through <span class="math inline">\((0,1)\)</span>. <span class="math inline">\(H\)</span> is polynomial in <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and so has continuous derivatives and is therefore differentiable. The implicit function theorem then implies that <span class="math inline">\(y\)</span> may be written in the form <span class="math inline">\(y = f(x)\)</span> in a neighbourhood of <span class="math inline">\((0,1)\)</span> if <span class="math inline">\({\partial H\over \partial y}\neq 0\)</span> there. Now <span class="math inline">\({\partial H\over \partial y}=1-5xy^4=1\)</span> at <span class="math inline">\((0,1)\)</span> so the condition is satisfied. The implicit function theorem also gives the gradient of the function as <span class="math display">\[f&#39;(0)=-{\partial H\over \partial x}/{\partial H\over \partial y}\,,\]</span> now <span class="math inline">\({\partial H\over \partial x}=-y^5=-1\)</span> at <span class="math inline">\((0,1)\)</span> so <span class="math inline">\(f&#39;(0)=1\)</span>.</p>
<p>Show that the equation <span class="math inline">\(xy^3 - y^2 -3x^2 + 1 = 0\)</span> can be written in the form <span class="math inline">\(y = f(x)\)</span> in a neighbourhood of the point <span class="math inline">\((0,1)\)</span>, and in the form <span class="math inline">\(y = g(x)\)</span> in a neighbourhood of the point <span class="math inline">\((0,-1)\)</span>. Is it true that <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> are equivalent as functions of <span class="math inline">\(x\)</span>? What are the critical values of the curve <span class="math inline">\(H(x,y) = xy^3 - y^2 -3x^2 + 1\)</span>, and what are the regular values of this curve?</p>
<p><span class="math inline">\(xy^3 - y^2 -3x^2 + 1 = 0\)</span> is a level curve of <span class="math inline">\(H=xy^3 - y^2 -3x^2 + 1\)</span> with <span class="math inline">\(H=0\)</span> and passes through <span class="math inline">\((0,\pm 1)\)</span>. <span class="math inline">\(H\)</span> is polynomial in <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> and so has continuous derivatives and is therefore differentiable. <span class="math inline">\({\partial H\over
\partial y}=3xy^2 - 2y\)</span>, so at <span class="math inline">\((0,\pm 1)\)</span>, <span class="math inline">\({\partial H\over \partial y}\neq
0\)</span>. The implicit function theorem then implies that <span class="math inline">\(y\)</span> may be written in the form <span class="math inline">\(y = f(x)\)</span> in a neighbourhood of the point <span class="math inline">\((0,1)\)</span>, and in the form <span class="math inline">\(y = g(x)\)</span> in a neighbourhood of the point <span class="math inline">\((0,-1)\)</span>. Note that at <span class="math inline">\(x=0\)</span> we must have <span class="math inline">\(f(0)=1\)</span> but <span class="math inline">\(g(0)=-1\)</span> so <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span> cannot be equivalent as functions of <span class="math inline">\(x\)</span>. In fact solving <span class="math inline">\(xy^3 - y^2 - 3x^2 + 1 = 0\)</span> for <span class="math inline">\(y\)</span> gives three solutions, since it is a cubic equation and one passes through <span class="math inline">\((0,1)\)</span> another through <span class="math inline">\((0,- 1)\)</span>.</p>
<p>To find the critical values of <span class="math inline">\(H(x,y)\)</span>, we must consider values of <span class="math inline">\(c\)</span> for which the curve <span class="math inline">\(H(x,y)=c\)</span> contains critical points, i.e. points where <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu H = 0\)</span>. We have <span class="math inline">\(\frac{\partial H}{\partial x} = y^3 -6x\)</span>, so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu H = 0\)</span> if we have <span class="math inline">\(y^3 -6x=0\)</span> and <span class="math inline">\(3xy^2 - 2y = 0\)</span>. If <span class="math inline">\(y\ne 0\)</span>, we can rearrange these equations in terms of <span class="math inline">\(x\)</span> and set them equal to give <span class="math inline">\(\frac{y^3}{6} = \frac{2}{3y}\)</span>, with real solutions <span class="math inline">\(y= \pm \sqrt{2}\)</span>. Substituting this back to find <span class="math inline">\(x\)</span>, we have <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu H = 0\)</span> at the points <span class="math inline">\((\pm \frac{\sqrt{2}}{3},\pm\sqrt{2})\)</span>, so these are critical points of <span class="math inline">\(H(x,y)\)</span>. If <span class="math inline">\(y=0\)</span>, then we have <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu H = 0\)</span> if <span class="math inline">\(x=0\)</span>, so there is also a critical point at the origin. Critical values of <span class="math inline">\(H(x,y)\)</span> are values <span class="math inline">\(c\)</span> where <span class="math inline">\(H(x,y)=c\)</span> contains critical points of <span class="math inline">\(H\)</span>, so we need to find which values of <span class="math inline">\(c\)</span> the critical points correspond to. Since <span class="math inline">\(H(\pm \frac{\sqrt{2}}{3},\pm\sqrt{2}) = -\frac{1}{3}\)</span>, we have one critical value at <span class="math inline">\(c=-\frac{1}{3}\)</span>, and since <span class="math inline">\(H(\underline{0})=1\)</span>, we have another critical value at <span class="math inline">\(c=1\)</span>. The regular values are therefore <span class="math inline">\(\mathbb{R}-\{-\frac{1}{3},1\}\)</span>.</p>
<p>Determine whether or not the equation <span class="math inline">\(x^2 + y + \sin (xy) =0\)</span> can be written in the form <span class="math inline">\(y = f(x)\)</span> or in the form <span class="math inline">\(x = g(y)\)</span> in some small open disc about the origin for some suitable continuously differentiable functions <span class="math inline">\(f,g\)</span>.</p>
<p><span class="math inline">\(x^2 + y + \sin (xy) =0\)</span> is a level curve of <span class="math inline">\(H=x^2 + y + \sin (xy)\)</span> with <span class="math inline">\(H=0\)</span> and passes through the origin. <span class="math inline">\(H\)</span> has continuous partial derivatives and so is differentiable. <span class="math inline">\({\partial H\over \partial y}=1+x \cos (xy)\)</span> is <span class="math inline">\(1\)</span> at the origin and <span class="math inline">\({\partial H\over \partial x}=2x +y\cos (xy)\)</span> vanishes at the origin, so by the implicit function theorem <span class="math inline">\(y\)</span> may be written in the form <span class="math inline">\(y = f(x)\)</span> in a neighbourhood of the origin with differentiable <span class="math inline">\(f\)</span>, but <span class="math inline">\(x\)</span> cannot be written in the form <span class="math inline">\(x = g(y)\)</span>.</p>
<p>Exam question May 2015 (Section B, lightly edited):<br />
Let <span class="math inline">\(f: \mathbb{R}^2\to\mathbb{R}\)</span> be the scalar function <span class="math inline">\(f(x,y)=e^{xy}-x+y\)</span>.<br />
</p>
<ul>
<li><p>Find the vector equations of the tangent and normal lines to the curve <span class="math inline">\(f(x,y)=0\)</span> at the points <span class="math inline">\((1,0)\)</span> and <span class="math inline">\((0,-1)\)</span>.</p></li>
<li><p>Use the implicit function theorem for functions of two variables to determine whether or not we can guarantee the curve <span class="math inline">\(f(x,y)=2\)</span> can be written in the form <span class="math inline">\(y=g(x)\)</span> for some differentiable function <span class="math inline">\(g(x)\)</span> in the neighbourhoods of the points  (i) <span class="math inline">\((0,1)\)</span> ;   (ii) <span class="math inline">\((-1,0)\)</span>.<br />
Determine also whether we can guarantee the curve can be written as <span class="math inline">\(x=h(y)\)</span> for some differentiable function <span class="math inline">\(h(y)\)</span>, in the neighbourhoods of the same two points.</p></li>
<li><p>Does the function <span class="math inline">\(f(x,y)\)</span> have any critical points? Justify your answer. (You can quote without proof that <span class="math inline">\(|xe^{-x^2}|&lt;1\)</span> for all <span class="math inline">\(x\in\mathbb{R}\)</span>.)</p></li>
</ul>
<ul>
<li><p>We have <span class="math display">\[\nabla f=\frac{\partial f}{\partial x}\mathbf{e}_1+
\frac{\partial f}{\partial y}\mathbf{e}_1~,\qquad
\frac{\partial f}{\partial x}=ye^{xy}-1~,\quad
\frac{\partial f}{\partial y}=xe^{xy}+1~,\]</span> and so <span class="math inline">\(\nabla f(1,0)=-\mathbf{e}_1+2\mathbf{e}_2\)</span> and <span class="math inline">\(\nabla f(0,-1)=-2\mathbf{e}_1+\mathbf{e}_2\)</span>.<br />
Hence the equations of the normal lines at <span class="math inline">\((1,0)\)</span> and <span class="math inline">\((0,-1)\)</span> can be written as <span class="math display">\[\mathbf{x}=\mathbf{e}_1+\lambda(-\mathbf{e}_1+2\mathbf{e}_2)=
(1-\lambda)\mathbf{e}_1+2\lambda\mathbf{e}_2\]</span> and <span class="math display">\[\mathbf{x}=-\mathbf{e}_2+\lambda(-2\mathbf{e}_1+\mathbf{e}_2)=
-2\lambda\mathbf{e}_1+(\lambda-1)\mathbf{e}_2\]</span> respectively. Vectors perpendicular to <span class="math inline">\(\nabla f\)</span> at <span class="math inline">\((1,0)\)</span> and <span class="math inline">\((0,-1)\)</span> are (for example) <span class="math inline">\(2\mathbf{e}_1+\mathbf{e}_2\)</span> and <span class="math inline">\(\mathbf{e}_1+2\mathbf{e}_2\)</span>, so the two tangent lines can be written as <span class="math display">\[\mathbf{x}=\mathbf{e}_1+\mu(2\mathbf{e}_1+\mathbf{e}_2)=
(1+2\mu)\mathbf{e}_1+\mu\mathbf{e}_2\]</span> and <span class="math display">\[\mathbf{x}=-\mathbf{e}_2+\mu(\mathbf{e}_1+2\mathbf{e}_2)=
\mu\mathbf{e}_1+(2\mu-1)\mathbf{e}_2\,.\]</span></p></li>
<li><p>Reminder of implicit function theorem (not needed for the problem sheet, though it <em>did</em> feature in the exam question: if <span class="math inline">\(f(x,y): U\to\mathbb{R}\)</span> is differentiable on <span class="math inline">\(U\)</span> with <span class="math inline">\(U\)</span> open in <span class="math inline">\(\mathbb{R}^2\)</span>, and if <span class="math inline">\((x_0,y_0)\)</span> is a point on the level curve <span class="math inline">\(f(x,y)=c\)</span> at which <span class="math inline">\(\frac{\partial f}{\partial y}\neq 0\)</span>, then a differentiable function <span class="math inline">\(g(x)\)</span> exists in a neighbourhood of <span class="math inline">\(x=x_0\)</span> such that (I) <span class="math inline">\(f(x,g(x))=c\)</span> and (II) <span class="math inline">\(\frac{d g}{dx}=-\frac{\partial f}{\partial x}
\frac{\partial f}{\partial y}\)</span>, with <span class="math inline">\(g(x_0)=y_0\)</span>. Here, <span class="math inline">\(f\)</span> is everywhere differentiable and we just need to check the partials. At <span class="math inline">\((0,1)\)</span>, <span class="math inline">\(\frac{\partial f}{\partial y}=1\)</span> so the curve <em>can</em> be written as <span class="math inline">\(y=g(x)\)</span>; but at <span class="math inline">\((-1,0)\)</span>, <span class="math inline">\(\frac{\partial f}{\partial y}=0\)</span> so we <em>cannot guarantee</em> the curve can be written as <span class="math inline">\(y=g(x)\)</span>. For the final part, swap <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> in the implicit function theorem and check the partial <span class="math inline">\(x\)</span> derivatives: at <span class="math inline">\((0,1)\)</span>, <span class="math inline">\(\frac{\partial f}{\partial x}=0\)</span> so we <em>cannot guarantee</em> the curve can be written as <span class="math inline">\(x=h(y)\)</span>; and at <span class="math inline">\((-1,0)\)</span>, <span class="math inline">\(\frac{\partial f}{\partial x}=-1\)</span> so the curve <em>can</em> be written as <span class="math inline">\(x=h(y)\)</span>.</p></li>
<li><p>For a critical point we need <span class="math inline">\(\nabla f=\mathbf 0\)</span>, so <span class="math inline">\(ye^{xy}=1\)</span> and <span class="math inline">\(xe^{xy}=-1\)</span> must hold. Adding implies <span class="math inline">\((x+y)e^{xy}=0\)</span>, so <span class="math inline">\(y=-x\)</span>. Then <span class="math inline">\(xe^{-x^2}=-1\)</span> is required, but this contradicts the inequality given in the question. Hence <span class="math inline">\(f\)</span> has no critical points.</p></li>
</ul>
<p>Part of Exam Question May 2017 (Section B):</p>
<ul>
<li><p>Consider the function <span class="math display">\[f(x,y) = (3x + y)e^{3xy}.\]</span> Determine whether or not the curve <span class="math inline">\(f(x,y)=c\)</span> can be written in the form <span class="math inline">\(y=g(x)\)</span>, and if not, state clearly the points <span class="math inline">\((x_0,y_0)\)</span> and corresponding values of <span class="math inline">\(c\)</span> where problems occur. You may assume that <span class="math inline">\(f\)</span> is differentiable on <span class="math inline">\(\mathbb{R}^2\)</span>.</p></li>
<li><p>Using <span class="math inline">\(f(x,y)\)</span> as given in the previous part, determine whether or not the curve <span class="math inline">\((f(x,y)=c)\)</span> can be written in the form <span class="math inline">\(x=h(y)\)</span>, and if not, state clearly the points <span class="math inline">\((x_0,y_0)\)</span> where problems occur.</p></li>
<li><p>Using <span class="math inline">\(f(x,y)\)</span> as in the previous parts of this question, are there any points where the curve <span class="math inline">\(f(x,y)=c\)</span> can neither be written as <span class="math inline">\(y=g(x)\)</span>, nor as <span class="math inline">\(x=h(y)\)</span>?</p></li>
</ul>
<ul>
<li><p>By the implicit function theorem, if <span class="math inline">\((x_0,y_0)\)</span> is a point on the curve <span class="math inline">\(f(x,y)=c\)</span> at which <span class="math inline">\(\frac{\partial f}{\partial y}\ne 0\)</span>, then the curve <span class="math inline">\(f(x,y)=c\)</span> can be written in the form <span class="math inline">\(y=g(x)\)</span> in a neighbourhood of the point <span class="math inline">\((x_0,y_0)\)</span>. We have <span class="math display">\[\begin{aligned}
				\frac{\partial f}{\partial y} &amp;= \frac{\partial}{\partial y}((3x + y)e^{3xy})\\
				&amp;= e^{3xy} + (3x + y)3xe^{3xy}\\
				&amp;= (1 + 9x^2 + 3xy)e^{3xy}\\
				\text{so} \qquad \frac{\partial f}{\partial y} = 0 &amp;\iff 1 + 9x^2 + 3xy = 0\\
				\text{If } x \ne 0 \quad \implies \quad y &amp;= -\frac{(1+9x^2)}{3x} = -\left(3x + \frac{1}{3x}\right) \qquad (\dagger).
			\end{aligned}\]</span> So problems occur at point <span class="math inline">\((x_0,y_0)\)</span> with <span class="math inline">\(y_0 = -(3x_0 + 1/3x_0)\)</span>.</p>
<p>Now we need to find which values of <span class="math inline">\(c\)</span> these problems occur at, so we evaluate <span class="math display">\[\begin{aligned}
				c = f(x_0,y_0) &amp;= \left(3x_0 + \left( - \left( 3x_0 + \frac{1}{3x_0} \right) \right) \right)e^{3x_0(-(3x_0 + 1/3x_0))} \\
				&amp;= -\frac{1}{3x_0} e^{-9x_0^2 - 1},
			\end{aligned}\]</span> which for <span class="math inline">\(x \in \mathbb{R}-\{0\}\)</span> can give any value for <span class="math inline">\(c\)</span> except <span class="math inline">\(c=0\)</span>.</p></li>
<li><p>Similarly, for <span class="math inline">\(x=h(y)\)</span> need <span class="math inline">\(\frac{\partial f}{\partial x} \ne 0\)</span>. Fast way is to notice that <span class="math inline">\(f\)</span> is symmetric under the interchange <span class="math inline">\(3x \leftrightarrow y\)</span>, which gives the result. The long way is <span class="math display">\[\begin{aligned}
				\frac{\partial f}{\partial x} &amp;= \frac{\partial}{\partial x}((3x + y)e^{3xy})\\
				&amp;= 3e^{3xy} + (3x + y)3ye^{3xy}\\
				&amp;= (3 + 3y^2 + 9xy)e^{3xy}\\
				\text{so} \qquad \frac{\partial f}{\partial y} = 0 &amp;\iff 3 + 3y^2 + 9xy = 0\\
				\text{If } y \ne 0 \quad \implies \quad x &amp;= -\frac{(3+3y^2)}{9y} = -\frac{1}{3}\left(y + \frac{1}{y}\right) \qquad (\ddagger).
			\end{aligned}\]</span> So problems occur at point <span class="math inline">\((x_0,y_0)\)</span> with <span class="math inline">\(x_0 = -\frac{1}{3}\left(y_0 + \frac{1}{y_0}\right)\)</span>.</p></li>
<li><p>Points where we can neither write <span class="math inline">\(y=g(x)\)</span> nor <span class="math inline">\(x=h(y)\)</span> are the <em>critical points</em>, where <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu {}f=\underline{0}\)</span>. At these points, both <span class="math inline">\((\dagger)\)</span> and <span class="math inline">\((\ddagger)\)</span> are satisfied simultaneously. If we substitute <span class="math inline">\(3x_0 = -\left(y_0 + \frac{1}{y_0}\right)\)</span> into <span class="math inline">\((\dagger)\)</span>, remembering that this requires <span class="math inline">\(y_0 \ne 0\)</span>, gives <span class="math display">\[\begin{aligned}
				y_0 &amp;= \left( y_0 + \frac{1}{y_0} \right) + 1/\left( y_0 + \frac{1}{y_0} \right) \\
				\implies 0 &amp;= \frac{1}{y_0} + 1/\left( y_0 + \frac{1}{y_0} \right) \\
				\implies 0 &amp;= \left( y_0 + \frac{1}{y_0} \right) + y_0 \\
				\implies 0 &amp;= 2y_0^2 + 1.
			\end{aligned}\]</span> Since <span class="math inline">\(2y_0^2 + 1&gt;0\)</span>, no points simultaneously satisfy <span class="math inline">\((\dagger)\)</span> and <span class="math inline">\((\ddagger)\)</span>, and hence no points exist where <span class="math inline">\(f\)</span> can neither be written as <span class="math inline">\(y=g(x)\)</span> nor as <span class="math inline">\(x=h(y)\)</span>.</p></li>
</ul>
<p>For each of the following two surfaces, show that the surface can be parameterised as <span class="math inline">\(\underline{x}(x,y) = x\underline{e}_1 + y\underline{e}_2 + g(x,y)\underline{e}_3\)</span>, and show that the normal vector <span class="math inline">\(\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y}\)</span> can be written as <span class="math display">\[\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y} = \frac{\underline{\nabla}\,f}{\underline{e}_3\cdot\underline{\nabla}\,f},\]</span> where the surface is a level set of a scalar field <span class="math inline">\(f(\underline{x})\)</span> which you should specify (and which you may assume to be differentiable).</p>
<ol>
<li><p>The upper hemisphere of radius two, centred on the origin (where <span class="math inline">\(z&gt;0\)</span>).</p></li>
<li><p>The surface defined by <span class="math inline">\(e^{x+y+z}=1-(xy)^2\)</span>.</p></li>
</ol>
<ol>
<li><p>The upper hemisphere of radius two, centred on the origin, is the set of points <span class="math inline">\(\underline{x}\)</span> such that <span class="math inline">\(x^2+y^2+z^2=2\)</span> with <span class="math inline">\(z&gt;0\)</span>. On this surface we can therefore explicitly write <span class="math inline">\(z=g(x,y)=\sqrt{2-x^2-y^2}\)</span>, and the surface can therefore be parameterised as <span class="math display">\[\begin{aligned}
			\underline{x}(x,y) &amp;= x\underline{e}_1 + y\underline{e}_2 + g(x,y)\underline{e}_3 \\
			&amp;= x\underline{e}_1 + y\underline{e}_2 + \sqrt{2-x^2-y^2}\underline{e}_3.
		\end{aligned}\]</span> We therefore have <span class="math display">\[\begin{aligned}
			\frac{\partial\underline{x}}{\partial x} &amp;= \underline{e}_1 - x\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_3 \\
			\frac{\partial\underline{x}}{\partial y} &amp;= \underline{e}_2 - y\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_3, \qquad\qquad \text{and so} \\
			\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y} &amp;= x\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_1 + y\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_2 + \underline{e}_3.
		\end{aligned}\]</span></p>
<p>The surface is a level set of the scalar field <span class="math inline">\(f(\underline{x})=x^2+y^2+z^2\)</span>, and so we have <span class="math display">\[\begin{aligned}
			\underline{\nabla}\,f &amp;= 2x\underline{e}_1 + 2y\underline{e}_2 + 2z\underline{e}_3, \qquad\qquad \text{and so} \\
			\frac{\underline{\nabla}\,f}{\underline{e}_3\cdot\underline{\nabla}\,f} &amp;= \frac{x}{z}\underline{e}_1 + \frac{y}{z}\underline{e}_2 + \underline{e}_3 \\
			&amp;= x\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_1 + y\left( 2 - x^2 - y^2 \right)^{-1/2}\underline{e}_2 + \underline{e}_3 \\
			&amp;= \frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y}.
		\end{aligned}\]</span></p></li>
<li><p>The surface is the level set <span class="math inline">\(h(\underline{x})=1\)</span>, of the scalar field <span class="math inline">\(h(\underline{x}) = e^{x+y+z}+(xy)^2\)</span>, which we assume to be differentiable. By the IFT for surfaces, the surface may be written as <span class="math inline">\(z=g(x,y)\)</span> in a neighbourhood of any point <span class="math inline">\((x_0,y_0,z_0)\)</span> at which <span class="math inline">\(\frac{\partial h}{\partial z} \ne 0\)</span>, and this function <span class="math inline">\(g(x,y)\)</span> satisfies <span class="math display">\[\begin{aligned}
			h(x,y,g(x,y)) &amp;= 1 \\
			\frac{\partial g}{\partial x} &amp;= \frac{-\partial h/\partial x}{\partial h/\partial z} \qquad \left( \dagger \right) \\
			\frac{\partial g}{\partial y} &amp;= \frac{-\partial h/\partial y}{\partial h/\partial z} \qquad \left( \ddagger \right),
		\end{aligned}\]</span> in a neighbourhood of <span class="math inline">\((x_0,y_0,z_0)\)</span>.</p>
<p>We have <span class="math display">\[\begin{aligned}
			\frac{\partial h}{\partial x} &amp;= e^{x+y+z} + 2xy^2 \\
			\frac{\partial h}{\partial y} &amp;= e^{x+y+z} + 2x^2y \\
			\frac{\partial h}{\partial z} &amp;= e^{x+y+z},
		\end{aligned}\]</span> and so <span class="math inline">\(\frac{\partial h}{\partial z} \ne 0\)</span> at all points <span class="math inline">\((x_0,y_0,z_0)\)</span>. So, by the IFT, such a function <span class="math inline">\(g(x,y)\)</span> exists in a neighbourhood of all points, and so the surface can be parameterised as <span class="math inline">\(\underline{x}(x,y) = x\underline{e}_1 + y\underline{e}_2 + g(x,y)\underline{e}_3\)</span>.</p>
<p>We therefore have <span class="math display">\[\begin{aligned}
			\frac{\partial\underline{x}}{\partial x} &amp;= \underline{e}_1 + \frac{\partial g}{\partial x}\underline{e}_3 \\
			\frac{\partial\underline{x}}{\partial y} &amp;= \underline{e}_2 + \frac{\partial g}{\partial y}\underline{e}_3, \qquad\qquad \text{and so} \\
			\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y} &amp;= -\frac{\partial g}{\partial x}\underline{e}_1 - \frac{\partial g}{\partial y}\underline{e}_2 + \underline{e}_3,
		\end{aligned}\]</span> and so using <span class="math inline">\(\left( \dagger \right)\)</span> and <span class="math inline">\(\left( \ddagger \right)\)</span>, <span class="math display">\[\begin{aligned}
			\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y} &amp;= \frac{\partial h/\partial x}{\partial h/\partial z}\underline{e}_1 + \frac{\partial h/\partial y}{\partial h/\partial z}\underline{e}_2 + \underline{e}_3 \\
			&amp;= \left( 1 + 2xy^2e^{-(x+y+z)} \right)\underline{e}_1 + \left( 1 + 2x^2ye^{-(x+y+z)} \right)\underline{e}_2 + \underline{e}_3 \\
			&amp;= \frac{\underline{\nabla}\,h}{\underline{e}_3\cdot\underline{\nabla}\,h}.
		\end{aligned}\]</span> Since at all points on this surface we have <span class="math inline">\(e^{x+y+z}=1-(xy)^2\)</span>, we can write this normal in terms of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> only (as we did for the first part of this question), as <span class="math display">\[\frac{\partial\underline{x}}{\partial x}\times \frac{\partial\underline{x}}{\partial y} = \left( 1 + 2xy^2(1-x^2y^2)^{-1} \right)\underline{e}_1 + \left( 1 + 2x^2y(1-x^2y^2)^{-1} \right)\underline{e}_2 + \underline{e}_3.\]</span></p></li>
</ol>
<p><span id="differentialqn" label="differentialqn">[differentialqn]</span> Compute the differential, or Jacobian matrix, and the Jacobian of the function <span class="math inline">\(\underline{V}: \mathbb{R}^2 \to \mathbb{R}^2\)</span> defined by <span class="math inline">\({\underline{V}}(x,y) = (x \cos y, x \sin y)\)</span> . State where <span class="math inline">\(\underline{V}\)</span> defines an orientation preserving local diffeomorphism, and where it defines an orientation reversing local diffeomorphism.</p>
<p><span class="math inline">\({\underline{V}}(x,y) = (x \cos y, x \sin y)\)</span> has Jacobian matrix <span class="math display">\[D{\underline{V}}_{(x,y)}=
\begin{pmatrix}
\cos y\,, &amp; -x\sin y \\
\sin y\,,&amp; x \cos y\end{pmatrix}\]</span> and so the Jacobian is <span class="math display">\[J(\underline{V})=
\left |
\begin{array}{cc}
\cos y\,, &amp; -x\sin y \\
\sin y\,,&amp; x \cos y\end{array}\right|=x\,.\]</span></p>
<p>Since <span class="math inline">\(J(\underline{V}) &gt; 0\)</span> for <span class="math inline">\(x &gt; 0\)</span>, <span class="math inline">\(\underline{V}\)</span> is an orientation preserving local diffeomorphism on <span class="math inline">\(R = \{(x,y) \in \mathbb{R}^2 : x&gt;0\}\)</span>. <span class="math inline">\(\underline{V}\)</span> is an orientation reversing local diffeomorphism on <span class="math inline">\(L = \{(x,y) \in \mathbb{R}^2 : x&lt;0\}\)</span>.</p>
<p>Repeat question <a href="#differentialqn" data-reference-type="ref" data-reference="differentialqn">[differentialqn]</a> for <span class="math inline">\({\underline{V}}(x,y) = (e^x \cos y, e^x \sin y)\)</span> .</p>
<p><span class="math inline">\({\underline{V}}(x,y) = (e^x \cos y, e^x \sin y)\)</span> has Jacobian matrix <span class="math display">\[D{\underline{V}}_{(x,y)}=
\begin{pmatrix}
e^x\cos y\,, &amp; -e^x\sin y \\
e^x\sin y\,,&amp;  e^x\cos y
\end{pmatrix}\]</span> and so the Jacobian is <span class="math display">\[J(\underline{V})=
\left |
\begin{array}{cc}
e^x\cos y\,, &amp; -e^x\sin y \\
e^x\sin y\,,&amp;  e^x\cos y\end{array}
\right|=e^{2x}\,.\]</span></p>
<p>Since <span class="math inline">\(J(\underline{V}) &gt; 0\)</span> for all <span class="math inline">\(x\in\mathbb{R}^2\)</span>, <span class="math inline">\(\underline{V}\)</span> defines an orientation preserving local diffeomorphism on all of <span class="math inline">\(\mathbb{R}^2\)</span> ( to <span class="math inline">\(\underline{V}(\mathbb{R}^2)=\mathbb{R}^2-\{\underline{0}\}\)</span> ).</p>
<p>Calculate the differential, or Jacobian matrix, and the Jacobian of the following transformations:<br />
</p>
<ul>
<li><p><span class="math inline">\(\underline{U}(u,v)=(x(u,v),y(u,v))\)</span> where <span class="math inline">\(x(u,v)={\textstyle\frac{1}{2}}(u+v)\)</span> and <span class="math inline">\(y(u,v)={\textstyle\frac{1}{2}}(u-v)\)</span> ;</p></li>
<li><p><span class="math inline">\(\underline{V}(r,\theta)=(x(r,\theta),y(r,\theta))\)</span> where <span class="math inline">\(x(r,\theta)=r\cos\theta\)</span> and <span class="math inline">\(y(r,\theta)= r\sin\theta\)</span> ;</p></li>
<li><p><span class="math inline">\(\underline{W}(r,\theta,\phi)=
(r\sin\theta\cos\phi,r\sin\theta\sin\phi,r\cos\theta)\)</span> .</p></li>
</ul>
<ul>
<li><p><span class="math display">\[D{\underline{U}}=
\begin{pmatrix}
\frac{\partial x}{\partial u} &amp; 
\frac{\partial x}{\partial v} \\[3pt]
\frac{\partial y}{\partial u} &amp; 
\frac{\partial y}{\partial v} 
\end{pmatrix}
=\begin{pmatrix}
\frac{1}{2} &amp; 
\frac{1}{2} \\[3pt]
\frac{1}{2} &amp; 
-\frac{1}{2} 
\end{pmatrix}\,;
\quad
J({\underline{U}})=
\begin{vmatrix}
\frac{1}{2} &amp; 
\frac{1}{2} \\[3pt]
\frac{1}{2} &amp; 
-\frac{1}{2} 
\end{vmatrix}
=-{\textstyle\frac{1}{2}}\,.\]</span></p></li>
<li><p><span class="math display">\[D{\underline{V}}=
\begin{pmatrix}
\frac{\partial x}{\partial r} &amp; 
\frac{\partial x}{\partial \theta} \\[3pt]
\frac{\partial y}{\partial r} &amp; 
\frac{\partial y}{\partial \theta} 
\end{pmatrix}
=\begin{pmatrix}
\cos\theta &amp; 
-r\sin\theta \\[3pt]
\sin\theta &amp; 
r\cos\theta 
\end{pmatrix}\,;
\quad
J({\underline{V}})=
\begin{vmatrix}
\cos\theta &amp; 
-r\sin\theta \\[3pt]
\sin\theta &amp; 
r\cos\theta 
\end{vmatrix}
=r\,.\]</span></p></li>
<li><p><span class="math display">\[D{\underline{W}}=
\begin{pmatrix}
\,\frac{\partial W_1}{\partial r} &amp; 
\frac{\partial W_1}{\partial \theta} &amp; 
\frac{\partial W_1}{\partial \phi}\, \\[3pt]
\frac{\partial W_2}{\partial r} &amp; 
\frac{\partial W_2}{\partial \theta} &amp; 
\frac{\partial W_2}{\partial \phi} \\[3pt]
\frac{\partial W_3}{\partial r} &amp; 
\frac{\partial W_3}{\partial \theta} &amp; 
\frac{\partial W_3}{\partial \phi} 
\end{pmatrix}
=\begin{pmatrix}
\,\sin\theta\cos\phi &amp;
r\cos\theta\cos\phi &amp;
-r\sin\theta\sin\phi\, \\[3pt]
\sin\theta\sin\phi &amp;
r\cos\theta\sin\phi &amp;
r\sin\theta\cos\phi \\[3pt]
\cos\theta &amp;
-r\sin\theta &amp;
0 \\[3pt]
\end{pmatrix}\,;\]</span> <span class="math display">\[J({\underline{W}})=
\begin{vmatrix}
\,\sin\theta\cos\phi &amp;
r\cos\theta\cos\phi &amp;
-r\sin\theta\sin\phi\, \\[3pt]
\sin\theta\sin\phi &amp;
r\cos\theta\sin\phi &amp;
r\sin\theta\cos\phi \\[3pt]
\cos\theta &amp;
-r\sin\theta &amp;
0 \\[3pt]
\end{vmatrix}
= r^2\sin\theta\,.\]</span></p></li>
</ul>
<p><span id="chainruleJacobian" label="chainruleJacobian">[chainruleJacobian]</span> Adapted from exam question 2009 (Section B) Q7:</p>
<ul>
<li><p>Let <span class="math inline">\(\underline{V}  : \mathbb{R}^n \to \mathbb{R}^n\)</span> be a vector field. Give the definition of <span class="math inline">\(\underline{V}\)</span> being differentiable at a point <span class="math inline">\(\underline{a}\)</span>.</p></li>
<li><p>Let <span class="math inline">\(\underline{V}(x)\)</span> and <span class="math inline">\(\underline{W}(x)\)</span> be two differentiable vector fields in <span class="math inline">\(\mathbb{R}^2\)</span>. Give formulae for the two differentials <span class="math inline">\(D\underline{V}_{\underline{x}}\)</span> and <span class="math inline">\(D\underline{W}_{\underline{x}}\)</span>.</p></li>
<li><p>Use the chain rule to show that the differential of the composite map <span class="math inline">\(\underline{U}(\underline{x}):=
\underline{V}( \underline{W})\)</span> satisfies <span class="math display">\[D\underline{U}_{\underline{x}} =
D\underline{V}_{\underline{W}} D \underline{W}_{\underline{x}} \,.\]</span></p></li>
</ul>
<p><br />
</p>
<ul>
<li><p><span class="math inline">\(\underline{V}\)</span> is differentiable at a point if it can be well enough linearly approximated near that point. In particular, <span class="math inline">\(\underline{V}\)</span> is differentiable at <span class="math inline">\(\underline{a}\)</span> if there exists a linear function <span class="math inline">\(\underline{L}(\underline{h}):\mathbb{R}^n\to\mathbb{R}^n\)</span> such that</p>
<ul>
<li><p><span class="math inline">\(\underline{V}(\underline{a} + \underline{h}) - \underline{V}(\underline{a}) = \underline{L}(\underline{h}) + \underline{R}(\underline{h})\)</span></p></li>
<li><p><span class="math inline">\(\lim_{\underline{h}\to\underline{0}}\frac{\underline{R}(\underline{h})}{|\underline{h}|} = 0\)</span>.</p></li>
</ul></li>
<li><p><span class="math display">\[D\underline{V}_{\underline{x}}=
\begin{pmatrix}
\frac{\partial V_1}{\partial x} &amp;
\frac{\partial V_1}{\partial y} \\[4pt]
\frac{\partial V_2}{\partial x} &amp;
\frac{\partial V_2}{\partial y} 
\end{pmatrix}\]</span> and <span class="math display">\[D\underline{W}_{\underline{x}}=
\begin{pmatrix}
\frac{\partial W_1}{\partial x} &amp; 
\frac{\partial W_1}{\partial y} \\[4pt]
\frac{\partial W_2}{\partial x} &amp;
\frac{\partial W_2}{\partial y} 
\end{pmatrix}\,.\]</span></p></li>
<li><p><span class="math display">\[\begin{aligned}
D\underline{(}U)_{\underline{x}} &amp;=
\begin{pmatrix}
\frac{\partial V_1(\underline{W})}{\partial x} &amp;
\frac{\partial V_1(\underline{W})}{\partial y} \\[4pt]
\frac{\partial V_2(\underline{W})}{\partial x} &amp;
\frac{\partial V_2(\underline{W})}{\partial y} 
\end{pmatrix} \\[6pt]
&amp;=
\begin{pmatrix}
\frac{\partial V_1}{\partial W_1}\frac{\partial W_1}{\partial x} +
\frac{\partial V_1}{\partial W_2}\frac{\partial W_2}{\partial x} \,&amp;\,
\frac{\partial V_1}{\partial W_1}\frac{\partial W_1}{\partial y} +
\frac{\partial V_1}{\partial W_2}\frac{\partial W_2}{\partial y}
\\[4pt]
\frac{\partial V_2}{\partial W_1}\frac{\partial W_1}{\partial x} +
\frac{\partial V_2}{\partial W_2}\frac{\partial W_2}{\partial x} \,&amp;\,
\frac{\partial V_2}{\partial W_1}\frac{\partial W_1}{\partial y} +
\frac{\partial V_2}{\partial W_2}\frac{\partial W_2}{\partial y} 
\end{pmatrix} \\[6pt]
&amp;=
\begin{pmatrix}
\frac{\partial V_1}{\partial W_1} &amp;
\frac{\partial V_1}{\partial W_2} \\[4pt]
\frac{\partial V_2}{\partial W_1} &amp;
\frac{\partial V_2}{\partial W_2}
\end{pmatrix} 
\begin{pmatrix}
\frac{\partial W_1}{\partial x} &amp;
\frac{\partial W_1}{\partial y} \\[4pt]
\frac{\partial W_2}{\partial x} &amp;
\frac{\partial W_2}{\partial y}
\end{pmatrix} ,\end{aligned}\]</span></p></li>
</ul>
<p>as required.</p>
<p>Adapted from exam question 2018 (Section B) Q8:</p>
<ul>
<li><p>Given a vector field <span class="math inline">\(\underline{u}(\underline{x}) = \underline{w}(\underline{v}(\underline{x}))\)</span>, use the chain rule to show that <span class="math inline">\(D\underline{u}(\underline{x}) = D\underline{w}(\underline{v})D\underline{v}(\underline{x})\)</span>, and hence <span class="math inline">\(J(\underline{u}) = J(\underline{w})J(\underline{v})\)</span>.</p></li>
<li><p>Let <span class="math display">\[\begin{aligned}
			\underline{v}(\underline{x}) &amp;= (v_1,v_2) = (\cos y, \sin x) \\
			\underline{w}(\underline{x}) &amp;= (w_1,w_2) = (x^2 + y^3, x^2y),
		\end{aligned}\]</span> and define <span class="math inline">\(\underline{u}(\underline{x}) = \underline{w}(\underline{v}(\underline{x}))\)</span>. Use the result from part <span class="math inline">\((a)\)</span> to calculate <span class="math inline">\(J(\underline{u})\)</span>. Verify your answer by direct substitution.</p></li>
</ul>
<ul>
<li><p>This follows from problem <a href="#chainruleJacobian" data-reference-type="ref" data-reference="chainruleJacobian">[chainruleJacobian]</a> part <span class="math inline">\((c)\)</span>, but explicitly we have <span class="math display">\[\begin{aligned}
		D\underline{u}(\underline{x}) &amp;=
		\begin{pmatrix}
		\frac{\partial w_1(\underline{v})}{\partial x} &amp;
		\frac{\partial w_1(\underline{v})}{\partial y} \\[4pt]
		\frac{\partial w_2(\underline{v})}{\partial x} &amp;
		\frac{\partial w_2(\underline{v})}{\partial y} 
		\end{pmatrix} \\[6pt]
		&amp;=
		\begin{pmatrix}
		\frac{\partial w_1}{\partial v_1}\frac{\partial v_1}{\partial x} +
		\frac{\partial w_1}{\partial v_2}\frac{\partial v_2}{\partial x} \,&amp;\,
		\frac{\partial w_1}{\partial v_1}\frac{\partial v_1}{\partial y} +
		\frac{\partial w_1}{\partial v_2}\frac{\partial v_2}{\partial y}
		\\[4pt]
		\frac{\partial w_2}{\partial v_1}\frac{\partial v_1}{\partial x} +
		\frac{\partial w_2}{\partial v_2}\frac{\partial v_2}{\partial x} \,&amp;\,
		\frac{\partial w_2}{\partial v_1}\frac{\partial v_1}{\partial y} +
		\frac{\partial w_2}{\partial v_2}\frac{\partial v_2}{\partial y} 
		\end{pmatrix} \\[6pt]
		&amp;=
		\begin{pmatrix}
		\frac{\partial w_1}{\partial v_1} &amp;
		\frac{\partial w_1}{\partial v_2} \\[4pt]
		\frac{\partial w_2}{\partial v_1} &amp;
		\frac{\partial w_2}{\partial v_2}
		\end{pmatrix} 
		\begin{pmatrix}
		\frac{\partial v_1}{\partial x} &amp;
		\frac{\partial v_1}{\partial y} \\[4pt]
		\frac{\partial v_2}{\partial x} &amp;
		\frac{\partial v_2}{\partial y}
		\end{pmatrix} \\
		&amp;= D\underline{w}(\underline{v})D\underline{v}(\underline{x}).
		\end{aligned}\]</span> Now by taking determinants of both sides we have <span class="math display">\[\begin{aligned}
				|D\underline{u}(\underline{x})| &amp;= |D\underline{w}(\underline{v})D\underline{v}(\underline{x})| \\
				J(\underline{u}) &amp;= |D\underline{w}(\underline{v})|\ |D\underline{v}(\underline{x})| \\
				&amp;= J(\underline{w}) J(\underline{v}),
			\end{aligned}\]</span> as required.</p></li>
<li><p>We have <span class="math display">\[D\underline{v}(\underline{x}) = \begin{pmatrix}
				0 &amp; -\sin y \\
				\cos x &amp; 0
			\end{pmatrix},\]</span> so <span class="math display">\[J(\underline{v}) = \cos x \sin y,\]</span> and <span class="math display">\[D\underline{w}(\underline{v}) = \begin{pmatrix}
				2v_1 &amp; 3v_2^2 \\
				2v_1v_2 &amp; v_1^2
			\end{pmatrix},\]</span> and so <span class="math display">\[J(\underline{w}) = 2v_1 (v_1^2 - 3v_2^3).\]</span></p></li>
</ul>
<p>We therefore have <span class="math display">\[\begin{aligned}
			J(\underline{u}) &amp;= J(\underline{w}) J(\underline{v}) \\
			&amp;= 2v_1 (v_1^2 - 3v_2^3)( \cos x \sin y) \\
			&amp;= 2\cos y (\cos^2 y - 3\sin^3 x)( \cos x \sin y) \\
			&amp;= \sin 2y \cos x (\cos^2 y - 3\sin^3 x).
		\end{aligned}\]</span></p>
<p>Checking by direct substitution gives <span class="math display">\[\underline{u}(\underline{x}) = \underline{w}(\underline{v}(\underline{x})) = (\cos^2 y + \sin^3 x, \cos^2 y \sin x),\]</span> and hence <span class="math display">\[D\underline{u}(\underline{x}) = \begin{pmatrix}
			3 \cos x \sin^2 x &amp; -2 \cos y \sin y \\
			\cos x \cos^2 y &amp; -2 \sin y \cos y \sin x 
		\end{pmatrix},\]</span> and therefore <span class="math display">\[\begin{aligned}
			J(\underline{u}) &amp;= -6 \sin^3 x \cos x \sin y \cos y + 2 \cos x \cos^3 y \sin y \\
			&amp;= 2 \cos x \sin y \cos y (\cos^2 y - 3\sin^3 x) \\
			&amp;= \sin 2y \cos x (\cos^2 y - 3\sin^3 x),
		\end{aligned}\]</span> which agrees with the previous calculation.</p>
<ul>
<li><p>Let <span class="math inline">\(\underline{v}  : \mathbb{R}^n \to \mathbb{R}^n\)</span> be a vector field. Give the definition of <span class="math inline">\(\underline{V}\)</span> being differentiable on an open set <span class="math inline">\(U\subseteq\mathbb{R}^n\)</span>.</p></li>
<li><p>For <span class="math inline">\(\underline{x}=x\underline{e}_1 + y\underline{e}_2\)</span>, let <span class="math inline">\(\underline{v}:\mathbb{R}^2\to\mathbb{R}^2\)</span> be given by <span class="math display">\[\underline{v}(\underline{x}) = (x^2 + y^2, x+y).\]</span> Using the definition of differentiability, show that <span class="math inline">\(\underline{v}\)</span> is differentiable on <span class="math inline">\(\mathbb{R}^2\)</span>.</p></li>
<li><p>Draw a diagram to show where <span class="math inline">\(\underline{v}\)</span> defines an orientation preserving local diffeomorphism (on <span class="math inline">\(U\subseteq\mathbb{R}^2\)</span>), and where <span class="math inline">\(\underline{v}\)</span> defines an orientation reversing local diffeomorphism (on <span class="math inline">\(V\subseteq\mathbb{R}^2\)</span>).</p></li>
</ul>
<ul>
<li><p>A vector field <span class="math inline">\({\underline{v}}:U\to\mathbb{R}^n\)</span>, with <span class="math inline">\(U\subseteq\mathbb{R}^n\)</span> open is differentiable at a point <span class="math inline">\({\underline{a}}\in U\)</span> if <span class="math inline">\(\exists\)</span> a linear function <span class="math inline">\({\underline{L}}:\mathbb{R}^n\to\mathbb{R}^n\)</span> such that <span class="math display">\[\begin{aligned}
				{\underline{v}}({\underline{a}}+{\underline{h}}) - {\underline{v}}({\underline{a}}) &amp;= {\underline{L}}({\underline{h}}) + {\underline{R}}({\underline{h}})\\
				\text{with} \qquad \lim_{{\underline{h}}\to{\underline{0}}}\frac{{\underline{R}}({\underline{h}})}{|{\underline{h}}|} = {\underline{0}}.
			\end{aligned}\]</span> A vector field is differentiable on an open set <span class="math inline">\(U\subseteq\mathbb{R}^n\)</span> if it is differentiable at every point <span class="math inline">\({\underline{a}}\in U\)</span>.</p></li>
<li><p>We know from the lecture notes, that when <span class="math inline">\({\underline{L}}({\underline{h}})\)</span> exists, it is given by <span class="math inline">\(D{\underline{v}}_{\underline{a}}\cdot{\underline{h}}\)</span>. In this case we have <span class="math display">\[D\underline{v}_{\underline{a}} = \begin{pmatrix}
				2a_1 &amp; 2y_1 \\
				1 &amp; 1
			\end{pmatrix},\]</span> and so, for any <span class="math inline">\(\underline{a}\in\mathbb{R}^2\)</span>, <span class="math display">\[\begin{aligned}
				\underline{R}(\underline{h}) =&amp;\ \underline{v}(\underline{a} + \underline{h}) - \underline{v}(\underline{a}) - D\underline{v}_{\underline{a}}\cdot{h} \\
				=&amp;\ \left((a_1+h_1)^2 + (a_2+h_2)^2, a_1 + h_1 + a_2 + h_2\right)^t \\
				 &amp; \ - \left( a_1^2 + a_2^2, a_1+a_2 \right)^t - (2a_1h_1 + 2a_2h_2, h_1 + h_2)^t \\
				=&amp;\ (h_1^2 + h_2^2, 0)^t.
			\end{aligned}\]</span> Therefore <span class="math display">\[\begin{aligned}
				\lim_{{\underline{h}}\to{\underline{0}}}\frac{{\underline{R}}({\underline{h}})}{|{\underline{h}}|} &amp;= \lim_{{\underline{h}}\to{\underline{0}}} (\frac{h_1^2 + h_2^2}{|\underline{h}|}, \frac{0}{|\underline{h}|}) \\
				&amp;= \lim_{{\underline{h}}\to{\underline{0}}} (\frac{|\underline{h}|^2}{|\underline{h}|}, 0) \\
				&amp;= \lim_{{\underline{h}}\to{\underline{0}}} (|\underline{h}|,0) = \underline{0},
			\end{aligned}\]</span> and hence <span class="math inline">\(\underline{v}\)</span> is differentiable at any <span class="math inline">\(\underline{a}\in\mathbb{R}^2\)</span>, and therefore <span class="math inline">\(\underline{v}\)</span> is differentiable on <span class="math inline">\(\mathbb{R}^2\)</span> as required.</p></li>
<li><p>Since, by the previous part of this question, <span class="math inline">\(\underline{v}\)</span> is differentiable on all of <span class="math inline">\(\mathbb{R}^2\)</span>, we can apply the inverse function theorem. We have that <span class="math inline">\(J(\underline{v}) = |D\underline{v}_{\underline{x}}| = 2(x-y)\)</span>, and so <span class="math inline">\(\underline{v}\)</span> defines a local diffeomorphism around all points where <span class="math inline">\(x\ne y\)</span>. This local diffeomorphism is orientation preserving when <span class="math inline">\(x&gt;y\)</span>, and orientation reversing when <span class="math inline">\(x&lt;y\)</span>. A diagram indicating this is given below.</p>
<figure>
<img src="orientationregions.png" id="fig:orientationregions" style="width:50.0%" alt="" /><figcaption>The vector field <span class="math inline">\(\underline{v}\)</span> defines an orientation preserving local diffeomorphism around all points in the region where <span class="math inline">\(x&gt;y\)</span>, it defines an orientation reversing local diffeomorphism around all points in the region where <span class="math inline">\(y&gt;x\)</span>, and it does not define a local diffeomorphism in open regions around points on the line <span class="math inline">\(x=y\)</span>.</figcaption>
</figure></li>
</ul>
<p>Let <span class="math inline">\(A\)</span> be the region bounded by the positive <span class="math inline">\(x\)</span>- and <span class="math inline">\(y\)</span>-axes and the line <span class="math inline">\(3x + 4y =10\)</span>. Compute <span class="math inline">\(\iint_A\, (x^2 + y^2)\, dx\,dy\)</span> , taking the integrals in both orders and checking that your answers agree.</p>
<p>This can be integrated either <span class="math inline">\(dx\,dy\)</span> or <span class="math inline">\(dy\,dx\)</span>, finding the limits of integration via the intersection of the line with the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> axes respectively: <span class="math display">\[\begin{aligned}
I
&amp;= \int_0^{5/2}\left(\int_0^{(10-4y)/3}(x^2+y^2)\,dx\right)dy\\
&amp;= \int_0^{5/2}\left[{\textstyle\frac{1}{3}}x^3+y^2x\right]_0^{(10-4y)/3}\,dy\\
&amp;= \int_0^{5/2}\left({\textstyle\frac{1000}{81}}-{\textstyle\frac{400}{27}}y
+{\textstyle\frac{250}{27}}y^2-{\textstyle\frac{172}{81}}y^3 \right)\,dy\,=\,
\frac{15625}{1296}\,.\end{aligned}\]</span> or <span class="math display">\[\begin{aligned}
I
&amp;= \int_0^{10/3}\left(\int_0^{(10-3x)/4}(x^2+y^2)\,dy\right)dx\\&amp;=
\int_0^{10/3}\left[yx^2+{\textstyle\frac{1}{3}}y^3\right]_0^{(10-3x)/4}\,dx\\
&amp;= \int_0^{10/3}\left({\textstyle\frac{125}{24}}-{\textstyle\frac{75}{16}}x
+{\textstyle\frac{125}{32}}x^2-{\textstyle\frac{57}{64}}x^3 \right)\,dx\,=\, 
\frac{15625}{1296}\,.\end{aligned}\]</span></p>
<p>In the following integrals sketch the integration regions and then evaluate the integrals. Next interchange the order of integrations and re-evaluate.</p>
<ul>
<li><p><span class="math inline">\(\qquad \int_0^1\,(\int_x^1\, xy\, dy)\,dx\)</span>,</p></li>
<li><p><span class="math inline">\(\qquad \int_0^{\pi/2}\,(\int_0^{\cos \theta} \cos \theta\, dr)
\,d\theta\)</span>,</p></li>
<li><p><span class="math inline">\(\qquad \int_0^1\,(\int_1^{2-y}\,  (x+y)^2\,dx)\, dy\)</span>.</p></li>
</ul>
<p>(In all cases, sketches should also be included!)</p>
<ul>
<li><p><span class="math display">\[I= \int_0^1\,(\int_x^1\, xy\, dy)\,dx =
\int_0^1\,[{\textstyle\frac{1}{2}}xy^2]_x^1\,dx =
\int_0^1\,({\textstyle\frac{1}{2}}x -{\textstyle\frac{1}{2}}x^3)\,dx =
[{\textstyle\frac{1}{4}}x^2 -{\textstyle\frac{1}{8}}x^4]_0^1={\textstyle\frac{1}{8}}\,,\]</span> or, interchanging the order of integrations, <span class="math display">\[I= \int_0^1\,(\int_0^y\, xy\, dx)\,dy =
\int_0^1\,[{\textstyle\frac{1}{2}}x^2y]_0^y\,dx =
\int_0^1\,({\textstyle\frac{1}{2}}y^3)\,dx =
[{\textstyle\frac{1}{8}}y^4 ]_0^1={\textstyle\frac{1}{8}}\,.\]</span></p></li>
<li><p><span class="math display">\[I= \int_0^{\pi/2}\,(\int_0^{\cos \theta} \cos \theta\, dr)\,d\theta
= \int_0^{\pi/2}\left[r\cos \theta \right]_0^{\cos \theta}\,d\theta
= \int_0^{\pi/2}\cos^2 \theta \,d\theta = \pi/4\,.\]</span> or, interchanging the order of integrations, <span class="math display">\[I= \int_0^1\,(\int_0^{\cos^{-1}r}\!\cos \theta\, d\theta)\,dr
= \int_0^1\,\left[\sin\theta\right]_0^{\cos^{-1}r}\,dr
= \int_0^1\,\sqrt{ 1-r^2}\,dr\,.\]</span> Here <span class="math inline">\(\sin(\cos^{-1}r)\)</span> is the sine of the angle whose cosine is <span class="math inline">\(r\)</span>, and so is given using the formula <span class="math inline">\(\sin=\sqrt{1-\cos^2}\)</span>. Now substitute <span class="math inline">\(r=\sin\varphi\)</span> to get <span class="math display">\[I=\int_0^{\pi/2}\cos^2\varphi\,d\varphi = \pi/4\,.\]</span></p></li>
<li><p><span class="math display">\[\begin{aligned}
I&amp;= \int_0^1\,(\int_1^{2-y}\,  (x+y)^2\,dx)\, dy
= \int_0^1\,\left[{\textstyle\frac{1}{3}}(x+y)^3\right]_1^{2-y} dy\\
&amp;= \int_0^1\,\left({\textstyle\frac{8}{3}}-{\textstyle\frac{1}{3}}(1+y)^3\right) dy
= \left[{\textstyle\frac{8}{3}}y-{\textstyle\frac{1}{12}}(1+y)^4\right]_0^1 dy
= {\textstyle\frac{8}{3}}-{\textstyle\frac{16}{12}}+{\textstyle\frac{1}{12}}={\textstyle\frac{17}{12}}\,.\end{aligned}\]</span> or, interchanging the order of integrations, <span class="math display">\[\begin{aligned}
I&amp;= \int_1^2\,(\int_0^{2-x}\,  (x+y)^2\,dy)\, dx
= \int_1^2\,\left[{\textstyle\frac{1}{3}}(x+y)^3\right]_0^{2-x} dx\\
&amp;= \int_1^2\,\left({\textstyle\frac{8}{3}}-{\textstyle\frac{1}{3}}x^3\right) dx
= \left[{\textstyle\frac{8}{3}}x-{\textstyle\frac{1}{12}}x^4\right]_1^2 dx
= {\textstyle\frac{16}{3}} -{\textstyle\frac{16}{12}} -{\textstyle\frac{8}{3}} +{\textstyle\frac{1}{12}} 
={\textstyle\frac{17}{12}}\,.\end{aligned}\]</span></p></li>
</ul>
<p>Exam question 2010 (Section A) Q4: Calculate the double integral <span class="math display">\[\iint_A (|x|+|y|)\,dx\,dy.\]</span> where A is the region defined by <span class="math inline">\(|x|+|y|\le 1\)</span>.</p>
<p>The integration region is shown in Figure <a href="#fig:DoubleIntRegion2" data-reference-type="ref" data-reference="fig:DoubleIntRegion2">2</a>.</p>
<figure>
<img src="DoubleIntRegion2.png" id="fig:DoubleIntRegion2" style="width:60.0%" alt="" /><figcaption>The region <span class="math inline">\(|x|+|y|\le 1\)</span>.</figcaption>
</figure>
<p>Due to the symmetry of the region and of the function <span class="math inline">\(f(x,y)=|x|+|y|\)</span>, the integral is simply <span class="math inline">\(4\times\)</span> the integral over one quadrant. Therefore <span class="math display">\[\begin{aligned}
\iint_A (|x|+|y|)\,dx\,dy 
&amp; = 4\iint_{\text{$A$ in first quadrant}} (|x|+|y|)\,dx\,dy \\
&amp; = 4\int_0^1\int_0^{1-y}(x+y)\,dx\,dy \\
&amp; = 4\int_0^1\bigl[{\textstyle\frac{1}{2}}x^2+xy\bigr]_0^{1-y}\,dy \\
&amp; = 4\int_0^1\bigl({\textstyle\frac{1}{2}}(1-y)^2+(1-y)y\bigr)\,dy \\
&amp; = 4\int_0^1\bigl({\textstyle\frac{1}{2}}-{\textstyle\frac{1}{2}}y^2\bigr)\,dy \\
&amp; = 2\Bigl[ y -{\textstyle\frac{1}{3}} y^3\Bigr]_0^1 \,=\, \frac{4}{3}\,.\end{aligned}\]</span></p>
<p>Exam question 2011 (Section A) Q4: Change the order of integration in the double integral <span class="math display">\[\int_0^2\int_x^{2x} f(x,y)\,dy\,dx\,.\]</span></p>
<p>The area of integration is shown below in Figure <a href="#fig:DoubleeIntRegion1" data-reference-type="ref" data-reference="fig:DoubleeIntRegion1">3</a>. When we swap the order of integration, and perform <span class="math inline">\(x\)</span> first, we require 2 integrals: one to accommodate part of triangle below the line <span class="math inline">\(y = 2\)</span>, and one for the part above.</p>
<figure>
<img src="DoubleIntRegion1.png" id="fig:DoubleeIntRegion1" style="width:50.0%" alt="" /><figcaption>The required region. of integration</figcaption>
</figure>
<p>This is <span class="math display">\[\int_0^2\int^y_{y/2} f(x,y)\,dx\,dy
+
\int_2^4\int^2_{y/2} f(x,y)\,dx\,dy\]</span></p>
<p>Exam question May 2017 (Section A): A solid cylinder <span class="math inline">\(C\)</span> of radius <span class="math inline">\(1\)</span> and height <span class="math inline">\(1\)</span> is defined by <span class="math display">\[C=\{(x,y,z)\in\mathbb{R}^3: x^2+y^2\le 1,~ 0\le z\le 1\}\,.\]</span> Show that the paraboloid <span class="math inline">\(P =\{(x,y,z)\in\mathbb{R}^3:z=x^2+y^2\}\)</span> cuts <span class="math inline">\(C\)</span> into two pieces of equal volume.</p>
<p>First, calculate the volume above <span class="math inline">\(P\)</span> but inside <span class="math inline">\(C\)</span>. Opting to do the <span class="math inline">\(z\)</span> integral last, this is <span class="math display">\[V_{\rm above}=\int_0^1 \left(\int_{x^2+y^2\le z}dxdy\right)dz\]</span> Recognising the integral in brackets as the area of a circle radius <span class="math inline">\(\sqrt{z}\)</span>, we have <span class="math display">\[V_{\rm above}=\int_0^1 \left(\pi z\right)dz =
\left[\frac{\pi}{2}z^2\right]_0^1=\frac{\pi}{2}\,.\]</span> (Other orders of integration would also be OK)</p>
<p>Compute the iterated integral <span class="math display">\[\int_0^1\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dy\,dx\,.\]</span> Now reverse the order of integrations and re-evaluate. Why doesn’t your answer contradict Fubini’s theorem? (Hints: for the first integral, with respect to <span class="math inline">\(y\)</span>, it might help to aim at something that can be integrated by parts using <span class="math inline">\(\frac{d}{dy}\bigl(\frac{1}{x^2{+}y^2}\bigr)
=-\frac{2y}{(x^2{+}y^2)^2}\)</span> ; and in answering to the last part of the question, the fact that <span class="math inline">\(\int_0^1\bigl|\frac{x^2-y^2}{(x^2+y^2)^2}\bigr|\,dy\ge
\int_0^x\frac{x^2-y^2}{(x^2+y^2)^2}\,dy\,\)</span> could be useful.)</p>
<p>For the inner, <span class="math inline">\(y\)</span>, integral one can either have a flash of inspriration, or else use the hint as follows: <span class="math display">\[\begin{aligned}
\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dy
&amp;=
\int_0^1 \left(
\frac{x^2+y^2}{(x^2+y^2)^2} -
\frac{2y^2}{(x^2+y^2)^2}
\right)dy \\
&amp;= \int_0^1 
\frac{1}{x^2+y^2}\,dy -
\int_0^1 
\frac{2y^2}{(x^2+y^2)^2}
\,dy \\
&amp;= \int_0^1 
\frac{1}{x^2+y^2}\,dy +
\int_0^1 
y\frac{d}{dy}\left(\frac{1}{x^2+y^2}\right) dy \,.\end{aligned}\]</span> The last term can be integrated by parts: <span class="math display">\[\int_0^1\!
y\frac{d}{dy}\left(\frac{1}{x^2+y^2}\right) dy
=
\left[y\,\frac{1}{x^2+y^2}\right]_0^1 -
\int_0^1\frac{dy}{dy}\,\frac{1}{x^2+y^2}\,dy
=
\frac{1}{x^2+1} -
\int_0^1\!\frac{1}{x^2+y^2}\,dy\,.\]</span> Adding everything up and cancelling the left-over integrals, <span class="math display">\[\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dy = \frac{1}{1+x^2}\]</span> and so the iterated integral is <span class="math display">\[\int_0^1\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dy\,dx =
\int_0^1\frac{1}{1+x^2}\,dx =
\left[\arctan(x)\right]_0^1 =\frac{\pi}{4}\,.\]</span> For the oppositely-ordered iterated integral the calculation is very similar, but take care with the signs! We have <span class="math display">\[\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dx = -\frac{1}{1+y^2}\]</span> and so <span class="math display">\[\int_0^1\int_0^1\frac{x^2-y^2}{(x^2+y^2)^2}\,dx\,dy =
-\int_0^1\frac{1}{1+y^2}\,dy =
-\left[\arctan(x)\right]_0^1 =-\frac{\pi}{4}\,.\]</span> As hinted in the question, this is not what Fubini would predict. But the conditions for Fubini require the iterated integral of the modulus of the integrand to be finite, and this isn’t true: taking the hint from the question, <span class="math display">\[\begin{aligned}
\int_0^1\int_0^1\left|\frac{x^2-y^2}{(x^2+y^2)^2}\right|\,dy\,dx 
&amp;\ge \int_0^1\int_0^x\frac{x^2-y^2}{(x^2+y^2)^2}\,dy\,dx \\
&amp;= \int_0^1 \left[ \frac{y}{x^2+y^2} \right]_0^x\,dx 
= \int_0^1  \frac{1}{2x}\,dx 
= \infty\,.\end{aligned}\]</span> (Strictly speaking one should regulate the potentially improper <span class="math inline">\(x\)</span> integrals on the right-hand sides of this calculation, and thereby keep everything well-defined at all stages, by running <span class="math inline">\(x\)</span> from <span class="math inline">\(\delta&gt;0\)</span> to <span class="math inline">\(1\)</span> and then letting <span class="math inline">\(\delta\to 0\)</span> at the end, but the conclusion would be the same.)</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="Fubini_counterexample_1.png" title="fig:" id="fig:divergence" style="width:45.0%" alt="Plots of \frac{x^2-y^2}{(x^2+y^2)^2} and of \left|\frac{x^2-y^2}{(x^2+y^2)^2}\right|." />  </td>
<td style="text-align: center;">  <img src="Fubini_counterexample_2.png" title="fig:" id="fig:divergence" style="width:45.0%" alt="Plots of \frac{x^2-y^2}{(x^2+y^2)^2} and of \left|\frac{x^2-y^2}{(x^2+y^2)^2}\right|." /></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>The ‘volume’ under the second surface is infinite, which is why the conditions of Fubini’s theorem are not met in this case.</p>
<p>Let <span class="math inline">\(B\)</span> be the region bounded by the five planes <span class="math inline">\(x=0\)</span>, <span class="math inline">\(y=0\)</span>, <span class="math inline">\(z=0\)</span>, <span class="math inline">\(x+y=1\)</span>, and <span class="math inline">\(z=x+y\)</span>.<br />
</p>
<ul>
<li><p>Find the volume of <span class="math inline">\(B\)</span>.</p></li>
<li><p>Evaluate <span class="math inline">\(\int_B\, x\, dV\)</span> .</p></li>
<li><p>Evaluate <span class="math inline">\(\int_B\, y\,dV\)</span> .</p></li>
</ul>
<ul>
<li><p>Volume of <span class="math inline">\(B\)</span>: <span class="math display">\[\begin{aligned}
\int_B\, dV=
\int_0^1\int_0^{1-x}\!\!\int_0^{x+y}\!dzdydx 
&amp;=\int_0^1\int_0^{1-x}\!(x+y)dydx \\ 
&amp;=\int_0^1\left[xy+{\textstyle\frac{1}{2}}y^2\right]^{1-x}_0dx \\ 
&amp;=\int_0^1\left(x(1-x)+{\textstyle\frac{1}{2}}(1-x)^2\right)dx \\ 
&amp;=\int_0^1\left(x-x^2+{\textstyle\frac{1}{2}}-x +{\textstyle\frac{1}{2}}x^2\right)dx \\ 
&amp;=\left[{\textstyle\frac{1}{2}}x -{\textstyle\frac{1}{6}} x^3\right]^1_0 = \frac{1}{3}\,.\end{aligned}\]</span></p></li>
<li><p><span class="math display">\[\begin{aligned}
\int_B\, x\, dV=
\int_0^1\int_0^{1-x}\!\!\int_0^{x+y}\!x\,dzdydx 
&amp;=\int_0^1x\int_0^{1-x}\!(x+y)dydx \\ 
&amp;=\int_0^1\left(x^2-x^3+{\textstyle\frac{1}{2}}x -x^2 +{\textstyle\frac{1}{2}}x^3\right)dx \\ 
&amp;=\left[{\textstyle\frac{1}{4}} x^2 -{\textstyle\frac{1}{8}} x^4\right]^1_0 = \frac{1}{8}\,.\end{aligned}\]</span></p></li>
<li><p>Evaluate <span class="math inline">\(\int_B\, y\,dV\)</span> . <span class="math display">\[\begin{aligned}
\int_B\, y\, dV=
\int_0^1\int_0^{1-x}\!\!\int_0^{x+y}\!y\,dzdydx 
&amp;=\int_0^1\int_0^{1-x}\!y(x+y)dydx \\ 
&amp;=\int_0^1\left[{\textstyle\frac{1}{2}}xy^2+{\textstyle\frac{1}{3}} y^3\right]^{1-x}_0dx \\ 
&amp;=\int_0^1\left({\textstyle\frac{1}{2}}x(1-x)^2+{\textstyle\frac{1}{3}} (1-x)^3\right)dx \\ 
&amp;=\int_0^1{\textstyle\frac{1}{6}}\left(2-3x+x^3\right)dx \\ 
&amp;={\textstyle\frac{1}{6}}\left[2x -{\textstyle\frac{3}{2}} x^2 +{\textstyle\frac{1}{4}}x^4\right]^1_0 
= \frac{1}{8}\,.\end{aligned}\]</span></p></li>
</ul>
<p>A function <span class="math inline">\(f(x,y)\)</span> is defined by <span class="math display">\[f(x,y) =
\begin{cases}
\phantom{-}1&amp;\mbox{if~$-1&lt;x{-}y&lt;0$} \\
-1&amp;\mbox{if~$0&lt;x{-}y&lt;1$}\\
\phantom{-}0&amp;\mbox{otherwise\,.}
\end{cases}\]</span> Compute <span class="math inline">\(\int_0^{\infty}\left(\int_{-\infty}^{\infty}f(x,y)\,dx\right) dy\)</span> and also <span class="math inline">\(\int_{-\infty}^{\infty}\left(\int_0^{\infty}f(x,y)\,dy\right) dx\)</span> (for the second case it might help to draw a picture). Comment on your two answers – why does Fubini fail?</p>
<p>The first way round is easy! For any <span class="math inline">\(y\in\mathbb{R}\)</span> we have <span class="math display">\[\int_{-\infty}^{\infty}f(x,y)\,dx = 
\int_{y-1}^y1\,dx
+\int_{y}^{y+1}\!-1\,dx=1-1=0\]</span> and so <span class="math display">\[\int_0^{\infty}\left(\int_{-\infty}^{\infty}f(x,y)\,dx\right) dy
=\int_0^{\infty}\!0\,dy =0\,.\]</span> For the opposite order of integration, what enters into the <span class="math inline">\(y\)</span> integral depends on the value of <span class="math inline">\(x\)</span>, as follows: <span class="math display">\[\int_0^{\infty}f(x,y)\,dy = 
\begin{cases}
\,0                      &amp;\mbox{if~$x&lt;-1$} \\[3pt]
\int_0^{x+1}1\,dy=x{+}1&amp;\mbox{if~$-1&lt;x&lt;0$}\\[3pt]
\int_0^{x}\!-1\,dy + \int_x^{x+1}1\,dy = -x{+}1 &amp;\mbox{if~$0&lt;x&lt;1$}\\[3pt]
\int_{x-1}^{x}\!-1\,dy + \int_x^{x+1}1\,dy = 0 &amp;\mbox{if~$1&lt;x$\,.}
\end{cases}\]</span> Hence, and only including the non-zero bits, <span class="math display">\[\begin{aligned}
\int_{-\infty}^{\infty}\left(\int_0^{\infty}f(x,y)\,dy\right) dx 
&amp;= \int_{-1}^{0}(x{+}1)\, dx + \int_{0}^{1}(-x{+}1)\, dx \\
&amp;=
\left[{\textstyle\frac{1}{2}}x^2{+}x \right]_{-1}^{0}+
\left[-{\textstyle\frac{1}{2}}x^2{+}x \right]_{0}^{1}
=(-{\textstyle\frac{1}{2}}{+}1) + (-{\textstyle\frac{1}{2}}{+}1) = 1\,.\end{aligned}\]</span> The two answers differ! This doesn’t violate Fubini’s theorem because if we were to replace <span class="math inline">\(f(x,y)\)</span> by <span class="math inline">\(|f(x,y)|\)</span> in the original double integral, the result would be infinite.</p>
<p>A function <span class="math inline">\(f(x,y)\)</span> is defined by <span class="math display">\[f(x,y) =
	\begin{cases}
	\phantom{-}2^{2(n+1)}&amp;\text{if } 2^{-(n+1)}&lt;x&lt;2^{-n},\quad 2^{-(n+1)}&lt;y&lt;2^{-n}\\
	-2^{2n+3}&amp;\text{if } 2^{-(n+1)}&lt;x&lt;2^{-n},\quad 2^{-(n+2)}&lt;y&lt;2^{-(n+1)}\\
	\phantom{-}0&amp;\mbox{otherwise\,,}
	\end{cases}\]</span> for <span class="math inline">\(n\in\mathbb{Z}_{\ge 0} = \{0,1,2,\ldots\}\)</span>.</p>
<p>Compute <span class="math inline">\(\int_0^1\int_0^1 f(x,y)\,dx\,dy\)</span>, and <span class="math inline">\(\int_0^1\int_0^1 f(x,y)\, dy\,dx\)</span>. Does this contradict Fubini’s theorem?</p>
<p>Let’s start by sketching the function <span class="math inline">\(f(x,y)\)</span> for <span class="math inline">\(0\le x \le 1\)</span>, <span class="math inline">\(0\le y \le 1\)</span>.</p>
<figure>
<img src="fubini.png" id="fig:fubini" style="width:50.0%" alt="" /><figcaption>The function <span class="math inline">\(f(x,y)\)</span> for <span class="math inline">\(0\le x \le 1\)</span>, <span class="math inline">\(0\le y \le 1\)</span>.</figcaption>
</figure>
<p>Let’s first compute <span class="math inline">\(\int_0^1\int_0^1 f(x,y)\, dy\,dx\)</span>. From the picture we can see that the integrand is dependent on both the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> values that we’re integrating over. Specifically, we have <span class="math display">\[\begin{aligned}
			\int_0^1\int_0^1 f(x,y)\, dy\,dx &amp;= \int_{1/2}^1 \int_0^1 f(x,y) dy\,dx + \int_{1/4}^{1/2} \int_0^1 f(x,y) dy\,dx + \ldots \\
			&amp;= \sum_{n=0}^\infty \int_{2^{-(n+1)}}^{2^{-n}}  \int_0^1 f(x,y) dy\,dx \\
			&amp;= \sum_{n=0}^\infty \int_{2^{-(n+1)}}^{2^{-n}} \left( \int_{2^{-(n+1)}}^{2^{-n}} 2^{2(n+1)} dy\, + \int_{2^{-(n+2)}}^{2^{-(n+1)}} (-2^{2n+3}) dy \right) dx \\
			&amp;=  \sum_{n=0}^\infty \int_{2^{-(n+1)}}^{2^{-n}} \left( 2^{-(n+1)}2^{2(n+1)} - 2^{-(n+2)}2^{2n+3} \right) \\
			&amp;= \sum_{n=0}^\infty \int_{2^{-(n+1)}}^{2^{-n}} 0 \\
			&amp;= 0,
		\end{aligned}\]</span> where to go from the third line to the fourth we note that the integrands are simply constants.</p>
<p>Essentially, looking at the picture in vertical ‘strips’, we see that there are two rectangles where the function is non-zero. The upper rectangle is twice as long in the vertical direction but the integrand is half that of the integrand from the lower rectangle, and with opposite sign. Hence the two contributions cancel along each vertical slice of the integral.</p>
<p>The calculation for <span class="math inline">\(\int_0^1\int_0^1 f(x,y)\, dx\,dy\)</span> is similar. <span class="math display">\[\begin{aligned}
			\int_0^1\int_0^1 f(x,y)\, dy\,dx =&amp;\, \int_{1/2}^1 \int_0^1 f(x,y)\, dx\,dy + \int_{1/4}^{1/2} \int_0^1 f(x,y)\, dx\,dy + \ldots \\
			=&amp;\, \int_{1/2}^1 \int_0^1 f(x,y)\, dx\,dy + \sum_{n=1}^\infty \int_{2^{-(n+1)}}^{2^{-n}}  \int_0^1 f(x,y)\, dx\,dy \\
			=&amp;\, \int_{1/2}^1 \int_{1/2}^1 4\, dx\,dy + \sum_{n=1}^\infty \int_{2^{-(n+1)}}^{2^{-n}} \left( \int_{2^{-(n+1)}}^{2^{-n}} 2^{2(n+1)}\, dx \right. \\
			&amp;- \left. \int_{2^{-n}}^{2^{-n+1}} 2^{2n+1}\, dx \right) dy \\ 
			=&amp;\, 1 + \sum_{n=1}^\infty \int_{2^{-(n+1)}}^{2^{-n}} \left( 2^{-(n+1)} 2^{2(n+1)} - 2^{-n}2^{2n+1} \right) dy \\
			=&amp;\, 1 +  \sum_{n=1}^\infty \int_{2^{-(n+1)}}^{2^{-n}} 0\, dy \\
			=&amp;\, 1.
		\end{aligned}\]</span></p>
<p>The two answers differ. This doesn’t contradict Fubini’s theorem, as the double integral is not absolutely convergent.</p>
<p>Write the line integral <span class="math display">\[\int_C xdx+ydy+(xz-y)dz\]</span> in the form <span class="math inline">\(\int_C\mathbf{v}\cdot d\mathbf{x}\)</span> for a suitable vector field <span class="math inline">\(\mathbf{v}(\mathbf{x})\)</span>, and compute its value when <span class="math inline">\(C\)</span> is the curve given by <span class="math inline">\({\bf x}(t) = t^2\, {\bf e_1}+ 2t\,{\bf e_2}+
4t^3\,  {\bf e_3}\)</span> with <span class="math inline">\(0 \le t \le 1\)</span>.</p>
<p>The integral to be evaluated is <span class="math display">\[I=\int_C xdx+ydy+(xz-y)dz = \int_C\mathbf{v}\cdot d\mathbf{x}
 = \int_0^1\mathbf{v}(\mathbf{x}(t))\cdot
\frac{d\mathbf{x}}{dt}\,dt\,.\]</span> where <span class="math inline">\(\mathbf{v}(\mathbf{x})=x\,{\bf e_1}+y\,{\bf e_2}+(xz-y)\,{\bf e_3}\)</span>. Following the recipe from lectures, we compute <span class="math inline">\(\frac{d\mathbf{x}}{dt}=2t\, {\bf e_1}+ 2\,{\bf e_2}+ 12t^2\,  {\bf e_3}\)</span> while <span class="math inline">\(\mathbf{v}(\mathbf{x}(t))=t^2{\bf e_1}+2t{\bf e_2}+(4t^5-2t){\bf e_3}\)</span>, so <span class="math display">\[I=\int_0^1\left(2t^3+4t+48t^7-24t^3\right)dt
=
\left[{\textstyle\frac{1}{2}}t^4+2t^2+6t^8-6t^5\right]_0^1
= {\textstyle\frac{5}{2}}\,.\]</span> Alteratively and a little more informally we can simply note that <span class="math display">\[x=t^2\Rightarrow dx=2t\,dt\,,~~~~
y=2t\Rightarrow dy=2\,dt\,,~~~~
z=4t^3\Rightarrow dz=12t^2\,dt\,,\]</span> so <span class="math inline">\(xdx=2t^3\,dt\)</span>, <span class="math inline">\(ydy=4t\)</span>, and <span class="math inline">\((xz-y)dz=(4t^5-2t)\times 12t^2\,dt\)</span>, after which the calculation runs as before.</p>
<p>Evaluate <span class="math inline">\(\int_{\sigma}\, {\bf F}\cdot d{\bf x}\,\)</span>, where <span class="math inline">\({\bf F}\,=\,y\,  {\bf e_1}+ 2x\,  {\bf e_2}+y\, {\bf e_3}\)</span> and the path <span class="math inline">\(\sigma\)</span> is given by <span class="math inline">\({{\bf x}\,}(t) = t\, {\bf e_1}+ t^2\,  {\bf e_2}+
t^3\,  {\bf e_3}\)</span>, <span class="math inline">\(0 \le t \le 1\)</span>.</p>
<p>We have <span class="math inline">\(\frac{d\mathbf{x}}{dt}= {\bf e_1}+ 2t\,{\bf e_2}+ 3t^2\,  {\bf e_3}\)</span>, and <span class="math inline">\(\mathbf{F}({\bf x}\,(t))=t^2{\bf e_1}+2t{\bf e_2}+t^2{\bf e_3}\)</span> . Hence <span class="math display">\[\begin{aligned}
\int_{\sigma}\, {\bf F}\cdot {\bf dx}\,&amp;=
\int_0^1(t^2{\bf e_1}+2t{\bf e_2}+t^2{\bf e_3})\cdot ({\bf e_1}+2t{\bf e_2}+3t^2{\bf e_3})\,dt \\
&amp;= \int_0^1(t^2+4t^2+3t^4)\,dt
\,=\, \left[{\textstyle\frac{5}{3}}t^3+{\textstyle\frac{3}{5}}t^5\right]_0^1
\,=\, {\textstyle\frac{34}{15}}\,.\end{aligned}\]</span></p>
<p><span id="straightline" label="straightline">[straightline]</span> Let <span class="math inline">\({\underline{A}}({\underline{x}})\)</span> be the vector field <span class="math inline">\({\underline{A}}(x,y,z)=x\,{\underline{e}}_1+y\,{\underline{e}}_2+z\,{\underline{e}}_3\)</span> .<br />
</p>
<ol>
<li><p>Compute the line integral <span class="math inline">\(\int_{C}{\underline{A}}\cdot d{\underline{x}}\)</span> where <span class="math inline">\(C\)</span> is the straight line from the origin to the point <span class="math inline">\((1,1,1)\)</span>.</p></li>
<li><p>Show (by finding <span class="math inline">\(f\)</span>) that the vector field <span class="math inline">\({\underline{A}}\)</span> from part (a) is equal to <span class="math inline">\(\nabla f({\underline{x}})\)</span> for some scalar field <span class="math inline">\(f\)</span>, and that your answer to part (a) is equal to <span class="math inline">\(f(1,1,1)-f(0,0,0)\)</span>.</p></li>
</ol>
<p><br />
</p>
<ol>
<li><p>Parametrise the curve as <span class="math inline">\({\underline{x}}(t)=(t,t,t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(1\)</span> (other choices would also be fine). Then <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}=(1,1,1)\)</span> and <span class="math inline">\({\underline{A}}({\underline{x}}(t))=(t,t,t)\)</span> so <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}\cdot{\underline{A}}({\underline{x}}(t))=3t\)</span>. Hence <span class="math display">\[\int_{C}{\underline{A}}\cdot d{\underline{x}} =
\int_0^1 \frac{d{\underline{x}}}{dt}\cdot{\underline{A}}({\underline{x}}(t))\, dt =
\int_0^1 3t\,dt = 3/2.\]</span></p></li>
<li><p>If <span class="math inline">\({\underline{A}}=\nabla f\)</span>, <span class="math inline">\(f_x=x\)</span> so <span class="math inline">\(f(x,y,z)=\frac{1}{2}x^2+g(y,z)\)</span>; then <span class="math inline">\(f_y=g_y=y\)</span> so <span class="math inline">\(g(y,z)=\frac{1}{2}y^2+h(z)\)</span>; and finally <span class="math inline">\(f_z=h_z=z\)</span> so <span class="math inline">\(h(z)=\frac{1}{2}z^2+c\)</span> where <span class="math inline">\(c\)</span> is a constant. Hence <span class="math inline">\(f({\underline{x}})=\frac{1}{2}{\underline{x}}^2+c\)</span>, and it is easy to check that this works. Then <span class="math inline">\(f(1,1,1)-f(0,0,0)=\frac{1}{2}(1^2+1^2+1^2)+c -c=3/2\)</span>, which is indeed the same as the answer to part (a). (Aside: note that the procedure used here to find <span class="math inline">\(f\)</span> does not always work: try it for <span class="math inline">\({\underline{A}}(x,y,z)=(z,x,y)\)</span>.)</p></li>
</ol>
<p><span id="genstraightline" label="genstraightline">[genstraightline]</span> Show that the result from question <a href="#straightline" data-reference-type="ref" data-reference="straightline">[straightline]</a> applies in general: if the vector field <span class="math inline">\({\underline{v}}({\underline{x}})\)</span> in <span class="math inline">\(\mathbb{R}^n\)</span> is the gradient of a scalar field <span class="math inline">\(f({\underline{x}})\)</span>, so that <span class="math inline">\({\underline{v}}=\nabla f\)</span>, and if <span class="math inline">\(C\)</span> is a curve in <span class="math inline">\(\mathbb{R}^n\)</span> running from <span class="math inline">\({\underline{x}}={\underline{a}}\)</span> to <span class="math inline">\({\underline{x}}={\underline{b}}\)</span>, then <span class="math inline">\(\int_C {\underline{v}}\cdot d{\underline{x}} = f({\underline{b}})-f({\underline{a}})\)</span>. (Hint: use the chain rule.)</p>
<p>Let the curve <span class="math inline">\(C\)</span> be parametrised by <span class="math inline">\({\underline{x}}(t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(t_1\)</span> to <span class="math inline">\(t_2\)</span> so that <span class="math inline">\({\underline{x}}(t_1)={\underline{a}}\)</span> and <span class="math inline">\({\underline{x}}(t_2)={\underline{b}}\)</span>. Then by the definition of the line integral, <span class="math display">\[\int_C {\underline{v}}\cdot d{\underline{x}} 
=\int_{t_1}^{t_2}{\underline{v}}({\underline{x}}(t))\cdot\frac{d{\underline{x}}(t)}{dt}\,dt
=\int_{t_1}^{t_2}\nabla f({\underline{x}}(t))\cdot\frac{d{\underline{x}}(t)}{dt}\,dt\,.\]</span> But by the chain rule (see <span><strong>2.2</strong></span> in the Michaelmas Summary), if <span class="math inline">\(F(t)=f({\underline{x}}(t))\)</span>, then <span class="math inline">\(\frac{dF}{dt}= \nabla f\cdot\frac{d{\underline{x}}}{dt}\)</span> . Hence <span class="math display">\[\int_C {\underline{v}}\cdot d{\underline{x}} 
=\int_{t_1}^{t_2}\frac{dF}{dt}\,dt
=\bigl[F(t)\bigr]_{t_1}^{t_2}=F(t_2)-F(t_1)=f({\underline{b}})-f({\underline{a}})\]</span> since <span class="math inline">\(F(t_1)=f({\underline{x}}(t_1))=f({\underline{a}})\)</span>  and <span class="math inline">\(F(t_2)=f({\underline{x}}(t_2))=f({\underline{b}})\)</span> .</p>
<p>Use the result from question <a href="#genstraightline" data-reference-type="ref" data-reference="genstraightline">[genstraightline]</a> to evaluate <span class="math inline">\(\int_C \, 2xyz dx\,+\,x^2 z dy\,+\, x^2 y dz\)</span>, where <span class="math inline">\(C\)</span> is any regular curve connecting (1,1,1) to (1,2,4).</p>
<p>We look for <span class="math inline">\(\phi\)</span> such that <span class="math inline">\(\phi_x=2xyz\)</span>, <span class="math inline">\(\Rightarrow\)</span> <span class="math inline">\(\phi=x^2yz+f(y,z)\)</span>, then <span class="math inline">\(\phi_y=x^2z\)</span> <span class="math inline">\(\Rightarrow\)</span> <span class="math inline">\(f_y=0\)</span> <span class="math inline">\(\Rightarrow\)</span> <span class="math inline">\(f(y,z)=g(z)\)</span>, then <span class="math inline">\(\phi_z=x^2y\)</span> <span class="math inline">\(\Rightarrow\)</span> <span class="math inline">\(g=\mbox{const}\)</span>. So with <span class="math inline">\(\phi(x,y,z)=x^2yz\)</span> we have <span class="math inline">\((2xyz,x^2z,x^2y)=\nabla\phi\)</span>, and (using the result of question 79) <span class="math display">\[\int_C \, 2xyz dx\,+\,x^2 z dy\,+\, x^2 y dz = 
\int_C\nabla(x^2yz)\cdot d{\bf x}\,
= \left[x^2yz\right]_{(1,1,1)}^{(1,2,4)}=8-1=7\,.\]</span> Note, as we will see when discussing Stokes’ theorem, a necessary condition for this tactic to work is the fact that <span class="math inline">\(\nabla\times (2xyz,x^2z,x^2y)= 
(x^2{-}x^2)\,{\bf e_1}+ (2xy{-}2xy)\,{\bf e_2}+ (2xz{-}2xz)\,{\bf e_3}= {\underline{0}}\)</span>.</p>
<p>Compute the surface integral, <span class="math inline">\(\int_S\mathbf{F}\cdot d\mathbf{A}\)</span>, of the vector field <span class="math inline">\(\mathbf{F}=(3x^2,-2yx,8)\)</span> over the surface given by the plane <span class="math inline">\(z=2x-y\)</span> with <span class="math inline">\(0\le x\le 2\)</span>, <span class="math inline">\(0\le y\le 2\)</span>,</p>
<ul>
<li><p>using method 2 from lectures,</p></li>
<li><p>using method 1 from lectures.</p></li>
</ul>
<ul>
<li><p>The surface as the (zero) level set of the function <span class="math inline">\(f = z - 2x + y\)</span>, which we can use to find the vector normal to the surface: <span class="math display">\[\mathbf{N}=\nabla f =(-2,1,1)\,.\]</span> As in method 2 from lectures, since we have given the surface as a level set we can now write <span class="math display">\[\begin{aligned}
\int_S\mathbf{F}\cdot d\mathbf{A}
&amp;= \int_0^2\int_0^2
\frac{\mathbf{F}\cdot\nabla f}{{\bf e_3}\cdot\nabla f}dx\,dy \\
&amp;= \int_0^2\int_0^2(-6x^2-2yx+8)\,dx\,dy \\
&amp;= \int_0^2\left[ -2x^3-yx^2+8x\right]_0^2\,dy \\
&amp;= \int_0^2\left( -4y\right)dy \,=\, -8\,.\end{aligned}\]</span></p></li>
<li><p>Using method 1 from lectures, the surface can be parameterised in terms of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> as points <span class="math inline">\(\underline{x}(x,y) = (x,y,2x-y)\)</span>. We therefore have <span class="math display">\[\begin{aligned}
				\frac{\partial\underline{x}}{\partial x} &amp;= (1,0,2) \\
				\frac{\partial\underline{x}}{\partial y} &amp;= (0,1,-1)
			\end{aligned}\]</span> and so <span class="math display">\[\frac{\partial\underline{x}}{\partial x} \times \frac{\partial\underline{x}}{\partial y} = (-2,1,1).\]</span> The required integral is then <span class="math display">\[\begin{aligned}
				\int_S\mathbf{F}\cdot d\mathbf{A} &amp;= \int_{x,y} \mathbf{F}(\mathbf{x}(x,y)) \cdot \left(\frac{\partial\mathbf{x}}{\partial x} \times \frac{\partial\mathbf{x}}{\partial y}\right)\,dx\,dy \\
				&amp;= \int_0^2\int_0^2 (-6x^2-2yx+8)\,dx\,dy \\
				&amp;= -8,
			\end{aligned}\]</span> in agreement with the answer from method 2.</p></li>
</ul>
<p>The question was a little remiss in not specifying that upward-pointing (ie positive <span class="math inline">\(z\)</span> component) normals should be taken when evaluating the surface integral. With downward-pointing normals, the answer would have been <span class="math inline">\(+8\)</span>, and this answer is also valid.</p>
<p>Let <span class="math inline">\({\bf F}(x,y,z)=(z,x,y)\)</span>, and <span class="math inline">\(S\)</span> be the part of the surface of the sphere <span class="math inline">\(x^2+y^2+(z-1)^2=r^2\)</span> above the plane <span class="math inline">\(z=0\)</span>. Assume that <span class="math inline">\(r&gt;1\)</span> so that the boundary <span class="math inline">\(C\)</span> of <span class="math inline">\(S\)</span>, where <span class="math inline">\(S\)</span> intersects the plane <span class="math inline">\(z=0\)</span>, is non-empty.</p>
<ul>
<li><p>Compute the line integral <span class="math inline">\(\oint_C{\bf F}\cdot d{\bf x}\,\)</span>.</p></li>
<li><p>By parameterising the surface <span class="math inline">\(S\)</span> with spherical coordinates centred on the point <span class="math inline">\((0,0,1)\)</span>, compute the surface integral of the curl of <span class="math inline">\({\bf F}\)</span>,  <span class="math inline">\(\int_S\nabla\times\mathbf{F}\cdot d{\bf A}\)</span>.</p></li>
</ul>
<ul>
<li><p>The curve to be integrated over is the intersection of the sphere and the plane <span class="math inline">\(z=0\)</span> in the picture below, which shows the situation for <span class="math inline">\(r=2\)</span>:</p>
<figure>
<img src="sphere.png" id="fig:sphere" style="width:50.0%" alt="" /><figcaption>The intersection of the sphere <span class="math inline">\(x^2+y^2+(z-1)^2=r^2\)</span> and the plane <span class="math inline">\(z=0\)</span>, shown for <span class="math inline">\(r=2\)</span>.</figcaption>
</figure>
<p>On <span class="math inline">\(C\)</span> we have <span class="math inline">\(z=0\)</span> and also <span class="math inline">\(x^2+y^2+(z-1)^2=r^2\)</span>, so <span class="math inline">\(x^2+y^2=r^2-1\)</span>, and <span class="math inline">\(C\)</span> is a circle in the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane of radius <span class="math inline">\(\rho=\sqrt{r^2-1}\)</span>. Parametrise it as <span class="math inline">\({\bf x}\,(t)=(\rho\cos
t,\rho\sin t,0)\)</span> with <span class="math inline">\(0\le t\le 2\pi\)</span>, so <span class="math inline">\({\bf F}({\bf x}\,(t))= (0,\rho\cos
t,\rho\sin t)\)</span>, <span class="math inline">\(\frac{d{\bf x}\,(t)}{dt}=(-\rho\sin t,\rho\cos t,0)\)</span>, and <span class="math display">\[\begin{aligned}
\oint_C{\bf F}\cdot d{\bf x}\,
&amp;= \int_0^{2\pi}(-\rho\sin t,\rho\cos t,0)\cdot (\rho\cos 
t,\rho\sin t,0)\,dt \\
&amp;= \int_0^{2\pi}\rho^2 \cos^2 t\,dt = \pi\rho^2=\pi(r^2-1)\,.\end{aligned}\]</span></p></li>
<li><p>For the surface integral, follow the suggestion and set <span class="math display">\[{\bf x}\,(\theta,\phi)=( x(\theta,\phi), y(\theta,\phi), z(\theta,\phi))\]</span> with (compare with example 43 in your notes) <span class="math display">\[\begin{aligned}
x(\theta,\phi) &amp;= r\sin\theta\,\cos\phi\,, \\
y(\theta,\phi) &amp;= r\sin\theta\,\sin\phi\,, \\
z(\theta,\phi) &amp;= 1 + r\cos\theta\,.\end{aligned}\]</span> To figure out the parameter domain <span class="math inline">\(U\)</span>, note that <span class="math inline">\(z(\theta,\phi)\)</span> must be positive and hence <span class="math inline">\(0\le\theta\le\cos^{-1}(-1/r)\)</span>, while <span class="math inline">\(0\le\phi\le 2\pi\)</span>. Furthermore <span class="math inline">\(\nabla\times{\bf F}=(1,1,1)\)</span>, and <span class="math display">\[\begin{aligned}
\frac{\partial{\bf x}\,}{\partial\theta}\times
\frac{\partial{\bf x}\,}{\partial\phi} &amp; = 
(r\cos\theta\cos\phi, r\cos\theta\sin\phi, -r\sin\theta)
\times
(-r\sin\theta\sin\phi, r\sin\theta\cos\phi, 0) \\
&amp;=
r^2(\sin^2\theta\cos\phi,
\sin^2\theta\sin\phi,\sin\theta\cos\theta)\,.\end{aligned}\]</span> Hence <span class="math display">\[\begin{aligned}
\int_S\nabla&amp;\times{\bf F}\cdot d{\bf A}
=
\int_U{\bf F}({\bf x}\,(u,v))\cdot \left(\frac{\partial{\bf x}\,}{\partial\theta}\times
\frac{\partial{\bf x}\,}{\partial\phi}\right)d\theta\,d\phi
\\
&amp;=
r^2\! 
\int_0^{\cos^{-1}(-1/r)} \int_0^{2\pi}\,  \bigl( (1,1,1)\cdot (\sin^2\theta\cos\phi,\sin^2\theta\sin\phi,\sin\theta\cos\theta)\bigr) d\phi\,d\theta \\
&amp;=
r^2\!  
\int_0^{\cos^{-1}(-1/r)} \int_0^{2\pi} \, \bigl(\sin^2\theta\cos\phi+\sin^2\theta\sin\phi+\sin\theta\cos\theta\bigr) d\phi\,d\theta \\
&amp;=
r^2\!\int_0^{\cos^{-1}(-1/r)}
\bigl(2\pi\sin\theta\cos\theta\bigr)\,d\theta\quad\mbox{(the first two $\phi$
integrals vanishing)} \\
&amp;=\pi r^2\!\int_0^{\cos^{-1}(-1/r)}\!\sin 2\theta\,d\theta \\
&amp;= \pi r^2\Bigl[ -{\textstyle\frac{1}{2}}\cos 2\theta\Bigr]_0^{\cos^{-1}(-1/r)} \\
&amp;= -{\textstyle\frac{1}{2}}\pi r^2\Bigl[ 2\cos^2\theta - 1\Bigr]_0^{\cos^{-1}(-1/r)} \\
&amp;= -{\textstyle\frac{1}{2}}\pi r^2\Bigl( \frac{2}{r^2} - 2\Bigr) = \pi(r^2-1)\,.\end{aligned}\]</span> <em>Remarks:</em> Note that the answers to parts <span class="math inline">\((a)\)</span> and <span class="math inline">\((b)\)</span> are equal. We will see in Topic 8 that this result is predicted by Stokes’ theorem. In this case it wouldn’t have been appropriate to use method 2 for the surface integral (defining the surface implicitly and parametrising it by <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>) since for some parts of the surface there are two values of <span class="math inline">\(z\)</span> for given values of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>.</p></li>
</ul>
<p>Let <span class="math inline">\({\underline{A}}({\underline{x}})\)</span> be the vector field <span class="math inline">\({\underline{A}}(x,y,z)=z\,{\underline{e}}_1+x\,{\underline{e}}_2+y\,{\underline{e}}_3\)</span>, <span class="math inline">\(C\)</span> be the circle in the <span class="math inline">\(x,y\)</span>-plane of radius <span class="math inline">\(r\)</span> centred on the origin, and <span class="math inline">\(S\)</span> the disk in the <span class="math inline">\(x,y\)</span>-plane whose boundary is <span class="math inline">\(C\)</span>.</p>
<ul>
<li><p>Compute the line integral <span class="math inline">\(\oint_{C}{\underline{A}}\cdot d{\underline{x}}\)</span>.</p></li>
<li><p>Compute the surface integral of the curl of <span class="math inline">\({\underline{A}}\)</span>,  <span class="math inline">\(\int_S\left( \nabla\times\mathbf{A} \right)\cdot d{\bf A}\)</span> .</p></li>
</ul>
<ul>
<li><p>Parameterising <span class="math inline">\(C\)</span> as <span class="math inline">\({\underline{x}}(t)=r\cos t\,{\underline{e}}_1+r\sin t\,{\underline{e}}_2\)</span> , for <span class="math inline">\(0\le t \le 2\pi\)</span>, we have <span class="math inline">\({\underline{A}}({\underline{x}}(t))=r\cos t\,{\underline{e}}_2+r\sin t\,{\underline{e}}_3\)</span>  and <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}=-r\sin t\,{\underline{e}}_1+r\cos t\,{\underline{e}}_2\)</span> . Taking the dot product, <span class="math inline">\({\underline{A}}({\underline{x}}(t))\cdot \frac{d{\underline{x}}(t)}{dt}=r^2\cos^2t\)</span> and so <span class="math display">\[\oint_{C}\!{\underline{A}}\cdot d{\underline{x}} = \int_0^{2\pi}r^2\cos^2t\,dt= \frac{r^2}{2} \int_0^{2\pi} (\cos(2t)+1) = \frac{r^2}{2} \left[\frac{1}{2}\sin(2t) + t\right]_0^{2\pi} = \pi r^2.\]</span></p></li>
<li><p>Parameterising the disk <span class="math inline">\(S\)</span> as <span class="math inline">\(\underline{x}(u,v)=(u\cos(v),u\sin(v),0)\)</span>, for <span class="math inline">\(0\le u \le r,\, 0\le v \le 2\pi\)</span>, we have <span class="math inline">\(\underline{x}_u = (\cos(v),\sin(v),0)\)</span> and <span class="math inline">\(\underline{x}_v = (-u\sin(v),u\cos(v),0)\)</span>, and hence <span class="math inline">\(\underline{x}_u \times \underline{x}_v = u \underline{e}_3\)</span>.</p>
<p><span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times \underline{A} = (1,1,1)\)</span>, and so <span class="math display">\[\begin{aligned}
			\int_S \left( \nabla\times\mathbf{A} \right)\cdot d{\bf A}&amp;= \int_0^{2\pi} \int_0^r (1,1,1)\cdot(0,0,u)\,du\,dv \\
			&amp;= \int_0^{2\pi} \int_0^r u \,du\,dv \\
			&amp;= \pi r^2
		\end{aligned}\]</span></p></li>
</ul>
<p><em>Remarks:</em> Note that the answers to parts <span class="math inline">\((a)\)</span> and <span class="math inline">\((b)\)</span> are equal. We will see in Topic 8 that this result is predicted by Stokes’ theorem.</p>
<p>Let <span class="math inline">\({\underline{A}}({\underline{x}})\)</span> be the vector field <span class="math inline">\({\underline{A}}(x,y,z)=z\,{\underline{e}}_1+x\,{\underline{e}}_2+y\,{\underline{e}}_3\)</span>, <span class="math inline">\(C\)</span> be the <span class="math inline">\(a\)</span> by <span class="math inline">\(a\)</span> square <span class="math inline">\({\underline{a}}{\underline{b}}{\underline{c}}{\underline{d}}\)</span> in the <span class="math inline">\(y,z\)</span>-plane with vertices <span class="math inline">\({\underline{a}}={\underline{0}}\)</span>, <span class="math inline">\({\underline{b}}=a\,{\underline{e}}_2\)</span>, <span class="math inline">\({\underline{c}}=a\,{\underline{e}}_2+a\,{\underline{e}}_3\)</span>  and <span class="math inline">\({\underline{d}}=a\,{\underline{e}}_3\)</span> , and <span class="math inline">\(S\)</span> be the region of the <span class="math inline">\(y,z\)</span>-plane bounded by <span class="math inline">\(C\)</span>.</p>
<ul>
<li><p>Compute the line integral <span class="math inline">\(\oint_{C}{\underline{A}}\cdot d{\underline{x}}\)</span> .</p></li>
<li><p>Compute the surface integral of the curl of <span class="math inline">\({\underline{A}}\)</span>,  <span class="math inline">\(\int_S\left( \nabla\times\mathbf{A} \right)\cdot d{\bf A}\)</span> .</p></li>
</ul>
<ul>
<li><p>Splitting <span class="math inline">\(C\)</span> into four straight lines <span class="math inline">\(C_a={\underline{a}}{\underline{b}}\)</span>, <span class="math inline">\(C_b={\underline{b}}{\underline{c}}\)</span>, <span class="math inline">\(C_c={\underline{c}}{\underline{d}}\)</span> and <span class="math inline">\(C_d={\underline{d}}{\underline{a}}\)</span>, we have <span class="math display">\[\oint_{C_2}\!{\underline{A}}\cdot d{\underline{x}} = 
\int_{C_a}\!{\underline{A}}\cdot d{\underline{x}} +
\int_{C_b}\!{\underline{A}}\cdot d{\underline{x}} +
\int_{C_c}\!{\underline{A}}\cdot d{\underline{x}} +
\int_{C_d}\!{\underline{A}}\cdot d{\underline{x}}\]</span> and the task is to evaluate the line integrals along these four straight lines. Taking them in turn:</p>
<ul>
<li><p><span class="math inline">\(C_a\)</span> runs from <span class="math inline">\({\underline{0}}\)</span> to <span class="math inline">\(a\,{\underline{e}}_2\)</span>, and can be parametrized as <span class="math inline">\({\underline{x}}(t)=t\,{\underline{e}}_2\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(a\)</span>. Then <span class="math inline">\({\underline{A}}({\underline{x}}(t))=t\,{\underline{e}}_3\)</span> and <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}={\underline{e}}_2\)</span> so <span class="math inline">\({\underline{A}}({\underline{x}}(t))\cdot \frac{d{\underline{x}}(t)}{dt}=0\)</span> and hence <span class="math inline">\(\int_{C_a}\!{\underline{A}}\cdot d{\underline{x}}=0\)</span>.</p></li>
<li><p><span class="math inline">\(C_b\)</span> runs from <span class="math inline">\(a\,{\underline{e}}_2\)</span> to <span class="math inline">\(a\,{\underline{e}}_2+a\,{\underline{e}}_3\)</span>, and can be parametrized as <span class="math inline">\({\underline{x}}(t)=a\,{\underline{e}}_2+t\,{\underline{e}}_3\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(a\)</span>. Then <span class="math inline">\({\underline{A}}({\underline{x}}(t))=t\,{\underline{e}}_1+a\,{\underline{e}}_3\)</span> and <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}={\underline{e}}_3\)</span> so <span class="math inline">\({\underline{A}}({\underline{x}}(t))\cdot \frac{d{\underline{x}}(t)}{dt}=a\)</span> and hence <span class="math inline">\(\int_{C_b}\!{\underline{A}}\cdot d{\underline{x}}=\int_0^a a\,dt=[at]_0^a=a^2\)</span>.</p></li>
<li><p><span class="math inline">\(C_c\)</span> runs from <span class="math inline">\(a\,{\underline{e}}_2+a\,{\underline{e}}_3\)</span> to <span class="math inline">\(a\,{\underline{e}}_3\)</span>, and can be parametrized as <span class="math inline">\({\underline{x}}(t)=t\,{\underline{e}}_2+a\,{\underline{e}}_3\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(a\)</span> to <span class="math inline">\(0\)</span>. Then <span class="math inline">\({\underline{A}}({\underline{x}}(t))=a\,{\underline{e}}_1+t\,{\underline{e}}_3\)</span> and <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}={\underline{e}}_2\)</span> so <span class="math inline">\({\underline{A}}({\underline{x}}(t))\cdot \frac{d{\underline{x}}(t)}{dt}=0\)</span> and hence <span class="math inline">\(\int_{C_c}\!{\underline{A}}\cdot d{\underline{x}}=0\)</span>.</p></li>
<li><p><span class="math inline">\(C_d\)</span> runs from <span class="math inline">\(a\,{\underline{e}}_3\)</span> to <span class="math inline">\({\underline{0}}\)</span>, and can be parametrized as <span class="math inline">\({\underline{x}}(t)=t\,{\underline{e}}_3\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(a\)</span> to <span class="math inline">\(0\)</span>. Then <span class="math inline">\({\underline{A}}({\underline{x}}(t))=t\,{\underline{e}}_1\)</span> and <span class="math inline">\(\frac{d{\underline{x}}(t)}{dt}={\underline{e}}_3\)</span> so <span class="math inline">\({\underline{A}}({\underline{x}}(t))\cdot \frac{d{\underline{x}}(t)}{dt}=0\)</span> and hence <span class="math inline">\(\int_{C_d}\!{\underline{A}}\cdot d{\underline{x}}=0\)</span>.</p></li>
</ul>
<p>Adding the four bits together gives the final result: <span class="math inline">\(\oint_{C_2}\!{\underline{A}}\cdot d{\underline{x}} =a^2\)</span>.</p></li>
<li><p>Using method 2, the surface <span class="math inline">\(S\)</span> can be given as part of the level set <span class="math inline">\(f(x,y,z)=x=0\)</span> for <span class="math inline">\(0\le y \le a\, 0\le z \le a\)</span>. The surface <span class="math inline">\(S\)</span> therefore has (right-pointing) normal given by <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f = \underline{e}_1\)</span>. Since we therefore have <span class="math inline">\(\partial_x f \ne 0\)</span> over the surface <span class="math inline">\(S\)</span>, we can compute this integral by ‘projecting’ onto the <span class="math inline">\(y,z\)</span>-plane using method 2.</p>
<p>We also have <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times \underline{A} = (1,1,1)\)</span>, and hence <span class="math display">\[\begin{aligned}
		\int_S \left(\nabla\times\mathbf{A}\right)\cdot d{\bf A}&amp;= \int_0^a \int_0^a \frac{\left(\nabla{}\times\underline{A}\right)\cdot \underline{\nabla\mkern-2mu}\mkern 3mu f}{\underline{e}_1 \cdot \underline{\nabla\mkern-2mu}\mkern 3mu f}\,dy\,dz \\
		&amp;= \int_0^a \int_0^a 1\,dy\,dz \\
		&amp;= a^2
	\end{aligned}\]</span> <em>Remarks:</em> Note that the answers to parts <span class="math inline">\((a)\)</span> and <span class="math inline">\((b)\)</span> are equal. We will see in Topic 8 that this result is predicted by Stokes’ theorem.</p></li>
</ul>
<p>Based on exam question May 2015 (Section A) Q5 (which didn’t contain part (b)) :</p>
<ul>
<li><p>Calculate <span class="math inline">\(\int_V \left( \underline{\nabla\mkern-2mu}\mkern 3mu \cdot \underline{U} \right) dV\)</span> where <span class="math inline">\(V\)</span> is the solid cube with faces <span class="math inline">\(x=\pm 1\)</span>, <span class="math inline">\(y=\pm 1\)</span> and <span class="math inline">\(z=\pm 1\)</span> and <span class="math display">\[\underline{U}(x,y,z)=(\,x\,y^2,y\,x^2,z\,) \,.\]</span></p></li>
<li><p>Calculate <span class="math inline">\(\int_S \underline{U}\cdot d\underline{A}\)</span>, where <span class="math inline">\(S\)</span> is the surface of <span class="math inline">\(V\)</span>.</p></li>
</ul>
<p><br />
</p>
<ul>
<li><p>We have <span class="math inline">\(\nabla\cdot{\bf U}=y^2+x^2+1\)</span> so (changing the orders of integrations as convenient) <span class="math display">\[\begin{aligned}
\int_V \left( \underline{\nabla\mkern-2mu}\mkern 3mu \cdot \underline{U} \right) dV &amp; = 
\int_{-1}^1
\int_{-1}^1
\int_{-1}^1
(y^2+x^2+1)\,dxdydz \\
&amp;=
4\int_{-1}^1y^2dy +
4\int_{-1}^1x^2dx +
8\\
&amp;=
4\left[ {\textstyle\frac{1}{3}}y^3\right]_{-1}^1 + 
4\left[ {\textstyle\frac{1}{3}}x^3\right]_{-1}^1 +
8\\[2pt]
&amp;={\textstyle\frac{16}{3}}+8 = {\textstyle\frac{40}{3}}\,.\end{aligned}\]</span></p></li>
<li><p>The surface integral is the sum of six terms, one for each face of the cube:<br />
<span class="math inline">\(\bullet\)</span> On the faces <span class="math inline">\(x=\pm 1\)</span>, <span class="math inline">\(\widehat{\bf n}=\pm{\bf e_1}\)</span> and <span class="math inline">\({\bf U}=(\pm y^2,y,z)\)</span>, so <span class="math inline">\({\bf U}\cdot\widehat{\bf n}=y^2\)</span> and each contributes <span class="math inline">\(I_1=\int_{-1}^1\int_{-1}^1y^2dydz=\frac{4}{3}\)</span>.<br />
<span class="math inline">\(\bullet\)</span> On the faces <span class="math inline">\(y=\pm 1\)</span>, <span class="math inline">\(\widehat{\bf n}=\pm{\bf e_2}\)</span> and <span class="math inline">\({\bf U}=(x,\pm x^2,z)\)</span>, so <span class="math inline">\({\bf U}\cdot\widehat{\bf n}=x^2\)</span> and each contributes <span class="math inline">\(I_2=\int_{-1}^1\int_{-1}^1x^2dxdz=\frac{4}{3}\)</span>.<br />
<span class="math inline">\(\bullet\)</span> On the faces <span class="math inline">\(z=\pm 1\)</span>, <span class="math inline">\(\widehat{\bf n}=\pm{\bf e_3}\)</span> and <span class="math inline">\({\bf U}=(xy^2,yx^2,\pm 1)\)</span>, so <span class="math inline">\({\bf U}\cdot\widehat{\bf n}=1\)</span> and each contributes <span class="math inline">\(I_3=\int_{-1}^1\int_{-1}^1dxdy=4\)</span>.<br />
The total is <span class="math inline">\(2I_1+2I_2+2I_3= \frac{8}{3}+ \frac{8}{3}+8= {\textstyle\frac{40}{3}}\)</span> as before.<br />
<em>Aside:</em> the calculation is quite close to the one in part (b) – this is related to how the general proof of the divergence theorem works.</p></li>
</ul>
<p>For a simple closed curve <span class="math inline">\(C\)</span> in the <span class="math inline">\((x,y)-\)</span>plane, show by Green’s theorem that the area enclosed is <span class="math inline">\(A\,=\,\frac{1}{2}\,\oint_C\,(x dy - y dx)\, .\)</span> (Note, ‘simple’ means that <span class="math inline">\(C\)</span> does not cross itself, which means that it encloses a well-defined area <span class="math inline">\(A\)</span>.)</p>
<p>Area is given by <span class="math inline">\(A = \int_S dA\)</span>, where <span class="math inline">\(S\)</span> is the surface enclosed by the simple curve <span class="math inline">\(C\)</span> in the <span class="math inline">\((x,y)\)</span> plane. Green’s theorem states: <span class="math display">\[\oint_C Pdx+Qdy=\iint_S\left(
\frac{\partial Q}{\partial x}- \frac{\partial P}{\partial y} \right)
dA\]</span> In this case, the RHS of the formula given in the question is matched if we take <span class="math inline">\(P=-{\textstyle\frac{1}{2}}y\)</span> and <span class="math inline">\(Q={\textstyle\frac{1}{2}}x\)</span>; it is then easy to check that <span class="math inline">\(\frac{\partial Q}{\partial x}- \frac{\partial P}{\partial y}=1\)</span> and so the result is indeed equal to the area. (Note, many other choices of <span class="math inline">\(P\)</span> and <span class="math inline">\(Q\)</span> would also give the area.)</p>
<p>Evaluate <span class="math inline">\(\oint\,{\bf F}\cdot {\bf dx}\,\)</span> around the circle <span class="math inline">\(x^2\,+\,y^2\,+2x\,=\,0\)</span>, where <span class="math inline">\({\bf F}\,=\,y {\bf e_1}\,-\,x {\bf e_2}\)</span>, both directly and by using Green’s theorem in the plane.</p>
<p><span class="math display">\[\oint\,{\bf F}\cdot {\bf dx}\,
=\oint\,(F_1\,dx+F_2\,dy)
=\oint\,(y\,dx-x\,dy)\]</span> Using Green’s theorem in the plane this is <span class="math display">\[\iint_A\left(-\frac{\partial x}{\partial x}-\frac{\partial y}{\partial
y}\right)dx\,dy=-2\iint_Adx\,dy=-2A\]</span> where <span class="math inline">\(A\)</span> is the area inside the circle <span class="math inline">\(x^2+y^2+2x=0\)</span>, or <span class="math inline">\((x+1)^2+y^2=1\)</span>. Since this has radius <span class="math inline">\(1\)</span>, the area is <span class="math inline">\(\pi\)</span> and so <span class="math inline">\(\oint\,{\bf F}\cdot {\bf dx}\,=-2\pi\)</span> .<br />
Alternatively, the circle can be parametrised as <span class="math inline">\({\bf x}\,(t)=(\cos(t)-1)\,{\bf e_1}+\sin(t)\,{\bf e_2}\)</span> . Then <span class="math inline">\(\frac{d{\bf x}\,(t)}{dt}=
-\sin(t)\,{\bf e_1}+\cos(t)\,{\bf e_2}\)</span> so <span class="math display">\[\begin{aligned}
\oint\,{\bf F}\cdot {\bf dx}\,&amp;=\int_0^{2\pi}
(\sin(t)\,{\bf e_1}-(\cos(t)-1)\,{\bf e_2})\cdot(-\sin(t)\,{\bf e_1}+\cos(t)\,{\bf e_2})\,dt
\\
&amp; =
\int_0^{2\pi}\bigl(-\sin^2(t)-\cos^2(t)+\cos(t)\bigr)\,dt = -2\pi\,.\end{aligned}\]</span></p>
<p>Evaluate <span class="math inline">\(\oint_C\, 2x dy - 3y dx\)</span> around the square with vertices at <span class="math inline">\((x,y)=(0,2)\)</span>, <span class="math inline">\((2,0)\)</span>, <span class="math inline">\((-2,0)\)</span> and <span class="math inline">\((0,-2)\)</span>.</p>
<p><br />
First, using Green’s theorem in the plane: <span class="math display">\[\oint_C\, 2x dy - 3y dx=\iint_A\left(\frac{\partial (2x)}{\partial
x}+\frac{\partial (3y)}{\partial 
y}\right)dx\,dy = 5\iint_Adx\,dy=5A\]</span> where <span class="math inline">\(A\)</span> is the area of the square. Now <span class="math inline">\(A=8\)</span> so the integral is equal to <span class="math inline">\(40\)</span>.</p>
<p>We could equivalently embed the whole problem in three dimensions and use Stokes’ theorem. The required integral can be written as <span class="math display">\[\oint_C\,\mathbf{F}\cdot d{\bf x}\,\]</span> where <span class="math inline">\(\mathbf{F}=-3y{\bf e_1}+2x{\bf e_2}\)</span> and <span class="math inline">\(C\)</span> is the given contour, thought of as lying in the <span class="math inline">\(z=0\)</span> plane. By Stokes, and noting that the unit normal to the planar surface spanning <span class="math inline">\(C\)</span> is <span class="math inline">\({\bf e_3}\)</span>, this is equal to <span class="math inline">\(\iint_A
(\underline{\nabla\mkern-2mu}\mkern 3mu \times\mathbf{F})\cdot {\bf e_3}\,dA\)</span>, and since <span class="math inline">\((\underline{\nabla\mkern-2mu}\mkern 3mu \times\mathbf{F})_3=5\)</span> this reduces to the previous calculation.</p>
<p>Finally, it is possible (and a good exercise) to do the contour integral directly. The contour can be split into four straight lines as shown in Figure <a href="#fig:labelledsquare" data-reference-type="ref" data-reference="fig:labelledsquare">8</a>.</p>
<figure>
<img src="LabelledSquare.png" id="fig:labelledsquare" style="width:50.0%" alt="" /><figcaption>A square contour in the plane.</figcaption>
</figure>
<p>On <strong>A</strong>, write points as <span class="math inline">\((t,2-t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(2\)</span> to <span class="math inline">\(0\)</span>; then <span class="math inline">\(dx=dt\)</span>, <span class="math inline">\(dy=-dt\)</span>, and <span class="math display">\[\int_{\mathbf{A}} -3y\,dx+2x\,dy
=\int_2^0\left(-3(2-t)-2t\right)dt
=\left[-6t+{\textstyle\frac{1}{2}}t^2\right]_2^0 = 12-2 = 10\,.\]</span> On <strong>B</strong>, write points as <span class="math inline">\((t,2+t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(-2\)</span>; then <span class="math inline">\(dx=dy=dt\)</span> and <span class="math display">\[\int_C -3y\,dx+2x\,dy
=\int_0^{-2}\left(-3(2+t)+2t\right)dt
=\left[-6t-{\textstyle\frac{1}{2}}t^2\right]_0^{-2} = 12-2 = 10\,.\]</span> On <strong>C</strong>, write points as <span class="math inline">\((t,-2-t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(-2\)</span> to <span class="math inline">\(0\)</span>; then <span class="math inline">\(dx=dt\)</span>, <span class="math inline">\(dy=-dt\)</span>, and <span class="math display">\[\int_C -3y\,dx+2x\,dy
=\int_{-2}^0\left(-3(-2-t)-2t\right)dt
=\left[6t+{\textstyle\frac{1}{2}}t^2\right]_{-2}^0 = 12-2 = 10\,.\]</span> On <strong>D</strong>, write points as <span class="math inline">\((t,-2+t)\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(2\)</span>; then <span class="math inline">\(dx=dy=dt\)</span> and <span class="math display">\[\int_C -3y\,dx+2x\,dy
=\int_0^{2}\left(-3(-2+t)+2t\right)dt
=\left[6t-{\textstyle\frac{1}{2}}t^2\right]_0^{2} = 12-2 = 10\,.\]</span> Adding them all up gives <span class="math inline">\(40\)</span>, as before. Other parametrisations could have been used; for the particular ones taken here, you could also have written the parameter as <span class="math inline">\(x\)</span> instead of <span class="math inline">\(t\)</span>, but be extra careful with the signs! (And <em>check</em> that you agree with the calculation given here…)</p>
<p>Let <span class="math inline">\({\underline{v}}\)</span> be the radial vector field <span class="math inline">\({\underline{v}}({\underline{x}})={\underline{x}}\)</span> .<br />
</p>
<ol>
<li><p>Compute <span class="math inline">\(l_1=\int_{C_1}{\underline{v}}\cdot d{\underline{x}}\)</span> , where <span class="math inline">\(C_1\)</span> is the straight-line contour from the origin to the point <span class="math inline">\((2,0,0)\)</span> .</p></li>
<li><p>Compute <span class="math inline">\(l_2=\int_{C_2}{\underline{v}}\cdot d{\underline{x}}\)</span> , where <span class="math inline">\(C_2\)</span> is the semi-circular contour from the origin to the point <span class="math inline">\((2,0,0)\)</span> defined by <span class="math inline">\(0\le x\le 2\)</span>, <span class="math inline">\(y=+\sqrt{1-(x{-}1)^2}\)</span> , <span class="math inline">\(z=0\)</span>. <span>[It may help to start by sketching <span class="math inline">\(C_2\)</span> , and then to parameterize it as <span class="math inline">\({\underline{x}}(t)=
(1-\cos t,\sin t,0)\)</span> with <span class="math inline">\(0\le t\le\pi\)</span>. ]</span></p></li>
<li><p>You should have found that <span class="math inline">\(l_1=l_2\)</span>. Explain this result using Stokes’ theorem.</p></li>
</ol>
<ol>
<li><p>Parameterizing <span class="math inline">\(C_1\)</span> by the distance <span class="math inline">\(x\)</span> from the origin, at the point <span class="math inline">\({\underline{x}}(x)=x\,{\underline{e}}_1\)</span> on <span class="math inline">\(C_1\)</span> we have <span class="math inline">\({\underline{v}}=x\,{\underline{e}}_x\)</span> and <span class="math inline">\(d{\underline{x}}={\underline{e}}_1\,dx\)</span> , and so <span class="math display">\[l_1=\int_0^2\!x\,d x=2\,.\]</span></p></li>
<li><p>Parameterizing <span class="math inline">\(C_2\)</span> by the angle <span class="math inline">\(t\)</span>, <span class="math inline">\({\underline{v}}({\underline{x}}(t))=(1-\cos t,\sin t,0)\)</span> while <span class="math inline">\(d{\underline{x}}(t)=(\sin t,\cos t,0)\,dt\)</span>, so <span class="math inline">\({\underline{v}}\cdot d{\underline{x}}=\sin t\,dt\)</span> and <span class="math display">\[l_2=\int_0^\pi \sin t\,dt=2\,.\]</span></p></li>
<li><p>As predicted in the question, <span class="math inline">\(l_1=l_2\)</span>. To explain this using Stokes’ theorem, note first that if <span class="math inline">\({\underline{v}}({\underline{x}})={\underline{x}}\)</span> then <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\underline{v}}={\underline{0}}\)</span> (see question 15(b)). Now let <span class="math inline">\(C_3\)</span> be the closed contour which runs from the origin to <span class="math inline">\((2,0,0)\)</span> along <span class="math inline">\(C_1\)</span>, then returns to the origin by taking <span class="math inline">\(C_2\)</span> in the reverse direction. Then <span class="math inline">\(\int_{C_3}{\underline{v}}\cdot d{\underline{x}}=l_1-l_2\)</span>. But by Stokes’ theorem, <span class="math inline">\(\int_{C_3}{\underline{v}}\cdot  d{\underline{x}}=
\int_{S_3}(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\underline{v}})\cdot d{\underline{A}}=0\)</span>, where <span class="math inline">\(S_3\)</span> is a surface spanning <span class="math inline">\(C_3\)</span>. Hence <span class="math inline">\(l_1-l_2=0\)</span>, or <span class="math inline">\(l_1=l_2\)</span>, as required.</p></li>
</ol>
<p>Integrate <span class="math inline">\({\rm curl}\,{\bf F}\)</span>, where <span class="math inline">\({\bf F}\,=\, 3y {\bf e_1}- xz {\bf e_2}+ y z^2 {\bf e_3}\)</span>, over the portion <span class="math inline">\(S\)</span> of the surface <span class="math inline">\(2z\,=\, x^2 + y^2\)</span> below the plane <span class="math inline">\(z=2\)</span>, both directly and by using Stokes’ theorem. Take the area elements of <span class="math inline">\(S\)</span> to point outwards, so that their <span class="math inline">\(z\)</span> components are negative.</p>
<p>The geometrical setup is illustrated in Figure <a href="#fig:parabaloid1" data-reference-type="ref" data-reference="fig:parabaloid1">9</a>.</p>
<figure>
<img src="parabaloid1.png" id="fig:parabaloid1" style="width:50.0%" alt="" /><figcaption>The intersection of the parabaloid <span class="math inline">\(2z\,=\, x^2 + y^2\)</span> and the plane <span class="math inline">\(z=2\)</span></figcaption>
</figure>
<p>First proceed directly. Calculate <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=(z^2+x){\bf e_1}
-(3+z){\bf e_3}\)</span> . Now consider the surface of the paraboloid <span class="math inline">\(2z=x^2+y^2\)</span>, The surface is the zero level set of <span class="math inline">\(f=x^2+y^2-2z\)</span>, so a normal vector to it is <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=2x {\bf e_1}+2y{\bf e_2}-2{\bf e_3}\)</span>, and <span class="math display">\[d{\bf A}=-\frac{\underline{\nabla\mkern-2mu}\mkern 3mu f}{{\bf e_3}\cdot\underline{\nabla\mkern-2mu}\mkern 3mu f}\,dxdy =
\left(x{\bf e_1}+y{\bf e_2}-{\bf e_3}\right)dxdy.\]</span> Note the minus sign – this comes from the choice to take the ‘outward’ normal to be pointing <em>out</em> of the paraboloid, which (as should be clear from the plot) means its <span class="math inline">\(z\)</span> component is negative, leading to the minus sign in the formula for <span class="math inline">\(d{\bf A}\)</span>.</p>
<p>Hence <span class="math display">\[\begin{aligned}
\int_S \underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}
&amp;=
\iint_D\bigl((z^2+x){\bf e_1}
-(3+z){\bf e_3}\bigr)\cdot\bigl(x{\bf e_1}+y{\bf e_2}-{\bf e_3}\bigr)\,dxdy\\
&amp;=
\iint_D \bigl( (z^2+x)x +3+z\bigr)\,dxdy \\
&amp;=
\iint_D \bigl( ({\textstyle\frac{1}{4}}(x^2+y^2)^2+x)x +3+{\textstyle\frac{1}{2}}(x^2+y^2)\bigr)\,dxdy\end{aligned}\]</span> where <span class="math inline">\(D\)</span> is the projection of <span class="math inline">\(S\)</span> onto the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane (a circle of radius 2) and the fact that <span class="math inline">\(z={\textstyle\frac{1}{2}}(x^2+y^2)\)</span> was used in the last line to write the integral in terms of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> alone.</p>
<p>To calculate this integral, change to polar coordinates <span class="math inline">\(x=r\cos\theta\)</span>, <span class="math inline">\(y=r\sin\theta\)</span> . Then <span class="math inline">\(dxdy=rdrd\theta\)</span>, and <span class="math display">\[\int_S\left(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\right)\cdot d{\bf A}=
\int_0^{2\pi}d\theta\int_0^2rdr\left({\textstyle\frac{1}{4}}r^5\cos\theta +
r^2\cos^2\theta + 3 +{\textstyle\frac{1}{2}}r^2\right)\]</span> giving <span class="math inline">\(\int_S\left(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\right)\cdot d{\bf A}=
\int_0^{2\pi}\left(\frac{2^5}{7}\cos\theta +
4\cos^2\theta+8\right)d\theta = 20\pi\)</span> .</p>
<p>Alternatively, we can use Stokes’ theorem to say that <span class="math inline">\(\int_S\left(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\right)\cdot d{\bf A}=\oint_C{\bf F}\cdot d{\bf x}\,\)</span> where <span class="math inline">\(C\)</span> is the boundary of <span class="math inline">\(S\)</span>, a circle of radius <span class="math inline">\(2\)</span> described by <span class="math display">\[x^2+y^2=4\,,\quad z=2\,.\]</span> Note that since our normal is pointing <em>down</em> (i.e. in the negative-<span class="math inline">\(z\)</span> direction), <span class="math inline">\(C\)</span> should be traversed <em>clockwise</em> in the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane. To get this right, write <span class="math inline">\(C\)</span> in parametric form as <span class="math inline">\(x=2\cos t\)</span>, <span class="math inline">\(y=-2\sin t\)</span>, <span class="math inline">\(z=2\)</span> with <span class="math inline">\(t\)</span> running from <span class="math inline">\(0\)</span> to <span class="math inline">\(2\pi\)</span>. Then <span class="math display">\[\begin{aligned}
\oint_C{\bf F}\cdot d{\bf x}\,
&amp;=\int_0^{2\pi}
\bigl( -6\sin t\,{\bf e_1}- 4\cos t\,{\bf e_2}-8\sin t\,{\bf e_3}\bigr)\cdot
\bigl(-2\sin t\,{\bf e_1}-2\cos t\,{\bf e_2}\bigr)\,dt \\
&amp;=\int_0^{2\pi}
\bigl( 12\sin^2 t +8\cos^2t\bigr)\,dt \,=\, 20\pi,\end{aligned}\]</span> as before.</p>
<p><em>Note:</em> It is also possible to integrate the curl of <span class="math inline">\({\bf F}\)</span> over the flat disk <span class="math inline">\(S&#39;=\{x^2+y^2\le 4, z=2\}\)</span> which also has <span class="math inline">\(C\)</span> as its boundary. For this disk, picking the normal to again point downwards, <span class="math inline">\(d{\bf A}=-{\bf e_3}\,dxdy\)</span> everywhere, and so <span class="math display">\[\begin{aligned}
\int_{S&#39;}\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}&amp;=
\iint_{x^2+y^2\le 2}\bigl((4{+}x){\bf e_1}-5{\bf e_3}\bigr)\cdot
\bigl(-{\bf e_3}\,dxdy\bigr)\\
&amp;=\iint_{x^2+y^2\le 2}5\,dxdy \,=\, 20\pi\,.\end{aligned}\]</span> Observe that this is the same answer as for the surface integral over <span class="math inline">\(S\)</span>. This has to be the case since both are equal to the the line integral round <span class="math inline">\(C\)</span>, but can you see a direct argument for it? (Hint: consider using the divergence theorem.)</p>
<p>The paraboloid of equation <span class="math inline">\(z=x^2+y^2\)</span> intersects the plane <span class="math inline">\(z=y\)</span> in a curve <span class="math inline">\(C\)</span>. Calculate <span class="math inline">\(\oint_C\, {\bf v} \cdot {\bf dx}\,\)</span> for <span class="math inline">\({\bf v}=2z {{\bf e_1}}+x {{\bf e_2}} + y {{\bf e_3}}\)</span> using Stokes’ theorem. Check your answer by evaluating the line integral directly.</p>
<p>First, a picture of the situation is shown below in Figure <a href="#fig:parabaloid2" data-reference-type="ref" data-reference="fig:parabaloid2">10</a>.</p>
<figure>
<img src="parabaloid2.png" id="fig:parabaloid2" style="width:50.0%" alt="" /><figcaption>The intersection of the parabaloid <span class="math inline">\(z = x^2 + y^2\)</span> and the plane <span class="math inline">\(z=y\)</span>.</figcaption>
</figure>
<p>On <span class="math inline">\(C\)</span>, we have <span class="math inline">\(z=x^2+y^2\)</span> and <span class="math inline">\(z=y\)</span>. Hence <span class="math inline">\(x^2+y^2=y\)</span>, or <span class="math inline">\(x^2+(y-{\textstyle\frac{1}{2}})^2={\textstyle\frac{1}{4}}\)</span> . Stokes’ theorem says that <span class="math display">\[\oint_C\, {\bf v} \cdot d{\bf x}\,= \int_S\left(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf v}\right)\cdot d{\bf A}\]</span> where <span class="math inline">\(S\)</span> is any surface bounded by <span class="math inline">\(C\)</span>, and <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf v}=\text{(calculate)}={\bf e_1}+2{\bf e_2}+{\bf e_3}=(1,2,1)\)</span>. There are then two ways to proceed.</p>
<p>1) (Harder) Take <span class="math inline">\(S\)</span> to be the portion <span class="math inline">\(S\)</span> of the paraboloid <span class="math inline">\(z=x^2+y^2\)</span> that lies inside <span class="math inline">\(C\)</span>. Using method 1 from lectures, we can parametrise the paraboloid by <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, setting <span class="math inline">\({\bf x}\,(x,y)=x\,{\bf e_1}+y\,{\bf e_2}+(x^2+y^2)\,{\bf e_3}\)</span> , so <span class="math inline">\(\frac{\partial {\bf x}\,}{\partial x}={\bf e_1}+2x\,{\bf e_3}\)</span> and <span class="math inline">\(\frac{\partial {\bf x}\,}{\partial y}={\bf e_2}+2y\,{\bf e_3}\)</span> . Hence <span class="math display">\[d{\bf A}=({\bf e_1}+2x\,{\bf e_3})\times ({\bf e_2}+2y\,{\bf e_3})\,dxdy =
( -2x\,{\bf e_1}-2y\,{\bf e_2}+{\bf e_3})\,dxdy\,.\]</span> Equivalently, we can use method 2 and define the paraboloid implicitly as the level set <span class="math inline">\(f(x,y,z)=0\)</span> where <span class="math inline">\(f(x,y,z)=z-x^2-y^2\)</span>, so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f =
-2x\,{\bf e_1}-2y\,{\bf e_2}+{\bf e_3}\)</span> and <span class="math display">\[d{\bf A}=\frac{\underline{\nabla\mkern-2mu}\mkern 3mu f}{{\bf e_3}\cdot\underline{\nabla\mkern-2mu}\mkern 3mu f}\,dxdy=
( -2x\,{\bf e_1}-2y\,{\bf e_2}+{\bf e_3})\,dxdy\]</span> which is the same as the formula found using method 1.</p>
<p>Either way, we have <span class="math display">\[\left(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf v}\right)\cdot d{\bf A}=
({\bf e_1}+2{\bf e_2}+{\bf e_3})\cdot( -2x\,{\bf e_1}-2y\,{\bf e_2}+{\bf e_3})\,dxdy = (-2x-4y+1)\,dxdy\]</span> and this must be integrated over <span class="math inline">\(D\)</span>, the projection of <span class="math inline">\(S\)</span> onto the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane. Setting <span class="math inline">\(Y=y-{\textstyle\frac{1}{2}}\)</span> , <span class="math inline">\(4y=4Y+2\)</span> and the integral is <span class="math display">\[\iint_{x^2+Y^2\le \frac{1}{4}}
\left(-1-2x-4Y\right)dxdY=-\frac{\pi}{4}\,.\]</span> (Note, the integrals of <span class="math inline">\(-2x\)</span> and <span class="math inline">\(-4Y\)</span> vanish by symmetry.)</p>
<p>2) (Easier) Take <span class="math inline">\(S\)</span> to be the part of the plane <span class="math inline">\(z=y\)</span> encircled by <span class="math inline">\(C\)</span>, a (tilted) flat disk. On this disk the unit normal is <span class="math inline">\(\widehat{\bf n}=\frac{1}{\sqrt{2}}(-{\bf e_2}+{\bf e_3})\)</span> and the area elements are <span class="math inline">\(d{\bf A}=\widehat{\bf n}\,dx\,\sqrt{2}dy=(-{\bf e_2}+{\bf e_3})\,dxdy=(0,-1,1)dxdy\)</span>. Then the area integral is <span class="math display">\[\iint_D(1,2,1)\cdot (0,-1,1)\,dxdy =
-\iint_D\,dxdy=-\frac{\pi}{4}\]</span> since the area of <span class="math inline">\(D\)</span>, a disk of radius <span class="math inline">\({\textstyle\frac{1}{2}}\)</span>, is <span class="math inline">\(\frac{\pi}{4}\)</span>.</p>
<p>Note, the methods chosen here to evaluate the surface integrals are not compulsory. For example, the level set method could also be used for the second case.</p>
<p>As a check, we can do the line integral directly. Given the characterisation of <span class="math inline">\(C\)</span> found above, it can be parametrised as <span class="math inline">\({\bf x}\,(t)=
{\textstyle\frac{1}{2}}\cos t\,{\bf e_1}+{\textstyle\frac{1}{2}}(1+\sin t)\,{\bf e_2}+{\textstyle\frac{1}{2}}(1+\sin t)\,{\bf e_3}\)</span> with <span class="math inline">\(0\le t\le 2\pi\)</span>. Then <span class="math inline">\(\frac{d{\bf x}\,}{dt}=-{\textstyle\frac{1}{2}}\sin t\,{\bf e_1}+{\textstyle\frac{1}{2}}\cos t\,{\bf e_2}+{\textstyle\frac{1}{2}}\cos
t\,{\bf e_3}\)</span> while <span class="math inline">\({\bf v}({\bf x}\,(t))=(1+\sin t)\,{\bf e_1}+{\textstyle\frac{1}{2}}\cos
t\,{\bf e_2}+{\textstyle\frac{1}{2}}(1+\sin t)\,{\bf e_3}\)</span> , and so <span class="math display">\[\begin{aligned}
&amp;\oint_C\, {\bf v} \cdot d{\bf x}\,\\
&amp;~~= 
{\textstyle\frac{1}{4}}\!\int_0^{2\pi}\! \bigl((2{+}2\sin t)\,{\bf e_1}+\cos
t\,{\bf e_2}+(1{+}\sin t)\,{\bf e_3}\bigr)\cdot \bigl(-\sin
t\,{\bf e_1}+\cos t\,{\bf e_2}+\cos t\,{\bf e_3}\bigr)dt \\
&amp;~~={\textstyle\frac{1}{4}}\!\int_0^{2\pi}\! \bigl(
-2\sin t -2\sin^2t+\cos^2t+\cos t+\cos t\sin t\bigr)dt\,=\,
-\frac{\pi}{4}\end{aligned}\]</span> as before.</p>
<p>For an open surface <span class="math inline">\(S\)</span> with boundary <span class="math inline">\(C\)</span>, show that <span class="math inline">\(2\int_S\,{\bf u}\cdot d{\bf A}=\oint_C\, ( {\bf u}\times{\bf x}\,)\cdot d{\bf x}\,\,,\)</span> where <span class="math inline">\({\bf u}\)</span> is a fixed vector.</p>
<p>By Stokes’ theorem, the RHS is equal to <span class="math inline">\(\int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times({\bf u}\times{\bf x}\,)\cdot d{\bf A}\)</span>. In addition, <span class="math display">\[(\underline{\nabla\mkern-2mu}\mkern 3mu \times({\bf u}\times{\bf x}\,))_i=\varepsilon_{ijk}\partial_j\varepsilon_{klm}u_lx_m
=\varepsilon_{ijk}\varepsilon_{klm}u_l\delta_{jm}=
(\delta_{il}\delta_{jm}-\delta_{im}\delta_{jl})u_l\delta_{jm}=2u_i\]</span> so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times({\bf u}\times{\bf x}\,)=2{\bf u}\)</span>, and, integrating, the LHS of the given formula is matched.</p>
<p>Verify Stokes’ theorem for the upper hemispherical surface <span class="math inline">\(S\)</span>: <span class="math inline">\(z=\sqrt{1-x^2-y^2}\)</span>, <span class="math inline">\(z\ge 0\)</span>, with <span class="math inline">\({\bf F}\)</span> equal to the radial vector field, i.e. <span class="math inline">\({\bf F}(x,y,z)\,=\,x{\bf e_1}+ y{\bf e_2}+
z{\bf e_3}\)</span>.</p>
<p>The surface is bounded by the circle <span class="math inline">\(C\)</span>: <span class="math inline">\(x^2+y^2=1\)</span>, <span class="math inline">\(z=0\)</span>. Parametrising this by <span class="math inline">\(x(t)=\cos t\)</span>, <span class="math inline">\(y(t)=\sin t\)</span>, <span class="math inline">\(z(t)=0\)</span>, <span class="math inline">\(\frac{d{\bf x}\,}{dt}=-\sin
t\,{\bf e_1}+\cos t\,{\bf e_2}\)</span> and so<br />
(a) <span class="math inline">\(\oint_C{\bf F}\cdot d{\bf x}\,=\int_0^{2\pi}\left(\cos t\times(-\sin t)+\sin
t\times\cos t\right)dt =0\)</span>;<br />
(b) <span class="math inline">\((\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})_i=\varepsilon_{ijk}{\textstyle\frac{\partial}{\partial
x_j}}x_k=\varepsilon_{ijk}\delta_{jk}=0\)</span>.<br />
Hence <span class="math inline">\(\oint_C{\bf F}\cdot d{\bf x}\,=0=\int_S(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})\cdot d{\bf A}\)</span> , as required.</p>
<p>Let <span class="math inline">\({\bf F}\,=\, y e^z\, {\bf e_1}+ x e^z\, {\bf e_2}+ xy e^z\, {\bf e_3}\)</span>. Show that the integral of <span class="math inline">\({\bf F}\)</span> around a regular closed curve <span class="math inline">\(C\)</span> that is the boundary of a surface <span class="math inline">\(S\)</span> is zero.</p>
<p>This one is easy! Simply compute <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mathbf{0}\)</span> (where some details of this calculation should be given) and then the result follows by Stokes’ theorem.</p>
<p>By applying Stokes’ theorem to the vector field <span class="math inline">\({\bf G}=|{\bf x}\,|^2 {\bf a}\)</span> (with <span class="math inline">\({\bf a}\)</span> a constant vector), or otherwise, show that <span class="math inline">\(\int_S {\bf x}\,\times d{\bf A}=- \frac{1}{2}\oint_C |{\bf x}\,|^2\, d{\bf x}\,\)</span>, where <span class="math inline">\(S\)</span> is the area bounded by the closed curve <span class="math inline">\(C\)</span>.</p>
<p>Note first that <span class="math inline">\((\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf G})_i=\varepsilon_{ijk}{\textstyle\frac{\partial}{\partial
x_j}}(x_lx_la_k)=\varepsilon_{ijk}2x_l\delta_{jl}a_k =
2\varepsilon_{ijk}x_ja_k\)</span>. Using Stokes’ theorem for <span class="math inline">\({\bf G}\)</span>, <span class="math inline">\(\oint_C{\bf G}\cdot d{\bf x}\,= \int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf G}\cdot d{\bf A}\)</span> , i.e. <span class="math display">\[\oint_C|{\bf x}\,|^2a_kdx_k=\int_S2\varepsilon_{ijk}x_ja_kdA_i
\quad
\mbox{or}
\quad
a_k\oint_C|{\bf x}\,|^2dx_k=-a_k\int_S2\varepsilon_{kji}x_jdA_i\]</span> (note the minus sign from the swap of indices on the second <span class="math inline">\(\varepsilon\)</span>). Since this is true for all (constant) <span class="math inline">\(a_k\)</span>, we deduce <span class="math display">\[\oint_C|{\bf x}\,|^2dx_k=-\int_S2\varepsilon_{kji}x_jdA_i\]</span> from which the result follows immediately.<br />
<em>Aside:</em> Here we are dealing with the line integral of a scalar, which strictly speaking didn’t get defined yet. For curve <span class="math inline">\(C\)</span> parametrised by <span class="math inline">\({\bf x}\,(t)\)</span>, <span class="math inline">\(t_0\le t\le t_1\)</span>, and a scalar field <span class="math inline">\(f({\bf x}\,)\)</span>, it is simply the vector-valued integral <span class="math display">\[\int_C f({\bf x}\,)d{\bf x}\,=\int_{t_0}^{t_1}f({\bf x}\,(t)){\textstyle\frac{d{\bf x}\,(t)}{dt}}\,dt\,.\]</span> (But beware, some authors use the same words for the scalar-valued quantity <span class="math inline">\(\int_C
f({\bf x}\,)\,ds=\int_{t_0}^{t_1}f({\bf x}\,(t))\,|{\textstyle\frac{d{\bf x}\,(t)}{dt}}|\,dt\)</span>.)</p>
<p>Exam question June 2002 (Section B): Evaluate the line integral <span class="math inline">\(I=\int_C {\bf F}\cdot {d{\bf x}\,}\)</span> where <span class="math inline">\({\bf F}({ {\bf x}\,})=2y {\bf e_1}+z {\bf e_2}+3y {\bf e_3}\)</span> and the path <span class="math inline">\(C\)</span> is the intersection of the surface of equation <span class="math inline">\(x^2+y^2+z^2=4z\)</span> and the surface of equation <span class="math inline">\(z=x+2\)</span>, taken in a clockwise direction to an observer at the origin. A picture of the path is required, as well as full justifications of the theoretical results you might use.</p>
<p>The first surface is <span class="math inline">\(x^2+y^2+(z-2)^2=4\)</span>, i.e. a sphere of radius <span class="math inline">\(2\)</span> centred at <span class="math inline">\((0,0,2)\)</span>. The <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates of its intersection <span class="math inline">\(C\)</span> with the plane <span class="math inline">\(z=x+2\)</span> therefore satisfy <span class="math inline">\(2x^2+y^2=4\)</span>. Note, this is an ellipse with semi-major and semi-minor axes <span class="math inline">\(2\)</span> and <span class="math inline">\(\sqrt{2}\)</span>, as it is the projection of the circular curve <span class="math inline">\(C\)</span>, lying in 3 dimensions, onto the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane. A cutaway picture of the intersection is shown below in Figure <a href="#fig:sphereandplane" data-reference-type="ref" data-reference="fig:sphereandplane">11</a></p>
<figure>
<img src="SphereAndPlane.png" id="fig:sphereandplane" style="width:50.0%" alt="" /><figcaption>The in tersection of the sphere <span class="math inline">\(x^2 + y^2 + (z-2)^2 = 4\)</span> with the plane <span class="math inline">\(z=x+2\)</span>.</figcaption>
</figure>
<p>To calculate the line integral directly, we can parametrise <span class="math inline">\(C\)</span> by <span class="math inline">\(x(t)=\sqrt{2}\cos t\)</span>, <span class="math inline">\(y(t)=2\sin t\)</span>, <span class="math inline">\(z(t)=2+\sqrt{2}\cos t\)</span>, so <span class="math inline">\({\textstyle\frac{d{\bf x}\,}{dt}}=-\sqrt{2}\sin t\,{\bf e_1}+2\cos t\,{\bf e_2}-\sqrt{2}\sin t\,{\bf e_3}\)</span>. (Note, clockwise round <span class="math inline">\(C\)</span> when viewed from the origin is the same as anticlockwise when viewed from above, so this parametrisation goes round <span class="math inline">\(C\)</span> in the correct direction.) Thus <span class="math display">\[\begin{aligned}
&amp;\oint_C{\bf F}\cdot d{\bf x}\,\\
&amp;~= \int_0^{2\pi}\!{\bf F}({\bf x}\,(t))\cdot\frac{d{\bf x}\,(t)}{dt}\,dt\\
&amp;~=\int_0^{2\pi}\!
(4\sin t\,{\bf e_1}+(2{+}\sqrt{2}\cos t)\,{\bf e_2}+
6\sin t\,{\bf e_3})\cdot(-\sqrt{2}\sin t\,{\bf e_1}+2\cos
t\,{\bf e_2}-\sqrt{2}\sin t\,{\bf e_3})\,dt\\
&amp;~=\int_0^{2\pi}\!
(-4\sqrt{2}\sin^2t + 4\cos t +2\sqrt{2}\cos^2t
-6\sqrt{2}\sin^2t)\,dt\\
&amp;~= -4\sqrt{2}\,\pi+2\sqrt{2}\,\pi-6\sqrt{2}\,\pi = -8\sqrt{2}\,\pi\,,\end{aligned}\]</span> using <span class="math inline">\(\int_0^{2\pi}\sin^2t\,dt =
\int_0^{2\pi}\cos^2t\,dt =\pi\)</span> and <span class="math inline">\(\int_0^{2\pi}\cos t\,dt =0\)</span> to get to the last line.</p>
<p>Alternatively, we can use Stokes. The simplest surface spanning <span class="math inline">\(C\)</span> is the disk in the plane <span class="math inline">\(z=x+2\)</span>, which we’ll call <span class="math inline">\(D\)</span>. This is a level set of <span class="math inline">\(f=z-x\)</span>, so <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=(-1,0,1)\)</span> while <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=(2,0,-2)\)</span>. Putting the pieces together, and letting <span class="math inline">\(E\)</span> be the elliptical projection of <span class="math inline">\(D\)</span> into the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane, <span class="math display">\[\begin{aligned}
\oint_C{\bf F}\cdot d{\bf x}\,
&amp;= \int_D\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}\\
&amp;= \iint_E\frac{(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})\cdot\underline{\nabla\mkern-2mu}\mkern 3mu f}{{\bf e_3}\cdot\underline{\nabla\mkern-2mu}\mkern 3mu 
f}\,dxdy \\
&amp;= \iint_E(-4)\,dxdy\,=\,-4\times\mbox{(area~of~$E$)} \,=\,
-8\sqrt{2}\,\pi\,,\end{aligned}\]</span> since the area of an ellipse with semi-major and semi-minor axes <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> is equal to <span class="math inline">\(\pi ab\)</span>.</p>
<p>Exam question 2012 (Section B) Q9(a)(ii): Use Stokes’ theorem to calculate the line integral <span class="math inline">\(\oint_Cydx+zdy+xdz\)</span>, where C is the intersection of the surfaces <span class="math inline">\(x^2 + y^2 + z^2 = a^2\)</span> and <span class="math inline">\(x + y + z = 0\)</span> and is orientated anticlockwise when viewed from above.<br />
<em>Suggestion:</em> Instead of one of the two standard methods for surface integrals, just use <span class="math inline">\(d\mathbf{A}=\frac{\underline{\nabla\mkern-2mu}\mkern 3mu f}{|\underline{\nabla\mkern-2mu}\mkern 3mu f|}dA\)</span> and think about how the surfaces intersect.</p>
<p>By Stokes, with <span class="math inline">\({\bf F}=(y,z,x)\)</span> and <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=(-1,-1,-1)\)</span>, <span class="math display">\[\oint_Cydx+zdy+xdz = \int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}\]</span> Pick <span class="math inline">\(S\)</span> to lie in the plane <span class="math inline">\(f=x+y+z=0\)</span>; then <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f/|\underline{\nabla\mkern-2mu}\mkern 3mu 
f|=(1/\sqrt{3},1/\sqrt{3},1/\sqrt{3})\)</span> and hence <span class="math display">\[\int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}=
\int_S(-\sqrt{3})\,dA=-\sqrt{3}\,\pi a^2\]</span> since the plane cuts through the centre of the sphere, so <span class="math inline">\(C\)</span> is a great circle with radius <span class="math inline">\(a\)</span>, enclosing a planar area <span class="math inline">\(\pi a^2\)</span>.</p>
<p>Consider the vector field <span class="math inline">\({\bf F}\;=\;y \ {\bf e_1}\,+\, (z-x)\ {\bf e_2}\,+\,(x^3+y) \ {\bf e_3}\)</span>. Evaluate <span class="math inline">\(\int_S\, (\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})\cdot {\bf dA}\,\)</span> explicitly, where<br />
</p>
<ul>
<li><p><span class="math inline">\(S\)</span> is the disk <span class="math inline">\(x^2 + y^2 \le 4\)</span>, <span class="math inline">\(z=1\)</span>,</p></li>
<li><p><span class="math inline">\(S\)</span> is the surface of a paraboloid <span class="math inline">\(x^2 + y^2 = 5 - z\)</span> above the plane <span class="math inline">\(z=1\)</span>.</p></li>
</ul>
<p>Verify that each of these agrees with Stokes’ theorem by considering the integral of <span class="math inline">\({\bf F}\)</span> around each bounding contour.</p>
<p>Calculating, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=-3x^2\,{\bf e_2}-2\,{\bf e_3}\)</span>. Then<br />
</p>
<ul>
<li><p>On the given disk, <span class="math inline">\(d{\bf A}={\bf e_3}\,dxdy\)</span> so <span class="math display">\[\int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}=\iint_{x^2+y^2\le 4}(-2)\,dxdy=-8\pi\]</span> as the disk has radius <span class="math inline">\(2\)</span> and hence area <span class="math inline">\(4\pi\)</span>.<br />
Now consider the line integral round the boundary <span class="math inline">\(C\)</span> of the disk, parametrising it as <span class="math inline">\({\bf x}\,(t)=2\cos t\,{\bf e_1}+2\sin t\,{\bf e_2}+{\bf e_3}\)</span>, <span class="math inline">\(0\le t\le 2\pi\)</span>. Then <span class="math inline">\(\frac{d{\bf x}\,}{dt}=-2\sin t\,{\bf e_1}+2\cos t\,{\bf e_2}\)</span>, and <span class="math display">\[\oint_C{\bf F}\cdot d{\bf x}\,=\int_0^{2\pi}\left(
-4\sin^2t+2(1-2\cos t)\cos t
\right)dt=-8\pi\,.\]</span></p></li>
<li><p>On the paraboloid, <span class="math inline">\(f\equiv x^2+y^2+z=5\)</span>, so using method 2 and describing the surface <span class="math inline">\(S\)</span> as a level set of <span class="math inline">\(f\)</span> with a projection <span class="math inline">\(A\)</span> onto the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane, and computing <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu f=2x\,{\bf e_1}+2y\,{\bf e_2}+{\bf e_3}\)</span>, <span class="math display">\[\begin{aligned}
\int_S\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}\cdot d{\bf A}&amp;=
\iint_A\frac{(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})\cdot\underline{\nabla\mkern-2mu}\mkern 3mu f}{{\bf e_3}\cdot\underline{\nabla\mkern-2mu}\mkern 3mu 
f}\,dxdy\\[2pt]
&amp;=
\iint_A
\bigl(-3x^2\,{\bf e_2}-2\,{\bf e_3}\bigr)\cdot\bigl(2x\,{\bf e_1}+2y\,{\bf e_2}+{\bf e_3}\bigr)\,dxdy\\[2pt]
&amp;=
\iint_A
\bigl(-6x^2y-2\bigr)\,dxdy\,.\end{aligned}\]</span> Now <span class="math inline">\(A\)</span> is a disk of radius <span class="math inline">\(2\)</span> centred on the origin (see the plot below: on <span class="math inline">\(C\)</span>, the boundary of <span class="math inline">\(S\)</span>, we have <span class="math inline">\(x^2+y^2=5-z\)</span> and <span class="math inline">\(z=1\)</span>, implying <span class="math inline">\(x^2+y^2=4\)</span>), giving us <span class="math display">\[\iint_{x^2+y^2\le 4} \bigl(-6x^2y-2\bigr)\,dxdy 
=\iint_{x^2+y^2\le 4} \bigl(-2\bigr)\,dxdy =-8\pi\]</span> (the integral of <span class="math inline">\(-6x^2y\)</span> vanishing by symmetry). Alternatively we can switch to polar coordinates and compute <span class="math display">\[\begin{aligned}
\int_0^{2\pi}\!d\theta\!\int_0^2\!rdr\left(-6r^3\cos^2\theta\sin\theta-2\right)
&amp; = \int_0^2\!rdr\left[2r^3\cos^3\theta-2\theta\right]_0^{2\pi} \\
&amp; = \int_0^2\!rdr\left(-4\pi\right) 
 = -4\pi\left[{\textstyle\frac{1}{2}}r^2\right]_0^2 =-8\pi\,.\end{aligned}\]</span> Note that this surface has the same boundary as the disk in part (i), so the line integral calculation is the same as before.<br />
</p>
<figure>
<img src="parabaloid3.png" id="fig:label" style="width:50.0%" alt="" /><figcaption>The intersection of the parabaloid <span class="math inline">\(x^2 + y^2 = 5 - z\)</span> and the plane <span class="math inline">\(z=1\)</span>.</figcaption>
</figure></li>
</ul>
<p>Evaluate the line integral <span class="math display">\[\int_{P_1}^{P_2}\; \,yz\,dx +\, xz\,dy+\, (xy + z^2)\,dz\]</span> from <span class="math inline">\(P_1\)</span> with co-ordinates (1,0,0) to <span class="math inline">\(P_2\)</span> at (1,0,1) explicitly,<br />
</p>
<ul>
<li><p>along a straight line in the <span class="math inline">\(z\)</span>–direction, and</p></li>
<li><p>along a helical path parametrised by <span class="math inline">\({\bf x}\,(t)= {{\bf e_1}}\,\cos t+ {{\bf e_2}}\,\sin t+{{\bf e_3}}\,t/{2\pi}\,,\)</span> where <span class="math inline">\(t\)</span> varies along the path.</p></li>
</ul>
<p>Compare these two results – does this suggest that there might be a general formula for the integral from <span class="math inline">\(P_1 =(1,0,0)\)</span> to any point <span class="math inline">\(P\)</span> with coordinates <span class="math inline">\((x,y,z)\)</span>? Check your answer when <span class="math inline">\(P = P_2\)</span>.</p>
<p>Call the straight path <span class="math inline">\(C_1\)</span>. On this path <span class="math inline">\(y=0\)</span> and <span class="math inline">\(x=1\)</span>, so <span class="math inline">\(dx=dy=0\)</span> and <span class="math display">\[\int_{C_1}(yz\,dx+xz\,dy+(xy+z^2)\,dz)=\int_0^1z^2\,dz={\textstyle\frac{1}{3}}\,.\]</span> Call the helical path <span class="math inline">\(C_2\)</span>. On <span class="math inline">\(C_2\)</span> we have <span class="math inline">\(x=\cos t\)</span>, <span class="math inline">\(y=\sin t\)</span> so <span class="math inline">\(dx=-\sin t\,dt\)</span> and <span class="math inline">\(dy=\cos t\,dt\)</span> , while <span class="math inline">\(z={\textstyle\frac{t}{2\pi}}\)</span> so <span class="math inline">\(dz={\textstyle\frac{1}{2\pi}}\,dt\)</span> . Hence <span class="math display">\[\begin{aligned}
\int_{C_2}(yz\,dx+xz\,dy+(xy+z^2)\,dz)
&amp;={\textstyle\frac{1}{2\pi}}\!\int_0^{2\pi}\!\left(
-t\sin^2 t +t\cos^2 t + \cos t\sin t+{\textstyle\frac{t^2}{4\pi^2}}
\right)dt\\
&amp;={\textstyle\frac{1}{2\pi}}\!\int_0^{2\pi}\!\left(
t\cos 2t + {\textstyle\frac{1}{2}}\sin 2t+{\textstyle\frac{t^2}{4\pi^2}}
\right)dt\\
&amp;={\textstyle\frac{1}{2\pi}}\!\int_0^{2\pi}\!
{\textstyle\frac{t^2}{4\pi^2}}\,dt
={\textstyle\frac{1}{8\pi^3}}\left[
{\textstyle\frac{1}{3}}t^3 \right]_0^{2\pi}
= {\textstyle\frac{1}{3}}\,.\end{aligned}\]</span> (If you are averse to integrating by parts to get from the second line to the third, note that <span class="math inline">\(\int_0^{2\pi}t\cos 2t\,dt =\int_0^{2\pi}(2\pi-t)\cos 2t\,dt\)</span> by symmetry, so both must be equal to half their sum, which is clearly zero.)</p>
<p>These two results are the same! This suggests (but does not prove) that we might be computing the line integral of a conservative field. To check, compute <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mbox{(compute)}=\mathbf{0}\)</span>. This means we must have <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> for some scalar field <span class="math inline">\(\phi\)</span>. To find <span class="math inline">\(\phi\)</span>, set <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> and work component by component: <span class="math display">\[F_1=\frac{\partial\phi}{\partial x} ~\Rightarrow~
yz=\frac{\partial\phi}{\partial x} ~\Rightarrow~
\phi(x,y,z)=xyz+f(y,z)\,.\]</span> Then <span class="math display">\[F_2=\frac{\partial\phi}{\partial y} ~\Rightarrow~
xz=xz+\frac{\partial f}{\partial y} ~\Rightarrow~
\frac{\partial f}{\partial y}=0 ~\Rightarrow~
f(y,z)=g(z)\,.\]</span> Finally <span class="math display">\[F_3=\frac{\partial\phi}{\partial z} ~\Rightarrow~
xy+z^2=xy+\frac{\partial g}{\partial z} ~\Rightarrow~
\frac{\partial g}{\partial z}=z^2 ~\Rightarrow~
g(z)={\textstyle\frac{1}{3}}z^3+c\,.\]</span> Thus <span class="math inline">\(\phi(x,y,z)=xyz+{\textstyle\frac{1}{3}}z^3+c\)</span>, and the line integral of <span class="math inline">\({\bf F}\)</span> from <span class="math inline">\((1,0,0)\)</span> to any point <span class="math inline">\((x,y,z)\)</span> is equal to <span class="math inline">\(\phi(x,y,z)-\phi(1,0,0)=xyz+{\textstyle\frac{1}{3}}z^3\)</span> . If <span class="math inline">\((x,y,z)=P_2=(1,0,1)\)</span> this is equal to <span class="math inline">\({\textstyle\frac{1}{3}}\)</span>, agreeing with the previous results.</p>
<p>State a necessary and sufficient condition for a vector field <span class="math inline">\({\bf F}\)</span> to be expressible in the form <span class="math inline">\({\bf F}\;=\;  \underline{\nabla\mkern-2mu}\mkern 3mu \, \phi\)</span> in some simply-connected region. The scalar field <span class="math inline">\(\phi\)</span> is called a <em>scalar potential</em>, though sometimes the opposite sign is used.</p>
<p>Determine whether the following vector fields are expressible in this form</p>
<p>(i)<span class="math inline">\(\quad ({\bf a} \cdot { {\bf x}\,}\,) \,{ {\bf x}\,} \,\)</span>, (ii)<span class="math inline">\(\quad ({\bf a} \cdot { {\bf x}\,}\,) \,{\bf a}\,\)</span>, (iii)<span class="math inline">\(\quad ({\bf a} \cdot { {\bf a}}\,) \,{\bf x}\,\,\)</span>, (iv)<span class="math inline">\(\quad {\bf a} \times{ {\bf x}\,}\,\)</span>, (v)<span class="math inline">\(\quad {\bf a} \times\left( {\bf a} \times{ {\bf x}\,}\, \right)\)</span> ,</p>
<p>and find the vector fields, <span class="math inline">\({\bf F}\)</span>, for which the corresponding potentials are</p>
<p>(a)<span class="math inline">\(\quad  {\textstyle\frac{1}{2}}({\bf a} \cdot { {\bf x}\,}\,)^2\,\)</span>, (b)<span class="math inline">\(\quad \frac{1}{2}a^2 |{\bf x}\,|^2  -\frac{1}{2}({\bf a} \cdot {
{\bf x}\,}\,)^2\)</span>.</p>
<p>Here <span class="math inline">\({\bf a}\)</span> is a constant non-zero vector, and <span class="math inline">\(a^2=|{\bf a}|^2\)</span>.</p>
<p>The necessary and sufficient condition is <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mathbf{0}\)</span>.</p>
<ul>
<li><p><span class="math inline">\({\bf F}=({\bf a}\cdot{\bf x}\,){\bf x}\,\)</span> : <span class="math display">\[\!\!\!
(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})_i
=\varepsilon_{ijk}\frac{\partial}{\partial x_j} (a_lx_lx_k)
=\varepsilon_{ijk}a_l(\delta_{jl}x_k+x_l\delta_{jk})
=\varepsilon_{ijk}a_jx_k=({\bf a}\times{\bf x}\,)_i\neq 0\]</span> so <span class="math inline">\({\bf F}\neq\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span>.</p></li>
<li><p><span class="math inline">\({\bf F}=({\bf a}\cdot{\bf x}\,){\bf a}\)</span> : <span class="math display">\[\!\!\!
(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})_i
=\varepsilon_{ijk}\frac{\partial}{\partial x_j} (a_lx_la_k)
=\varepsilon_{ijk}a_l\delta_{jl}a_k
=\varepsilon_{ijk}a_ja_k=0\]</span> so <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> for some <span class="math inline">\(\phi\)</span>.</p></li>
<li><p><span class="math inline">\({\bf F}=({\bf a}\cdot{\bf a}){\bf x}\,\)</span> : <span class="math display">\[\!\!\!
(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})_i
=\varepsilon_{ijk}\frac{\partial}{\partial x_j} (a_la_lx_k)
=\varepsilon_{ijk}a_la_l\delta_{jk}
=\varepsilon_{ijj}a_la_l=0\]</span> so <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> for some <span class="math inline">\(\phi\)</span>.</p></li>
<li><p><span class="math inline">\({\bf F}={\bf a}\times{\bf x}\,\)</span> : <span class="math display">\[\!\!\!
(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F})_i
=\varepsilon_{ijk}\frac{\partial}{\partial x_j}
(\varepsilon_{klm}a_lx_m)
=\varepsilon_{ijk}\varepsilon_{klm}a_l\delta_{jm}
=(\delta_{il}\delta_{jm}- \delta_{im}\delta_{jl}) a_l\delta_{jm} 
=2a_i\neq 0\]</span> so <span class="math inline">\({\bf F}\neq\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span>.</p></li>
<li><p><span class="math inline">\({\bf F}={\bf a}\times({\bf a}\times{\bf x}\,)\)</span> : <span class="math display">\[\begin{aligned}
({\bf a}\times({\bf a}\times{\bf x}\,))_i
&amp;=\varepsilon_{ijk}a_j\varepsilon_{klm}a_lx_m
=(\delta_{il}\delta_{jm}- \delta_{im}\delta_{jl})a_ja_lx_m
=a_ja_ix_j-a_ja_jx_i\\[2pt]
&amp;=(({\bf a}\cdot{\bf x}\,){\bf a}-({\bf a}\cdot{\bf a}){\bf x}\,)_i\end{aligned}\]</span> so <span class="math inline">\({\bf a}\times({\bf a}\times{\bf x}\,)=({\bf a}\cdot{\bf x}\,){\bf a}-({\bf a}\cdot{\bf a}){\bf x}\,\)</span>, and <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mathbf{0}\)</span> by (ii) and (iii); hence <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> for some <span class="math inline">\(\phi\)</span>.</p></li>
</ul>
<p>For the second part:</p>
<ul>
<li><p><span class="math inline">\(\phi={\textstyle\frac{1}{2}}({\bf a}\cdot{\bf x}\,)^2={\textstyle\frac{1}{2}}(a_jx_ja_kx_k)\)</span> so <span class="math display">\[F_i={\textstyle\frac{1}{2}}a_ja_k\frac{\partial}{\partial x_i}(x_jx_k)
={\textstyle\frac{1}{2}}a_ja_k(\delta_{ij}x_k+x_j\delta_{ik})
={\textstyle\frac{1}{2}}(a_ia_kx_k +a_ja_ix_j) = (({\bf a}\cdot{\bf x}\,){\bf a})_i\,.\]</span> Hence <span class="math inline">\({\bf F}=({\bf a}\cdot{\bf x}\,){\bf a}\)</span> .</p></li>
<li><p><span class="math inline">\(\phi=\frac{1}{2}a^2 |{\bf x}\,|^2  -\frac{1}{2}({\bf a} \cdot {
{\bf x}\,}\,)^2\)</span> : we have <span class="math inline">\((\underline{\nabla\mkern-2mu}\mkern 3mu ({\textstyle\frac{1}{2}}a^2|{\bf x}\,|^2))_i = {\textstyle\frac{1}{2}}a^2\frac{\partial}{\partial
x_i}(x_jx_j)=a^2x_i\)</span> and combining this with the result from part (a), <span class="math inline">\({\bf F}=a^2{\bf x}\,-({\bf a}\cdot{\bf x}\,){\bf a}\)</span> .</p></li>
</ul>
<p>Exam question June 2002 (Section B):<br />
</p>
<ul>
<li><p>State the conditions for the line integral <span class="math inline">\(\int_c {\bf F}
\cdot {d{\bf x}\,}\)</span> from <span class="math inline">\({ {\bf x}\,}_0\)</span> to <span class="math inline">\({ {\bf x}\,}_1\)</span> to be independent of the path connecting these two points.</p></li>
<li><p>Determine the value of the line integral <span class="math inline">\(\int_c {\bf F}\cdot
{d{\bf x}\,}\)</span> where <span class="math display">\[{\bf F}= (e^{-y} - ze^{-x})\,{\bf e_1}+ (e^{-z}- xe^{-y})\,{\bf e_2}+(e^{-x}-
ye^{-z})\,{\bf e_3},\]</span> and <span class="math inline">\(C\)</span> is the path <span class="math display">\[x= \frac{1}{\ln 2} \ln (1+p),\quad
y={\rm sin} \frac{\pi p}{2},\quad
z=\frac{1-e^p}{1-e}\,,\]</span> with the parameter <span class="math inline">\(p\)</span> in the range <span class="math inline">\(0 \le p \le 1\)</span>, from <span class="math inline">\((0,0,0)\)</span> to <span class="math inline">\((1,1,1)\)</span>.</p></li>
</ul>
<p><br />
</p>
<ul>
<li><p>The necessary and sufficient condition for the integral not to depend of the path is that <span class="math inline">\({\bf F}=\underline{\nabla\mkern-2mu}\mkern 3mu \phi\)</span> for some <span class="math inline">\(\phi\)</span>, or, equivalently, that <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mathbf{0}\)</span> (assuming that the region under consideration is simply connected).</p></li>
<li><p>We have <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \times{\bf F}=\mbox{(calculate)}=\mathbf{0}\)</span>. Hence we can swap the given <span class="math inline">\(C\)</span> for any other path joining <span class="math inline">\((0,0,0)\)</span> to <span class="math inline">\((1,1,1)\)</span> without changing the answer. Simplest is to take the straight line <span class="math inline">\({\bf x}\,(t)=(t,t,t)\)</span> with <span class="math inline">\(0\le t\le 1\)</span> , so <span class="math inline">\(\frac{d{\bf x}\,}{dt}=(1,1,1)\)</span> . Thus <span class="math display">\[I=3\int_0^1\left(e^{-t}-te^{-t}\right)dt
=3\int_0^1\frac{d}{dt}\left(te^{-t}\right)dt
=3\left[te^{-t}\right]_0^1=\frac{3}{e}\,.\]</span> Alternatively, we can figure out <span class="math inline">\(\phi(x,y,z)\)</span>. We need <span class="math display">\[\frac{\partial\phi}{\partial x}=F_1=e^{-y}-ze^{-x}
\Rightarrow \phi(x,y,z)=xe^{-y}+ze^{-x}+f(y,z)\]</span> and then <span class="math display">\[\frac{\partial\phi}{\partial y}
= -xe^{-y}+\frac{\partial f}{\partial y}
=F_2=e^{-z}-xe^{-y}
\Rightarrow 
f(y,z)=ye^{-z}+g(z)\]</span> and finally <span class="math display">\[\frac{\partial\phi}{\partial z}
= e^{-x}-ye^{-z}+\frac{\partial g}{\partial z}
=F_3=e^{-x}-ye^{-x}
\Rightarrow 
g(z)=\mbox{const}=A\,,~\mbox{say}.\]</span> Hence <span class="math inline">\(\phi(x,y,z)=
% xe^{-y}+ze^{-x}+f(y,z)+g(z)=
xe^{-y}+ze^{-x}+ye^{-z}+A\)</span> and <span class="math display">\[\int_C{\bf F}\cdot d{\bf x}\,=\phi(1,1,1)-\phi(0,0,0)=
(e^{-1}{+}e^{-1}{+}e^{-1}{+}A) - (0{+}A)=\frac{3}{e}\]</span> as before.</p></li>
</ul>
<p>If <span class="math inline">\({\bf F}= x\,{\bf e_1}+ y\,{\bf e_2}\)</span>, calculate <span class="math inline">\(\int_S{\bf F}\cdot {\bf dA}\,\)</span>, where <span class="math inline">\(S\)</span> is the part of the surface <span class="math inline">\(z= 9 - x^2 - y^2\)</span> that is above the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane, by applying the divergence theorem to the volume bounded by the surface and the piece it cuts out of the <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> plane.<br />
<span><em>Hint:</em></span> what is <span class="math inline">\({\bf F}\cdot {\bf dA}\,\)</span> <span><em>on</em></span> the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane?</p>
<p>The normal vector to the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane is <span class="math inline">\({\bf e_3}\)</span>, so <span class="math inline">\({\bf F}\cdot d{\bf A}=0\)</span> there. Hence the surface integral side of the divergence theorem, when applied to the volume <span class="math inline">\(V\)</span> mentioned in the question, comes only from the integral over the part <span class="math inline">\(S\)</span> of the paraboloid above the <span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span> plane, which is exactly what the question asks us to calculate. Hence the desired surface integral is equal to the volume integral of <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf F}= 2\)</span>. Thus <span class="math display">\[\begin{aligned}
\int_S{\bf F}\cdot d{\bf A}
=\int_{\partial V}{\bf F}\cdot d{\bf A}
&amp;=\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf F}\,dV
\quad\mbox{by~the~divergence~theorem} \\
&amp;= 2\int_0^9 \Bigl(\iint_{x^2+y^2\le 9-z}\!\!dxdy\Bigr)\,dz\\
&amp;= 2\int_0^9 \pi(9-z)\, dz\\
&amp;= 2\pi\left[9z -{\textstyle\frac{1}{2}}z^2\right]_0^9 = 81\pi\,.\end{aligned}\]</span></p>
<p>Evaluate each of the integrals below as <span><strong>either</strong></span> a volume integral <span><strong>or</strong></span> a surface integral, whichever is easier:</p>
<ul>
<li><p><span class="math inline">\(\int_S {\bf x}\,\cdot{\bf dA}\,\)</span> over the whole surface of a cylinder bounded by <span class="math inline">\(x^2 + y^2 = R^2\)</span>, <span class="math inline">\(z=0\)</span> and <span class="math inline">\(z=L\)</span>. Note that <span class="math inline">\({\bf x}\,\)</span> means <span class="math inline">\(x\,{\bf e_1}+ y\,{\bf e_2}+ z\,{\bf e_3}\)</span>.</p></li>
<li><p><span class="math inline">\(\int_S{\bf F}\cdot{\bf dA}\,\)</span>, where <span class="math inline">\({\bf F}= x \cos^2 y\,{\bf e_1}+xz\,{\bf e_2}+z \sin^2 y\,{\bf e_3}\)</span> , over the surface of a sphere with centre at the origin and radius <span class="math inline">\(\pi\)</span>.</p></li>
<li><p><span class="math inline">\(\int_V \underline{\nabla\mkern-2mu}\mkern 3mu \cdot {\bf F}\,dV\)</span>, where <span class="math inline">\({\bf F}=\sqrt{x^2{+}y^2} (x\,{\bf e_1}+ y\,{\bf e_2})\)</span>, over the three-dimensional volume <span class="math inline">\(x^2 + y^2 \le R^2\)</span>, <span class="math inline">\(0 \le z \le L\)</span>.</p></li>
</ul>
<ul>
<li><p><span class="math inline">\(\int_S{\bf x}\,\cdot d{\bf A}
=\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf x}\,\,dV=\int_V3\,dV=3\times\mbox{(volume~of~$V$)}=3\pi
R^2L\)</span> .</p></li>
<li><p>Note, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf F}=\cos^2y+\sin^2y=1\)</span>, so <span class="math inline">\(\int_S{\bf F}\cdot{\bf dA}\,= \int_VdV={\textstyle\frac{4}{3}}\pi^4\)</span>.</p></li>
<li><p>This time, convert to a surface integral. Since <span class="math inline">\({\bf F}\)</span> has no <span class="math inline">\(z\)</span> component, the ends of the cylinder don’t contribute. Furthermore, on the curved surface <span class="math inline">\(S\)</span> of the cylinder, the unit normal is <span class="math inline">\(\widehat{{\bf n}}=(x{\bf e_1}+y{\bf e_2})/\sqrt{x^2+y^2}\)</span> (and is parallel to <span class="math inline">\({\bf F}\)</span>). Hence on this surface <span class="math inline">\({\bf F}\cdot d{\bf A}=x^2+y^2=R^2\)</span> and <span class="math inline">\(\int_V \underline{\nabla\mkern-2mu}\mkern 3mu \cdot {\bf F}\,dV 
=\int_{\partial V}{\bf F}\cdot d{\bf A}
=\int_{S}{\bf F}\cdot d{\bf A}= R^2\int_S dA=R^2\times\mbox{(area~of~$S$)}
=2\pi R^3L\)</span> .</p></li>
</ul>
<p>Suppose the vector field <span class="math inline">\({\bf F}\)</span> is everywhere tangent to the closed surface <span class="math inline">\(S\)</span>, which encloses the volume <span class="math inline">\(V\)</span>. Prove that <span class="math display">\[\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot {\bf F}\, dV=0\,.\]</span></p>
<p>By the divergence theorem, <span class="math inline">\(\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot {\bf F}\, dV=\int_S{\bf F}\cdot d{\bf A}
=\int_S{\bf F}\cdot\widehat{{\bf n}}\,dA=0\)</span>, since to be tangent to <span class="math inline">\(S\)</span>, <span class="math inline">\({\bf F}\)</span> must be orthogonal to <span class="math inline">\(\widehat{{\bf n}}\)</span>, the unit normal to <span class="math inline">\(S\)</span>.</p>
<p>Exam question June 2003 (Section A): Evaluate <span class="math inline">\(\int_S \,{\bf B}({ {\bf x}\,}) \cdot {\bf dA}\,\)</span>, where <span class="math display">\[{\bf B}({\bf x}\,)=(8x+\alpha \, y-z)\,{\bf e_1}+
(x+2y+\beta\,z)\,{\bf e_2}+(\gamma \,x+y-z)\,{\bf e_3}\]</span> and <span class="math inline">\(S\)</span> is the surface of the sphere having centre at <span class="math inline">\((\alpha, \beta,
\gamma)\)</span> and radius <span class="math inline">\(\gamma\)</span>, where <span class="math inline">\(\alpha, \beta \in \mathbb{R}\)</span>, and <span class="math inline">\(\gamma\)</span> is an arbitrary positive real number.</p>
<p>Calculating, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf B}=8+2-1=9\)</span>, so by the divergence theorem <span class="math display">\[\int_S{\bf B}\cdot d{\bf A}=\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf B}\,dV=9\int_VdV
= 9\times\mbox{(volume~of~$V$)}=12\pi\gamma^3.\]</span></p>
<p>Let <span class="math inline">\(A\)</span> be the interior of the circle of unit radius centred on the origin. Evaluate <span class="math inline">\(\iint_A \, \exp(x^2 + y^2)\, dx\, dy\)</span> by making a change of variables to polar co-ordinates.</p>
<p><span class="math display">\[\begin{aligned}
\iint_A \, \exp(x^2 + y^2)\, dx\, dy
&amp;=\int_0^{2\pi}(\int_0^1e^{r^2}r\,dr)\,d\theta
=\int_0^{2\pi}\left[{\textstyle\frac{1}{2}}e^{r^2}\right]_0^1 d\theta\\
&amp;=\int_0^{2\pi}\left({\textstyle\frac{1}{2}}(e-1)\right) d\theta
=(e-1)\pi\,.\end{aligned}\]</span> (Or, do the <span class="math inline">\(\theta\)</span> integral first.)</p>
<p>Let <span class="math inline">\(A\)</span> be the region <span class="math inline">\(0 \le y \le x\)</span> and <span class="math inline">\(0 \le x \le 1\)</span>. Evaluate <span class="math inline">\(\int_A \, ( x + y)\,dx\, dy\)</span> by making the change of variables <span class="math inline">\(x= u + v\)</span>, <span class="math inline">\(y = u - v\)</span>. Check your answer by evaluating the integral directly.</p>
<p>First find the Jacobian: <span class="math display">\[J({\underline{U}})=
\begin{vmatrix}
\,\frac{\partial x}{\partial u} &amp;
\frac{\partial x}{\partial v}\, \\[3pt]
\,\frac{\partial y}{\partial u} &amp;
\frac{\partial y}{\partial v}\,
\end{vmatrix}
=\begin{vmatrix}
\,1 &amp; ~1\,\\[3pt]
\,1 &amp; -1\,
\end{vmatrix}
=-2\,.\]</span> Then <span class="math display">\[I
=\int_A(x+y)\,dxdy
=\int_U 2u\,|J|\,dudv
=4\int_U u\,dudv\]</span> where <span class="math inline">\(U\)</span> is the area of integration in the new coordinates, which is bounded by a triangle in the <span class="math inline">\(u\)</span>,<span class="math inline">\(v\)</span> plane with edges <span class="math inline">\(y=x\Rightarrow v=0\)</span>, <span class="math inline">\(x=1\Rightarrow u+v=1\)</span>, <span class="math inline">\(y=0\Rightarrow u=v\)</span>. This leads to <span class="math display">\[I
=4\int_0^{1/2}\!\left(\int_v^{1-v}u\,du\right)dv
=4\int_0^{1/2}\!\left[{\textstyle\frac{1}{2}}u^2\right]_v^{1-v}dv
=4\int_0^{1/2}\!\left({\textstyle\frac{1}{2}}-v\right)dv
={\textstyle\frac{1}{2}}\,.\]</span> Alternatively the integral can be done directly: <span class="math display">\[I=\int_0^1\!\!\int_y^1\!(x+y)\,dxdy
=\int_0^1\!\!\left[{\textstyle\frac{1}{2}}x^2{+}xy\right]_y^1dy
=\int_0^1\!({\textstyle\frac{1}{2}}+y-{\textstyle\frac{1}{2}}y^2-y^2)\,dy
={\textstyle\frac{1}{2}}+{\textstyle\frac{1}{2}}-{\textstyle\frac{1}{6}}-{\textstyle\frac{1}{3}}
={\textstyle\frac{1}{2}}\]</span> which agrees!</p>
<p>The expressions below are called Green’s first and second identities. Derive them from the divergence theorem with <span class="math inline">\({\bf F}= f\underline{\nabla\mkern-2mu}\mkern 3mu g\)</span> or <span class="math inline">\(g\underline{\nabla\mkern-2mu}\mkern 3mu f\)</span> as appropriate, where <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span> are differentiable functions: <span class="math display">\[\begin{aligned}
\int_V\,( f \underline{\nabla\mkern-2mu}\mkern 3mu ^2 g+\underline{\nabla\mkern-2mu}\mkern 3mu f \cdot \underline{\nabla\mkern-2mu}\mkern 3mu g)\, dV&amp;=
\int_S\,
(f \underline{\nabla\mkern-2mu}\mkern 3mu g)\cdot {\bf dA}\,\,, \\[2pt]
\int_V\,( f \underline{\nabla\mkern-2mu}\mkern 3mu ^2 g-g \underline{\nabla\mkern-2mu}\mkern 3mu ^2 f )\, dV &amp;= \int_S\,
(f \underline{\nabla\mkern-2mu}\mkern 3mu g- g \underline{\nabla\mkern-2mu}\mkern 3mu f) \cdot {\bf dA}\,\,. \end{aligned}\]</span> where the volume <span class="math inline">\(V\)</span> is that enclosed by the closed surface <span class="math inline">\(S\)</span>.</p>
<p>First apply the divergence theorem to <span class="math inline">\(f\underline{\nabla\mkern-2mu}\mkern 3mu g\)</span> as follows: <span class="math display">\[\begin{aligned}
\int_S(f\underline{\nabla\mkern-2mu}\mkern 3mu g)\cdot d{\bf A}
&amp;=\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot(f\underline{\nabla\mkern-2mu}\mkern 3mu g)\,dV \\
&amp;=\int_V\left( \underline{\nabla\mkern-2mu}\mkern 3mu f\cdot\underline{\nabla\mkern-2mu}\mkern 3mu g + f\underline{\nabla\mkern-2mu}\mkern 3mu \cdot\underline{\nabla\mkern-2mu}\mkern 3mu g \right)dV \\
&amp;=\int_V\left( \underline{\nabla\mkern-2mu}\mkern 3mu f\cdot\underline{\nabla\mkern-2mu}\mkern 3mu g + f\underline{\nabla\mkern-2mu}\mkern 3mu ^2g
\right)dV\quad\mbox{as~required.} \end{aligned}\]</span> Swapping <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>, we also have <span class="math display">\[\int_S(g\underline{\nabla\mkern-2mu}\mkern 3mu f)\cdot d{\bf A}
=\int_V\left( \underline{\nabla\mkern-2mu}\mkern 3mu g\cdot\underline{\nabla\mkern-2mu}\mkern 3mu f + g\underline{\nabla\mkern-2mu}\mkern 3mu ^2f
\right)dV,\qquad\qquad\quad~\,\]</span> and subtracting this from the first result gives us the second identity.</p>
<p>A gas holder has the form of a vertical cylinder of radius <span class="math inline">\(R\)</span> and height <span class="math inline">\(H\)</span> with hemispherical top also of radius <span class="math inline">\(R\)</span>. The density, <span class="math inline">\(\rho\)</span>, (i.e. the mass per unit volume) of the gas inside varies with height <span class="math inline">\(z\)</span> above the base according to the relation <span class="math inline">\(\rho = C \exp(-z)\)</span>, where <span class="math inline">\(C\)</span> is a constant. Calculate the total mass of gas in the holder, taking care to define any coordinate system used and the range of the corresponding variables.<br />
Use this result to find the integral of the field <span class="math display">\[{\bf F}\,=\,B\ z\ e^{-y}\,{\bf e_1}\,+\,
C\ y\ e^{-z}\,{\bf e_2}\]</span> over the curved surface of the gas holder.<br />
<span><em>Hint</em></span>: it may help to note first what the integral over the base of the holder is.</p>
<p>For the first part we need the mass in the gas holder, which given that <span class="math inline">\(\rho\)</span> is the density is equal to <span class="math inline">\(M_{\rm total}=\int_V\rho\,dV\)</span>. Split this integral into two parts, the first over the cylinder and the second over the hemispherical top. A convenient choice of coordinates is to put the origin at the centre of the circular base, which will therefore be in the plane <span class="math inline">\(z=0\)</span>. Then <span class="math display">\[\begin{aligned}
M_{\rm cylinder}
&amp;=\int_0^H\int_{x^2+y^2\le R^2}\!\!Ce^{-z}\,dxdydz\\
&amp;=\int_0^H\pi R^2\,Ce^{-z}\,dz\\
&amp;=\pi CR^2\left[-e^{-z}\right]_0^H 
=\pi CR^2\left(1-e^{-H}\right)\,.\end{aligned}\]</span> For the top, we have <span class="math inline">\(x^2+y^2+(z-H)^2=R^2\)</span>, since it is centred at <span class="math inline">\((0,0,H)\)</span>. Setting <span class="math inline">\(w=z-H\)</span> the required integral is <span class="math display">\[\begin{aligned}
M_{\rm top}
&amp;=\int_0^{R}\int_{x^2+y^2\le R^2-w^2}\!\!Ce^{-(w+H)}\,dxdydw\\
&amp;=\int_0^R\pi (R^2-w^2)\,Ce^{-w-H}\,dw\\
&amp;=\pi Ce^{-H}\!\int_0^R(R^2-w^2)\,e^{-w}\,dw\,.\end{aligned}\]</span> Now <span class="math inline">\(\int_0^RR^2e^{-w}\,dw=R^2\left[-e^{-w}\right]_0^R=R^2(1-e^{-R})\)</span>, while <span class="math display">\[\begin{aligned}
		\int_0^Rw^2e^{-w}\,dw &amp;=
		\left[-w^2e^{-w}\right]_0^R+\int_0^R2we^{-w}dw \\
		&amp;=
		-R^2e^{-R}+
		\left[-2we^{-w}\right]_0^R+\int_0^R2e^{-w}dw \\
		&amp;=
		-R^2e^{-R}-2Re^{-R}+2-2e^{-R}.
	\end{aligned}\]</span> Adding up the bits, <span class="math display">\[M_{\rm top} = \pi Ce^{-H}\bigl(R^2-2+2Re^{-R}+2e^{-R}\bigr)\]</span> and so the total mass is <span class="math display">\[M_{\rm total}=M_{\rm cylinder} + M_{\rm top}
=\pi CR^2+2\pi Ce^{-H}
\bigl( Re^{-R}+e^{-R}-1\bigr)\,.\]</span> (Not the most edifying calculation in the world!)</p>
<p>For the second part, we need the integral over the curved surface, which we will call <span class="math inline">\(S\)</span>. This is the boundary <span class="math inline">\(\partial V\)</span> of <span class="math inline">\(V\)</span> less the flat bit on the bottom. However, as suggested by the hint, we can notice that <span class="math inline">\({\bf F}\cdot\widehat{{\bf n}}=0\)</span> on this flat bit (since <span class="math inline">\(\widehat{{\bf n}}=-{\bf e_3}\)</span> there). Hence <span class="math display">\[\int_S{\bf F}\cdot d{\bf A}=
\int_S{\bf F}\cdot\widehat{{\bf n}}\,dA=
\int_{\partial V}{\bf F}\cdot\widehat{{\bf n}}\,dA=
\int_{\partial V}{\bf F}\cdot d{\bf A}=
\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf F}\,dV\]</span> using the divergence theorem, and putting in rather more steps than strictly needed. Now <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf F}=Ce^{-z}\)</span>, which is exactly the function <span class="math inline">\(\rho\)</span> we took the trouble to integrate over <span class="math inline">\(V\)</span> in the first part. Hence <span class="math display">\[\int_S{\bf F}\cdot d{\bf A}=\pi CR^2+2\pi Ce^{-H}
\bigl( Re^{-R}+e^{-R}-1\bigr)\,.\]</span></p>
<p>Exam question June 2001 (Section B): In electrostatic theory, Gauss’ law states that the flux of an electrostatic (vector) field <span class="math inline">\({\bf E} ({\bf x}\,)\)</span> over some closed surface <span class="math inline">\(S\)</span> is equal to the enclosed charge <span class="math inline">\(q\)</span> divided by a constant <span class="math inline">\(\epsilon_0\)</span> : <span class="math display">\[\int_S {\bf E} ({ {\bf x}\,})\cdot{\bf dA}\,=  \frac{q}{\epsilon_0}\,.\]</span> If the electrostatic field is given by <span class="math inline">\({\bf E}(x,y)=\alpha x {\bf e_1}+
\beta y {\bf e_2}\)</span>, use Gauss’ law to find the total charge in the compact region bounded by the surface S consisting of <span class="math inline">\(S_1\)</span>, the curved portion of the half-cylinder <span class="math inline">\(z=(R^2-y^2)^{1/2}\)</span> of length <span class="math inline">\(H\)</span>; <span class="math inline">\(S_2\)</span> and <span class="math inline">\(S_3\)</span> the two semi-circular plane end pieces; and <span class="math inline">\(S_4\)</span>, the rectangular portion of the <span class="math inline">\((x,y)\)</span>-plane. (In equations, the relevant bounded region may be described by <span class="math inline">\(z^2+y^2 \le R^2, z \ge 0, -\frac{H}{2} \le x \le \frac{H}{2}\)</span>). Express your result in terms of <span class="math inline">\(\alpha, \beta, R\)</span> and <span class="math inline">\(H\)</span>.</p>
<p>Since the surface is closed we can use the divergence theorem to switch from a surface to a volume integral. First calculate <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf E}=\alpha+\beta\)</span> ; then, letting <span class="math inline">\(V\)</span> denote the region enclosed by <span class="math inline">\(S\)</span>, <span class="math display">\[\begin{aligned}
\int_S{\bf E}\cdot d{\bf A}&amp;=\int_V(\alpha+\beta)\,dV\\
&amp;= (\alpha+\beta)\times\mbox{(volume~of~the~half~cylinder)}\\
&amp;= {\textstyle\frac{1}{2}}(\alpha+\beta)\pi R^2H.\end{aligned}\]</span> Hence the total charge enclosed is <span class="math inline">\(q={\textstyle\frac{1}{2}}\epsilon_0(\alpha+\beta)\pi
R^2H\)</span>.</p>
<p>Exam question June 2002 (Section A): In electrostatic theory, Gauss’ law states that the flux of an electrostatic field <span class="math inline">\({\bf E} ({ {\bf x}\,})\)</span> over a closed surface <span class="math inline">\(S\)</span> is given by the ratio of the enclosed charge <span class="math inline">\(q\)</span> and a constant <span class="math inline">\(\epsilon_0\)</span>. Calculate the electric charge enclosed in the ellipsoid of equation <span class="math inline">\(x^2+\frac{1}{2}y^2+z^2=1\)</span> in the presence of<br />
</p>
<ul>
<li><p>an electrostatic field <span class="math inline">\({\bf E} ({ {\bf x}\,})= y z {\bf e_1}+x z {\bf e_2}
+x y {\bf e_3}\)</span> ,</p></li>
<li><p>an electrostatic field <span class="math inline">\({\bf E} ({ {\bf x}\,})=x {\bf e_1}+ y {\bf e_2}+ z
{\bf e_3}\)</span> .</p></li>
</ul>
<p>In both parts, the best tactic to replace <span class="math inline">\(\int_S{\bf E}\cdot d{\bf A}\)</span> by <span class="math inline">\(\int_V\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf E}\,dV\)</span>, quoting the divergence theorem.</p>
<ul>
<li><p>In this case, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf E}=0\)</span>, so the enclosed electric charge is zero.</p></li>
<li><p>This time, <span class="math inline">\(\underline{\nabla\mkern-2mu}\mkern 3mu \cdot{\bf E}=3\)</span>, so the enclosed electric charge is equal to <span class="math inline">\(3\)</span> times the volume of the ellipsoid, multiplied by <span class="math inline">\(\epsilon_0\)</span>. The given ellipsoid is a unit sphere (which has volume <span class="math inline">\({\textstyle\frac{4}{3}}\pi\)</span>), expanded by a factor of <span class="math inline">\(\sqrt{2}\)</span> in the <span class="math inline">\(y\)</span> direction. Hence its volume is <span class="math inline">\(\sqrt{2}\times{\textstyle\frac{4}{3}}\,\pi\)</span>, and the charge enclosed is <span class="math inline">\(4\sqrt{2}\,\pi\,\epsilon_0\)</span>. (Alternatively, one can grind through the volume integral explicitly.)</p></li>
</ul>
<script>
function doNumbering() {
	// The syntax to read the structured data from the yaml is horrible, template literals fix the problem but probably aren't widely supported enough. Escaping line breaks is browser dependant. I don't know if there's a better way?
	// Note that the data from the yaml file is manipulated into an array, and then parsed back into strings later, but I didn't want to deal with the pandoc templating syntax longer than necessary.
	var supportedEnvsArrayString = ' .definition;;; .theorem;;; .lemma;;; .example;;; .proposition;;; .remark;;; .corollary';
	var supportedEnvsArray = supportedEnvsArrayString.split("|||");
	supportedEnvsArray = supportedEnvsArray.map(inner => inner.split(";;;"));
	var numberWithin = '1';
	var counterOffset = '';
	var subcounterOffset = '';
	var problemCounter = '57';
	const partLabels = 'abcdefghijklmnopqrstuvwxyz'.split('');
	
	// counterOffset may be negative, and by default if specified on the command line this gets string concatenated with the default given in the yaml config and this then causes a problem. Can be fixed by removing the default in the config file and converting to an int, but this causes a NaN error if no value is suplied on the command line, so if NaN set to 0.
	counterOffset = parseInt(counterOffset);
	if (isNaN(counterOffset)) {
		counterOffset = 0;
	}
	
	subcounterOffset = parseInt(subcounterOffset);
	if (isNaN(subcounterOffset)) {
		subcounterOffset = 0;
	}
	
	problemCounter = parseInt(problemCounter);
	if (isNaN(problemCounter)) {
		problemCounter = 1;
	}
	
	function sanitiseSelector(selector) {
		// tex labels often have colons in which need escaping. There may be other escaping needed here. Unfortunately neither encodeURI nor encodeURIComponent do what I need, so use regex to do the escaping manually.
		var sanitised = selector.replace(/\:/g,"\\\:");
		sanitised = sanitised.replace(/(^[\d])/,"\\3$1 ");
		sanitised = sanitised.replace(/\//g,"\\\/");
		return sanitised
	}
	
	function labelLinks() {
		var refs = document.querySelectorAll("a[data-reference-type=ref]")
		for (ref of refs) {
			// Escape colons (or other) from the link title.
			var ref_label = sanitiseSelector(ref.getAttribute("data-reference"));
			// Hopefully ref is a reference to a div or a section, which should have the associated id. If so, we just need the data-number from the relevant DOM item.
			var ref_to = document.querySelector("#"+ref_label);
			if (ref_to !== null) {
				var ref_number = ref_to.getAttribute("data-number");
			} else {
				// If ref is being used for an equation, then we need to try to parse the mathjax divs. This is fragile, but try to find the span which corresponds to the equation number we need.
				try {
					var mathjax_ref = "#mjx-eqn-"+ref_label;
					ref_to = document.querySelector(mathjax_ref);
					// Since this is a ref, we don't want the parens to be returned, so find the equation number and strip the parens.
					var ref_number = ref_to.querySelector(".mjx-char").innerHTML.replace(/[()]/g,"");
					ref.setAttribute("href",mathjax_ref);
				}
				// If we can't find a place to link to, just indicate a missing link.
				catch (err){
					var ref_number = "???"
				}
			}
			ref.innerHTML = ref_number;
		};
	}
	
	function numberEnvs() {
		for (var levelSpec = 0; levelSpec <= numberWithin; levelSpec++) {
			var reqLevels = document.querySelectorAll(".level"+levelSpec);
			for (var level of reqLevels) {
				levelCount = level.getAttribute("data-number");
				levelCount = String(parseFloat(levelCount)+(counterOffset));
				levelCount = levelCount+(("."+subcounterOffset).repeat(numberWithin-levelSpec));
				for (var counter of supportedEnvsArray) {
					var envCount = 1;
					var envs = level.querySelectorAll(counter.join(", "));
					for (var env of envs) {
						env.setAttribute("data-number",levelCount+"."+envCount);
						envCount += 1;
					}
				}
			}
		}
	}
	
	function numberFigs() {
		// Figures should either be in a figure environment, or a table with image class imageTable thanks to the tableCaps filter.
		figs = document.querySelectorAll("figure, .imageTable");
		var fig_no = 1
		for (var fig of figs) {
			var cap
			// For figures, we want to move the id to the figure, and set the data-number on both the figure and the figcaption
			if (fig.nodeName == "FIGURE") {
				cap = fig.querySelector("figcaption");
				var img = fig.querySelector("img, embed")
				if (img) {
					var img_id = img.getAttribute("id");
					fig.setAttribute("id",img_id);
					img.removeAttribute("id");
				}
			// for tables (which must be .imageTable due to the querySelector above), we want to set the data-number on the table and the caption
			} else if (fig.nodeName == "TABLE") {
				cap = fig.querySelector("caption");
			}
			cap.setAttribute("data-number",fig_no);
			fig.setAttribute("data-number",fig_no);
			fig_no += 1;
		}
	}
	
	function numberGlobals() {
		// This function numbers any environments that just use a global counter, such as a problem number on a problems sheet, where there are no sections to number with respect to.
		probsols = document.querySelectorAll(".problem, .solution");
		var prob_no = problemCounter;
		var partNo = 0;
		for (var probsol of probsols) {
			if (probsol.className == "problem"){
				prob_no +=1;
				partNo = 0;
				probsol.setAttribute("data-number",prob_no);
			}
			else {
				if (probsol.parentNode.nodeName == "LI") {
					var partLabel = partLabels[partNo];
					probsol.setAttribute("data-number",prob_no.toString()+partLabel);
					partNo +=1;
				}
				else{
					probsol.setAttribute("data-number",prob_no);
				}
			}
			
		}
		// sols = document.querySelectorAll(".solution");
// 		var sol_no = problemCounter;
// 		for (var sol of sols) {
// 			sol.setAttribute("data-number",sol_no);
// 			sol_no +=1
// 		}
	}
	
	// labelLinks() should occur last, so that the data-numbers have been correctly set first.
	numberEnvs();
	numberFigs();
	numberGlobals();
	labelLinks();
}
</script><script>
	var imageDir = './Images/'
	imgs = document.querySelectorAll("img");
	for (var img of imgs) {
		imgsrc = img.getAttribute("src");
		img.setAttribute("src",imageDir.concat(imgsrc));
	}
</script></body>
</html>
